!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("rxcc",[],e):"object"==typeof exports?exports.rxcc=e():t.rxcc=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=27)}([function(t,e,n){(function(){"use strict";var e={"@@functional/placeholder":!0},n=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,o){return e.apply(this,arguments)};case 5:return function(t,n,r,o,i){return e.apply(this,arguments)};case 6:return function(t,n,r,o,i,s){return e.apply(this,arguments)};case 7:return function(t,n,r,o,i,s,u){return e.apply(this,arguments)};case 8:return function(t,n,r,o,i,s,u,c){return e.apply(this,arguments)};case 9:return function(t,n,r,o,i,s,u,c,a){return e.apply(this,arguments)};case 10:return function(t,n,r,o,i,s,u,c,a,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}},r=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n},o=function(){return Array.prototype.slice.call(arguments)},i=function(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))},s=function(t){return function(){return!t.apply(this,arguments)}},u=function(t,e){t=t||[],e=e||[];var n,r=t.length,o=e.length,i=[];for(n=0;n<r;)i[i.length]=t[n],n+=1;for(n=0;n<o;)i[i.length]=e[n],n+=1;return i},c=function(t,e,n){for(var r=0,o=n.length;r<o;){if(t(e,n[r]))return!0;r+=1}return!1},a=function(t,e){for(var n=0,r=e.length,o=[];n<r;)t(e[n])&&(o[o.length]=e[n]),n+=1;return o},l=function(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}},f=function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]},h=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)},p=function(t){return t},d=function(){var t=Object.prototype.toString;return"[object Arguments]"===t.call(arguments)?function(e){return"[object Arguments]"===t.call(e)}:function(t){return h("callee",t)}}(),v=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)},m=function(t){return"[object Function]"===Object.prototype.toString.call(t)},y=Number.isInteger||function(t){return t<<0===t},b=function(t){return"[object Number]"===Object.prototype.toString.call(t)},_=function(t){return"[object Object]"===Object.prototype.toString.call(t)},g=function(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]},w=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},E=function(t){return"[object String]"===Object.prototype.toString.call(t)},O=function(t){return"function"==typeof t["@@transducer/step"]},C=function(t,e){for(var n=0,r=e.length,o=Array(r);n<r;)o[n]=t(e[n]),n+=1;return o},x=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,r=arguments.length;n<r;){var o=arguments[n];if(null!=o)for(var i in o)h(i,o)&&(e[i]=o[i]);n+=1}return e},S=function(t){return[t]},k=function(t,e){return function(){return e.call(this,t.apply(this,arguments))}},N=function(t,e){return function(){var n=this;return t.apply(n,arguments).then(function(t){return e.call(n,t)})}},A=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'},j=function(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}},T=function t(e,n,r){switch(arguments.length){case 1:return t(e,0,e.length);case 2:return t(e,n,e.length);default:for(var o=[],i=0,s=Math.max(0,Math.min(e.length,r)-n);i<s;)o[i]=e[n+i],i+=1;return o}},D=function(){var t=function(t){return(t<10?"0":"")+t};return"function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(e){return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}(),R={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},M=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},function(e){return new t(e)}}(),F=function(t,e){for(var n=0,r=e.length-(t-1),o=new Array(r>=0?r:0);n<r;)o[n]=T(e,n,n+t),n+=1;return o},P="function"==typeof Object.assign?Object.assign:x,I=function(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return v(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,T(arguments,0,n-1))}},q=function(t){return function e(n){return 0===arguments.length||g(n)?e:t.apply(this,arguments)}},L=function(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return g(n)?e:q(function(e){return t(n,e)});default:return g(n)&&g(r)?e:g(n)?q(function(e){return t(e,r)}):g(r)?q(function(e){return t(n,e)}):t(n,r)}}},V=function(t){return function e(n,r,o){switch(arguments.length){case 0:return e;case 1:return g(n)?e:L(function(e,r){return t(n,e,r)});case 2:return g(n)&&g(r)?e:g(n)?L(function(e,n){return t(e,r,n)}):g(r)?L(function(e,r){return t(n,e,r)}):q(function(e){return t(n,r,e)});default:return g(n)&&g(r)&&g(o)?e:g(n)&&g(r)?L(function(e,n){return t(e,n,o)}):g(n)&&g(o)?L(function(e,n){return t(e,r,n)}):g(r)&&g(o)?L(function(e,r){return t(n,e,r)}):g(n)?q(function(e){return t(e,r,o)}):g(r)?q(function(e){return t(n,e,o)}):g(o)?q(function(e){return t(n,r,e)}):t(n,r,o)}}},U=function t(e,r,o){return function(){for(var i=[],s=0,u=e,c=0;c<r.length||s<arguments.length;){var a;c<r.length&&(!g(r[c])||s>=arguments.length)?a=r[c]:(a=arguments[s],s+=1),i[c]=a,g(a)||(u-=1),c+=1}return u<=0?o.apply(this,i):n(u,t(e,i,o))}},B=function(t,e,n){return function(){var r=arguments.length;if(0===r)return n();var o=arguments[r-1];if(!v(o)){var i=T(arguments,0,r-1);if("function"==typeof o[t])return o[t].apply(o,i);if(O(o)){return e.apply(null,i)(o)}}return n.apply(this,arguments)}},W=function(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return T(e,0,n+1)},G=function(){function t(t,e){this.xf=e,this.f=t,this.all=!0}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)||(this.all=!1,t=j(this.xf["@@transducer/step"](t,!1))),t},L(function(e,n){return new t(e,n)})}(),z=function(){function t(t,e){this.xf=e,this.f=t,this.any=!1}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.any=!0,t=j(this.xf["@@transducer/step"](t,!0))),t},L(function(e,n){return new t(e,n)})}(),H=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.store(e),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return u(T(this.acc,this.pos),T(this.acc,0,this.pos))},L(function(e,n){return new t(e,n)})}(),$=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},L(function(e,n){return new t(e,n)})}(),J=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},L(function(e,n){return new t(e,n)})}(),K=function(){function t(t,e){this.xf=e,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=function(){return this.xf["@@transducer/init"]()},t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,e)&&(n=!0):this.seenFirstValue=!0,this.lastValue=e,n?t:this.xf["@@transducer/step"](t,e)},L(function(e,n){return new t(e,n)})}(),X=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(t,e){if(this.f){if(this.f(e))return t;this.f=null}return this.xf["@@transducer/step"](t,e)},L(function(e,n){return new t(e,n)})}(),Q=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},L(function(e,n){return new t(e,n)})}(),Z=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=j(this.xf["@@transducer/step"](t,e))),t},L(function(e,n){return new t(e,n)})}(),Y=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.found=!0,t=j(this.xf["@@transducer/step"](t,this.idx))),t},L(function(e,n){return new t(e,n)})}(),tt=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.last=e),t},L(function(e,n){return new t(e,n)})}(),et=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.lastIdx=this.idx),t},L(function(e,n){return new t(e,n)})}(),nt=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},L(function(e,n){return new t(e,n)})}(),rt=function(){function t(t,e,n,r){this.valueFn=t,this.valueAcc=e,this.keyFn=n,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(h(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]),t["@@transducer/reduced"])){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),t},U(4,[],function(e,n,r,o){return new t(e,n,r,o)})}(),ot=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.i>=this.n?j(n):n},L(function(e,n){return new t(e,n)})}(),it=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):j(t)},L(function(e,n){return new t(e,n)})}(),st=L(function(t,e){return Number(t)+Number(e)}),ut=V(function(t,e,n){if(e>=n.length||e<-n.length)return n;var r=e<0?n.length:0,o=r+e,i=u(n);return i[o]=t(n[o]),i}),ct=L(B("all",G,function(t,e){for(var n=0;n<e.length;){if(!t(e[n]))return!1;n+=1}return!0})),at=q(function(t){return function(){return t}}),lt=L(function(t,e){return t&&e}),ft=L(B("any",z,function(t,e){for(var n=0;n<e.length;){if(t(e[n]))return!0;n+=1}return!1})),ht=L(B("aperture",H,F)),pt=L(function(t,e){return u(e,[t])}),dt=L(function(t,e){return t.apply(this,e)}),vt=V(function(t,e,n){var r={};for(var o in n)r[o]=n[o];return r[t]=e,r}),mt=V(function t(e,n,r){switch(e.length){case 0:return n;case 1:return vt(e[0],n,r);default:return vt(e[0],t(T(e,1),n,Object(r[e[0]])),r)}}),yt=L(function(t,e){return n(t.length,function(){return t.apply(e,arguments)})}),bt=V(function(t,e,n){if(t>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<t?t:n>e?e:n}),_t=q(function(t){return function(e,n){return t(e,n)?-1:t(n,e)?1:0}}),gt=L(function(t,e){return 1===t?q(e):n(t,U(t,[],e))}),wt=st(-1),Et=L(function(t,e){return null==e||e!==e?t:e}),Ot=V(function(t,e,n){for(var r=[],o=0,i=e.length;o<i;)c(t,e[o],n)||c(t,e[o],r)||r.push(e[o]),o+=1;return r}),Ct=L(function(t,e){var n={};for(var r in e)r!==t&&(n[r]=e[r]);return n}),xt=L(function t(e,n){switch(e.length){case 0:return n;case 1:return Ct(e[0],n);default:var r=e[0],o=T(e,1);return null==n[r]?n:vt(r,t(o,n[r]),n)}}),St=L(function(t,e){return t/e}),kt=L(B("dropWhile",X,function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return T(e,n)})),Nt=q(function(t){return null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():v(t)?[]:E(t)?"":_(t)?{}:d(t)?function(){return arguments}():void 0}),At=L(function t(e,n){var r,o,i,s={};for(o in n)r=e[o],i=typeof r,s[o]="function"===i?r(n[o]):"object"===i?t(e[o],n[o]):n[o];return s}),jt=L(B("find",Z,function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}})),Tt=L(B("findIndex",Y,function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return n;n+=1}return-1})),Dt=L(B("findLast",tt,function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return e[n];n-=1}})),Rt=L(B("findLastIndex",et,function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return n;n-=1}return-1})),Mt=L(I("forEach",function(t,e){for(var n=e.length,r=0;r<n;)t(e[r]),r+=1;return e})),Ft=q(function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e}),Pt=L(function(t,e){for(var n=[],r=0,o=e.length;r<o;){for(var i=r+1;i<o&&t(e[r],e[i]);)i+=1;n.push(e.slice(r,i)),r=i}return n}),It=L(function(t,e){return t>e}),qt=L(function(t,e){return t>=e}),Lt=L(h),Vt=L(function(t,e){return t in e}),Ut=L(function(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e}),Bt=q(p),Wt=V(function(t,e,n){return gt(Math.max(t.length,e.length,n.length),function(){return t.apply(this,arguments)?e.apply(this,arguments):n.apply(this,arguments)})}),Gt=st(1),zt=V(function(t,e,n){t=t<n.length&&t>=0?t:n.length;var r=T(n);return r.splice(t,0,e),r}),Ht=V(function(t,e,n){return t=t<n.length&&t>=0?t:n.length,u(u(T(n,0,t),e),T(n,t))}),$t=L(I("intersperse",function(t,e){for(var n=[],r=0,o=e.length;r<o;)r===o-1?n.push(e[r]):n.push(e[r],t),r+=1;return n})),Jt=L(function(t,e){return null!=e&&e.constructor===t||e instanceof t}),Kt=q(function(t){return!!v(t)||!!t&&("object"==typeof t&&(!E(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}),Xt=q(function(t){return null==t}),Qt=function(){var t=!{toString:null}.propertyIsEnumerable("toString"),e=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],n=function(){return arguments.propertyIsEnumerable("length")}(),r=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1};return q("function"!=typeof Object.keys||n?function(o){if(Object(o)!==o)return[];var i,s,u=[],c=n&&d(o);for(i in o)!h(i,o)||c&&"length"===i||(u[u.length]=i);if(t)for(s=e.length-1;s>=0;)i=e[s],h(i,o)&&!r(u,i)&&(u[u.length]=i),s-=1;return u}:function(t){return Object(t)!==t?[]:Object.keys(t)})}(),Zt=q(function(t){var e,n=[];for(e in t)n[n.length]=e;return n}),Yt=q(function(t){return null!=t&&b(t.length)?t.length:NaN}),te=L(function(t,e){return t<e}),ee=L(function(t,e){return t<=e}),ne=V(function(t,e,n){for(var r=0,o=n.length,i=[],s=[e];r<o;)s=t(s[0],n[r]),i[r]=s[1],r+=1;return[s[0],i]}),re=V(function(t,e,n){for(var r=n.length-1,o=[],i=[e];r>=0;)i=t(i[0],n[r]),o[r]=i[1],r-=1;return[i[0],o]}),oe=L(function(t,e){return e.match(t)||[]}),ie=L(function(t,e){return y(t)?!y(e)||e<1?NaN:(t%e+e)%e:NaN}),se=L(function(t,e){return e>t?e:t}),ue=V(function(t,e,n){return t(n)>t(e)?n:e}),ce=L(function(t,e){return P({},t,e)}),ae=q(function(t){return P.apply(null,[{}].concat(t))}),le=V(function(t,e,n){var r,o={};for(r in e)h(r,e)&&(o[r]=h(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)h(r,n)&&!h(r,o)&&(o[r]=n[r]);return o}),fe=L(function(t,e){return e<t?e:t}),he=V(function(t,e,n){return t(n)<t(e)?n:e}),pe=L(function(t,e){return t%e}),de=L(function(t,e){return t*e}),ve=L(function(t,e){switch(t){case 0:return function(){return e.call(this)};case 1:return function(t){return e.call(this,t)};case 2:return function(t,n){return e.call(this,t,n)};case 3:return function(t,n,r){return e.call(this,t,n,r)};case 4:return function(t,n,r,o){return e.call(this,t,n,r,o)};case 5:return function(t,n,r,o,i){return e.call(this,t,n,r,o,i)};case 6:return function(t,n,r,o,i,s){return e.call(this,t,n,r,o,i,s)};case 7:return function(t,n,r,o,i,s,u){return e.call(this,t,n,r,o,i,s,u)};case 8:return function(t,n,r,o,i,s,u,c){return e.call(this,t,n,r,o,i,s,u,c)};case 9:return function(t,n,r,o,i,s,u,c,a){return e.call(this,t,n,r,o,i,s,u,c,a)};case 10:return function(t,n,r,o,i,s,u,c,a,l){return e.call(this,t,n,r,o,i,s,u,c,a,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),me=q(function(t){return-t}),ye=L(s(B("any",z,ft))),be=q(function(t){return!t}),_e=L(function(t,e){var n=t<0?e.length+t:t;return E(e)?e.charAt(n):e[n]}),ge=q(function(t){return gt(t<0?1:t+1,function(){return _e(t,arguments)})}),we=L(function(t,e){var n={};return n[t]=e,n}),Ee=q(S),Oe=q(function(t){var e,r=!1;return n(t.length,function(){return r?e:(r=!0,e=t.apply(this,arguments))})}),Ce=L(function(t,e){return t||e}),xe=function(){var t=function(e){return{value:e,map:function(n){return t(n(e))}}};return V(function(e,n,r){return e(function(e){return t(n(e))})(r).value})}(),Se=L(function(t,e){return[t,e]}),ke=L(function(t,e){for(var n=e,r=0;r<t.length;){if(null==n)return;n=n[t[r]],r+=1}return n}),Ne=V(function(t,e,n){return Et(t,ke(e,n))}),Ae=V(function(t,e,n){return e.length>0&&t(ke(e,n))}),je=L(function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n}),Te=L(function(t,e){for(var n={},r=0,o=t.length;r<o;){var i=t[r];n[i]=e[i],r+=1}return n}),De=L(function(t,e){var n={};for(var r in e)t(e[r],r,e)&&(n[r]=e[r]);return n}),Re=L(function(t,e){return u([t],e)}),Me=L(function(t,e){return e[t]}),Fe=V(function(t,e,n){return Jt(t,n[e])}),Pe=V(function(t,e,n){return null!=n&&h(e,n)?n[e]:t}),Ie=V(function(t,e,n){return t(n[e])}),qe=L(function(t,e){for(var n=t.length,r=[],o=0;o<n;)r[o]=e[t[o]],o+=1;return r}),Le=L(function(t,e){if(!b(t)||!b(e))throw new TypeError("Both arguments to range must be numbers");for(var n=[],r=t;r<e;)n.push(r),r+=1;return n}),Ve=V(function(t,e,n){for(var r=n.length-1;r>=0;)e=t(e,n[r]),r-=1;return e}),Ue=q(j),Be=V(function(t,e,n){return u(T(n,0,Math.min(t,n.length)),T(n,Math.min(n.length,t+e)))}),We=V(function(t,e,n){return n.replace(t,e)}),Ge=q(function(t){return E(t)?t.split("").reverse().join(""):T(t).reverse()}),ze=V(function(t,e,n){for(var r=0,o=n.length,i=[e];r<o;)e=t(e,n[r]),i[r+1]=e,r+=1;return i}),He=V(function(t,e,n){return xe(t,at(e),n)}),$e=V(I("slice",function(t,e,n){return Array.prototype.slice.call(n,t,e)})),Je=L(function(t,e){return T(e).sort(t)}),Ke=L(function(t,e){return T(e).sort(function(e,n){var r=t(e),o=t(n);return r<o?-1:r>o?1:0})}),Xe=L(function(t,e){return[$e(0,t,e),$e(t,Yt(e),e)]}),Qe=L(function(t,e){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;r<e.length;)n.push($e(r,r+=t,e));return n}),Ze=L(function(t,e){for(var n=0,r=e.length,o=[];n<r&&!t(e[n]);)o.push(e[n]),n+=1;return[o,T(e,n)]}),Ye=L(function(t,e){return Number(t)-Number(e)}),tn=I("tail",$e(1,1/0)),en=L(B("take",ot,function(t,e){return $e(0,t<0?1/0:t,e)})),nn=L(function(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return T(e,n+1,1/0)}),rn=L(B("takeWhile",it,function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return T(e,0,n)})),on=L(function(t,e){return t(e),e}),sn=L(function(t,e){var n,r=Number(e),o=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=new Array(r);o<r;)n[o]=t(o),o+=1;return n}),un=q(function(t){var e=[];for(var n in t)h(n,t)&&(e[e.length]=[n,t[n]]);return e}),cn=q(function(t){var e=[];for(var n in t)e[e.length]=[n,t[n]];return e}),an=q(function(t){for(var e=0,n=[];e<t.length;){for(var r=t[e],o=0;o<r.length;)void 0===n[o]&&(n[o]=[]),n[o].push(r[o]),o+=1;e+=1}return n}),ln=function(){var t="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",e="function"==typeof String.prototype.trim;return q(e&&!t.trim()&&"​".trim()?function(t){return t.trim()}:function(e){var n=new RegExp("^["+t+"]["+t+"]*"),r=new RegExp("["+t+"]["+t+"]*$");return e.replace(n,"").replace(r,"")})}(),fn=L(function(t,e){return n(t.length,function(){try{return t.apply(this,arguments)}catch(t){return e.apply(this,u([t],arguments))}})}),hn=q(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),pn=q(function(t){return function(){return t(T(arguments))}}),dn=q(function(t){return ve(1,t)}),vn=L(function(t,e){return gt(t,function(){for(var n,r=1,o=e,i=0;r<=t&&"function"==typeof o;)n=r===t?arguments.length:i+o.length,o=o.apply(this,T(arguments,i,n)),r+=1,i=n;return o})}),mn=L(function(t,e){for(var n=t(e),r=[];n&&n.length;)r[r.length]=n[0],n=t(n[1]);return r}),yn=L(function(t,e){for(var n,r=0,o=e.length,i=[];r<o;)n=e[r],c(t,n,i)||(i[i.length]=n),r+=1;return i}),bn=V(function(t,e,n){return t(n)?n:e(n)}),_n=V(function(t,e,n){for(var r=n;!t(r);)r=e(r);return r}),gn=V(function(t,e,n){return ut(at(e),t,n)}),wn=L(function(t,e){return gt(e.length,function(){for(var n=[],r=0;r<e.length;)n.push(e[r].call(this,arguments[r])),r+=1;return t.apply(this,n.concat(T(arguments,e.length)))})}),En=q(function(t){for(var e=Qt(t),n=e.length,r=[],o=0;o<n;)r[o]=t[e[o]],o+=1;return r}),On=q(function(t){var e,n=[];for(e in t)n[n.length]=t[e];return n}),Cn=function(){var t=function(t){return{value:t,map:function(){return this}}};return L(function(e,n){return e(t)(n).value})}(),xn=V(function(t,e,n){return t(n)?e(n):n}),Sn=L(function(t,e){for(var n in t)if(h(n,t)&&!t[n](e[n]))return!1;return!0}),kn=L(function(t,e){return gt(t.length,function(){return e.apply(this,u([t],arguments))})}),Nn=L(function(t,e){for(var n,r=0,o=t.length,i=e.length,s=[];r<o;){for(n=0;n<i;)s[s.length]=[t[r],e[n]],n+=1;r+=1}return s}),An=L(function(t,e){for(var n=[],r=0,o=Math.min(t.length,e.length);r<o;)n[r]=[t[r],e[r]],r+=1;return n}),jn=L(function(t,e){for(var n=0,r=Math.min(t.length,e.length),o={};n<r;)o[t[n]]=e[n],n+=1;return o}),Tn=V(function(t,e,n){for(var r=[],o=0,i=Math.min(e.length,n.length);o<i;)r[o]=t(e[o],n[o]),o+=1;return r}),Dn=at(!1),Rn=at(!0),Mn=function t(e,n,r,o){var s=function(i){for(var s=n.length,u=0;u<s;){if(e===n[u])return r[u];u+=1}n[u+1]=e,r[u+1]=i;for(var c in e)i[c]=o?t(e[c],n,r,!0):e[c];return i};switch(hn(e)){case"Object":return s({});case"Array":return s([]);case"Date":return new Date(e.valueOf());case"RegExp":return i(e);default:return e}},Fn=function(t){return L(function(e,r){return n(Math.max(0,e.length-r.length),function(){return e.apply(this,t(r,arguments))})})},Pn=function(t,e){return en(t<e.length?e.length-t:0,e)},In=function t(e,n,o,i){if(Ut(e,n))return!0;if(hn(e)!==hn(n))return!1;if(null==e||null==n)return!1;if("function"==typeof e.equals||"function"==typeof n.equals)return"function"==typeof e.equals&&e.equals(n)&&"function"==typeof n.equals&&n.equals(e);switch(hn(e)){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===f(e.constructor))return e===n;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof n||!Ut(e.valueOf(),n.valueOf()))return!1;break;case"Date":if(!Ut(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(e.source!==n.source||e.global!==n.global||e.ignoreCase!==n.ignoreCase||e.multiline!==n.multiline||e.sticky!==n.sticky||e.unicode!==n.unicode)return!1;break;case"Map":case"Set":if(!t(r(e.entries()),r(n.entries()),o,i))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=Qt(e);if(s.length!==Qt(n).length)return!1;for(var u=o.length-1;u>=0;){if(o[u]===e)return i[u]===n;u-=1}for(o.push(e),i.push(n),u=s.length-1;u>=0;){var c=s[u];if(!h(c,n)||!t(n[c],e[c],o,i))return!1;u-=1}return o.pop(),i.pop(),!0},qn=function(t){return function e(n){for(var r,o,i,s=[],u=0,c=n.length;u<c;){if(Kt(n[u]))for(r=t?e(n[u]):n[u],i=0,o=r.length;i<o;)s[s.length]=r[i],i+=1;else s[s.length]=n[u];u+=1}return s}},Ln=function(){function t(t,e,n){for(var r=0,o=n.length;r<o;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}function e(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function n(t,e,n){return t["@@transducer/result"](n.reduce(yt(t["@@transducer/step"],t),e))}var r="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(o,i,s){if("function"==typeof o&&(o=M(o)),Kt(s))return t(o,i,s);if("function"==typeof s.reduce)return n(o,i,s);if(null!=s[r])return e(o,i,s[r]());if("function"==typeof s.next)return e(o,i,s);throw new TypeError("reduce: list must be array or iterable")}}(),Vn=function(){var t={"@@transducer/init":Array,"@@transducer/step":function(t,e){return t.push(e),t},"@@transducer/result":p},e={"@@transducer/init":String,"@@transducer/step":function(t,e){return t+e},"@@transducer/result":p},n={"@@transducer/init":Object,"@@transducer/step":function(t,e){return P(t,Kt(e)?we(e[0],e[1]):e)},"@@transducer/result":p};return function(r){if(O(r))return r;if(Kt(r))return t;if("string"==typeof r)return e;if("object"==typeof r)return n;throw new Error("Cannot create transformer for "+r)}}(),Un=function(){function t(t,e){this.f=t,this.retained=[],this.xf=e}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.retain(t,e):this.flush(t,e)},t.prototype.flush=function(t,e){return t=Ln(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,e)},t.prototype.retain=function(t,e){return this.retained.push(e),t},L(function(e,n){return new t(e,n)})}(),Bn=q(function(t){return gt(t.length,function(){var e=0,n=arguments[0],r=arguments[arguments.length-1],o=T(arguments);return o[0]=function(){var t=n.apply(this,u(arguments,[e,r]));return e+=1,t},t.apply(this,o)})}),Wn=q(function(t){return ve(2,t)}),Gn=q(function(t){return null!=t&&"function"==typeof t.clone?t.clone():Mn(t,[],[],!0)}),zn=q(function(t){return gt(t.length,t)}),Hn=L(B("drop",$,function(t,e){return $e(Math.max(0,t),1/0,e)})),$n=L(B("dropLast",J,Pn)),Jn=L(B("dropLastWhile",Un,W)),Kn=L(function(t,e){return In(t,e,[],[])}),Xn=L(B("filter",Q,function(t,e){return _(e)?Ln(function(n,r){return t(e[r])&&(n[r]=e[r]),n},{},Qt(e)):a(t,e)})),Qn=q(qn(!0)),Zn=q(function(t){return zn(function(e,n){var r=T(arguments);return r[0]=n,r[1]=e,t.apply(this,r)})}),Yn=_e(0),tr=$e(0,-1),er=V(function(t,e,n){var r,o;e.length>n.length?(r=e,o=n):(r=n,o=e);for(var i=[],s=0;s<o.length;)c(t,o[s],r)&&(i[i.length]=o[s]),s+=1;return yn(t,i)}),nr=V(function(t,e,n){return O(t)?Ln(e(t),t["@@transducer/init"](),n):Ln(e(Vn(t)),Mn(t,[],[],!1),n)}),rr=q(function(t){for(var e=Qt(t),n=e.length,r=0,o={};r<n;){var i=e[r],s=t[i],u=h(s,o)?o[s]:o[s]=[];u[u.length]=i,r+=1}return o}),or=q(function(t){for(var e=Qt(t),n=e.length,r=0,o={};r<n;){var i=e[r];o[t[i]]=i,r+=1}return o}),ir=q(function(t){return null!=t&&Kn(t,Nt(t))}),sr=_e(-1),ur=L(function(t,e){if("function"!=typeof e.lastIndexOf||v(e)){for(var n=e.length-1;n>=0;){if(Kn(e[n],t))return n;n-=1}return-1}return e.lastIndexOf(t)}),cr=L(B("map",nt,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return gt(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return Ln(function(n,r){return n[r]=t(e[r]),n},{},Qt(e));default:return C(t,e)}})),ar=L(function(t,e){return Ln(function(n,r){return n[r]=t(e[r],r,e),n},{},Qt(e))}),lr=V(function(t,e,n){return le(function(e,n,r){return t(n,r)},e,n)}),fr=Fn(u),hr=Fn(Zn(u)),pr=V(function(t,e,n){return Kn(ke(t,n),e)}),dr=L(function(t,e){return cr(Me(t),e)}),vr=wn(C,[Te,Bt]),mr=V(function(t,e,n){return Kn(e,n[t])}),yr=V(Ln),br=U(4,[],B("reduceBy",rt,function(t,e,n,r){return Ln(function(r,o){var i=n(o);return r[i]=t(h(i,r)?r[i]:e,o),r},{},r)})),_r=U(4,[],function(t,e,n,r){return Ln(function(n,r){return t(n,r)?e(n,r):j(n)},n,r)}),gr=L(function(t,e){return Xn(s(t),e)}),wr=L(function(t,e){return sn(at(t),e)}),Er=yr(st,0),Or=L(function(t,e){return Hn(t>=0?e.length-t:0,e)}),Cr=gt(4,function(t,e,n,r){return Ln(t("function"==typeof e?M(e):e),n,r)}),xr=V(function(t,e,n){return yn(t,u(e,n))}),Sr=L(function(t,e){return Sn(cr(Kn,t),e)}),kr=function(){var t=function(t){return{"@@transducer/init":R.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){var r=t["@@transducer/step"](e,n);return r["@@transducer/reduced"]?l(r):r}}};return function(e){var n=t(e);return{"@@transducer/init":R.init,"@@transducer/result":function(t){return n["@@transducer/result"](t)},"@@transducer/step":function(t,e){return Kt(e)?Ln(n,t,e):Ln(n,t,[e])}}}}(),Nr=function(t,e,n){var r,o;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(r=1/e;n<t.length;){if(0===(o=t[n])&&1/o===r)return n;n+=1}return-1}if(e!==e){for(;n<t.length;){if("number"==typeof(o=t[n])&&o!==o)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(Kn(t[n],e))return n;n+=1}return-1},Ar=L(function(t,e){return cr(t,kr(e))}),jr=q(function(t){return gt(yr(se,0,dr("length",t)),function(){for(var e=0,n=t.length;e<n;){if(!t[e].apply(this,arguments))return!1;e+=1}return!0})}),Tr=q(function(t){return gt(yr(se,0,dr("length",t)),function(){for(var e=0,n=t.length;e<n;){if(t[e].apply(this,arguments))return!0;e+=1}return!1})}),Dr=L(function(t,e){return"function"==typeof t.ap?t.ap(e):"function"==typeof t?function(n){return t(n)(e(n))}:Ln(function(t,n){return u(t,cr(n,e))},[],t)}),Rr=q(function t(e){return e=cr(function(e){return"function"==typeof e?e:t(e)},e),gt(yr(se,0,dr("length",En(e))),function(){var t=arguments;return cr(function(e){return dt(e,t)},e)})}),Mr=zn(function(t){return t.apply(this,T(arguments,1))}),Fr=L(B("chain",Ar,function(t,e){return"function"==typeof e?function(){return e.call(this,t.apply(this,arguments)).apply(this,arguments)}:qn(!1)(cr(t,e))})),Pr=q(function(t){var e=yr(se,0,cr(function(t){return t[0].length},t));return n(e,function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}})}),Ir=L(function(t,e){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new e}:zn(ve(t,function(t,n,r,o,i,s,u,c,a,l){switch(arguments.length){case 1:return new e(t);case 2:return new e(t,n);case 3:return new e(t,n,r);case 4:return new e(t,n,r,o);case 5:return new e(t,n,r,o,i);case 6:return new e(t,n,r,o,i,s);case 7:return new e(t,n,r,o,i,s,u);case 8:return new e(t,n,r,o,i,s,u,c);case 9:return new e(t,n,r,o,i,s,u,c,a);case 10:return new e(t,n,r,o,i,s,u,c,a,l)}}))}),qr=L(function(t,e){return gt(yr(se,0,dr("length",e)),function(){var n=arguments,r=this;return t.apply(r,C(function(t){return t.apply(r,n)},e))})}),Lr=br(function(t,e){return t+1},0),Vr=L(B("dropRepeatsWith",K,function(t,e){var n=[],r=1,o=e.length;if(0!==o)for(n[0]=e[0];r<o;)t(sr(n),e[r])||(n[n.length]=e[r]),r+=1;return n})),Ur=V(function(t,e,n){return Kn(t(e),t(n))}),Br=V(function(t,e,n){return Kn(e[t],n[t])}),Wr=L(I("groupBy",br(function(t,e){return null==t&&(t=[]),t.push(e),t},null))),Gr=br(function(t,e){return e},null),zr=L(function(t,e){return"function"!=typeof e.indexOf||v(e)?Nr(e,t,0):e.indexOf(t)}),Hr=q(function(t){return qr(o,t)}),$r=L(function(t,e){return function(n){return function(r){return cr(function(t){return e(t,r)},n(t(r)))}}}),Jr=q(function(t){return $r(_e(t),gn(t))}),Kr=q(function(t){return $r(ke(t),mt(t))}),Xr=q(function(t){return $r(Me(t),vt(t))}),Qr=L(function(t,e){var n=gt(t,e);return gt(t,function(){return Ln(Dr,cr(n,arguments[0]),T(arguments,1))})}),Zr=q(function(t){return Er(t)/t.length}),Yr=q(function(t){var e=t.length;if(0===e)return NaN;var n=2-e%2,r=(e-n)/2;return Zr(T(t).sort(function(t,e){return t<e?-1:t>e?1:0}).slice(r,r+n))}),to=Hr([Xn,gr]),eo=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return n(arguments[0].length,yr(k,arguments[0],tn(arguments)))},no=function(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return n(arguments[0].length,yr(N,arguments[0],tn(arguments)))},ro=yr(de,1),oo=L(function(t,e){return"function"==typeof e.sequence?e.sequence(t):Ve(function(t,e){return Dr(cr(Re,e),t)},t([]),e)}),io=V(function(t,e,n){return oo(t,cr(e,n))}),so=Fr(p),uo=function(t,e){return Nr(e,t,0)>=0},co=function t(e,n){var r=function(r){var o=n.concat([e]);return uo(r,o)?"<Circular>":t(r,o)},o=function(t,e){return C(function(e){return A(e)+": "+r(t[e])},e.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+C(r,e).join(", ")+"))";case"[object Array]":return"["+C(r,e).concat(o(e,gr(function(t){return/^\d+$/.test(t)},Qt(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+r(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?r(NaN):A(D(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+r(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+r(e.valueOf())+")":A(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var i=e.toString();if("[object Object]"!==i)return i}return"{"+o(e,Qt(e)).join(", ")+"}"}},ao=function(){if(0===arguments.length)throw new Error("compose requires at least one argument");return eo.apply(this,Ge(arguments))},lo=function(){return ao.apply(this,Re(Bt,cr(Fr,arguments)))},fo=function(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return no.apply(this,Ge(arguments))},ho=q(function(t){return Ir(t.length,t)}),po=L(uo),vo=L(function(t,e){for(var n=[],r=0,o=t.length;r<o;)uo(t[r],e)||uo(t[r],n)||(n[n.length]=t[r]),r+=1;return n}),mo=q(B("dropRepeats",K(Kn),Vr(Kn))),yo=q(function(t){return Qr(t.length,t)}),bo=L(function(t,e){var n={};for(var r in e)uo(r,t)||(n[r]=e[r]);return n}),_o=function(){return lo.apply(this,Ge(arguments))},go=q(function(t){return co(t,[])}),wo=L(function(t,e){return gr(Zn(uo)(t),e)}),Eo=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}function e(t,e,n){var r,o=typeof t;switch(o){case"string":case"number":return 0===t&&1/t==-1/0?!!n._items["-0"]||(e&&(n._items["-0"]=!0),!1):null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):o in n._items?t in n._items[o]||(e&&(n._items[o][t]=!0),!1):(e&&(n._items[o]={},n._items[o][t]=!0),!1);case"boolean":if(o in n._items){var i=t?1:0;return!!n._items[o][i]||(e&&(n._items[o][i]=!0),!1)}return e&&(n._items[o]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size>r):n._nativeSet.has(t):o in n._items?!!uo(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1);case"undefined":return!!n._items[o]||(e&&(n._items[o]=!0),!1);case"object":if(null===t)return!!n._items.null||(e&&(n._items.null=!0),!1);default:return o=Object.prototype.toString.call(t),o in n._items?!!uo(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1)}}return t.prototype.add=function(t){return!e(t,!0,this)},t.prototype.has=function(t){return e(t,!1,this)},t}(),Oo=L(function(t,e){return m(t)?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:yo(lt)(t,e)}),Co=yo(be),xo=L(function(t,e){if(null==t||!m(t.concat))throw new TypeError(go(t)+' does not have a method named "concat"');if(v(t)&&!v(e))throw new TypeError(go(e)+" is not an array");return t.concat(e)}),So=L(function(t,e){return m(t)?function(){return t.apply(this,arguments)||e.apply(this,arguments)}:yo(Ce)(t,e)}),ko=L(function(t,e){return gt(t+1,function(){var n=arguments[t];if(null!=n&&m(n[e]))return n[e].apply(n,T(arguments,0,t));throw new TypeError(go(n)+' does not have a method named "'+e+'"')})}),No=ko(1,"join"),Ao=q(function(t){var e={};return n(t.length,function(){var n=go(arguments);return h(n,e)||(e[n]=t.apply(this,arguments)),e[n]})}),jo=ko(1,"split"),To=L(function(t,e){return xo(vo(t,e),vo(e,t))}),Do=V(function(t,e,n){return xo(Ot(t,e,n),Ot(t,n,e))}),Ro=L(function(t,e){if(!w(t))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+go(t));return i(t).test(e)}),Mo=ko(0,"toLowerCase"),Fo=ko(0,"toUpperCase"),Po=L(function(t,e){for(var n,r,o=new Eo,i=[],s=0;s<e.length;)r=e[s],n=t(r),o.add(n)&&i.push(r),s+=1;return i}),Io=Po(Bt),qo=L(function(t,e){var n,r;return t.length>e.length?(n=t,r=e):(n=e,r=t),Io(a(Zn(uo)(n),r))}),Lo=L(ao(Io,u)),Vo={F:Dn,T:Rn,__:e,add:st,addIndex:Bn,adjust:ut,all:ct,allPass:jr,always:at,and:lt,any:ft,anyPass:Tr,ap:Dr,aperture:ht,append:pt,apply:dt,applySpec:Rr,assoc:vt,assocPath:mt,binary:Wn,bind:yt,both:Oo,call:Mr,chain:Fr,clamp:bt,clone:Gn,comparator:_t,complement:Co,compose:ao,composeK:lo,composeP:fo,concat:xo,cond:Pr,construct:ho,constructN:Ir,contains:po,converge:qr,countBy:Lr,curry:zn,curryN:gt,dec:wt,defaultTo:Et,difference:vo,differenceWith:Ot,dissoc:Ct,dissocPath:xt,divide:St,drop:Hn,dropLast:$n,dropLastWhile:Jn,dropRepeats:mo,dropRepeatsWith:Vr,dropWhile:kt,either:So,empty:Nt,eqBy:Ur,eqProps:Br,equals:Kn,evolve:At,filter:Xn,find:jt,findIndex:Tt,findLast:Dt,findLastIndex:Rt,flatten:Qn,flip:Zn,forEach:Mt,fromPairs:Ft,groupBy:Wr,groupWith:Pt,gt:It,gte:qt,has:Lt,hasIn:Vt,head:Yn,identical:Ut,identity:Bt,ifElse:Wt,inc:Gt,indexBy:Gr,indexOf:zr,init:tr,insert:zt,insertAll:Ht,intersection:qo,intersectionWith:er,intersperse:$t,into:nr,invert:rr,invertObj:or,invoker:ko,is:Jt,isArrayLike:Kt,isEmpty:ir,isNil:Xt,join:No,juxt:Hr,keys:Qt,keysIn:Zt,last:sr,lastIndexOf:ur,length:Yt,lens:$r,lensIndex:Jr,lensPath:Kr,lensProp:Xr,lift:yo,liftN:Qr,lt:te,lte:ee,map:cr,mapAccum:ne,mapAccumRight:re,mapObjIndexed:ar,match:oe,mathMod:ie,max:se,maxBy:ue,mean:Zr,median:Yr,memoize:Ao,merge:ce,mergeAll:ae,mergeWith:lr,mergeWithKey:le,min:fe,minBy:he,modulo:pe,multiply:de,nAry:ve,negate:me,none:ye,not:be,nth:_e,nthArg:ge,objOf:we,of:Ee,omit:bo,once:Oe,or:Ce,over:xe,pair:Se,partial:fr,partialRight:hr,partition:to,path:ke,pathEq:pr,pathOr:Ne,pathSatisfies:Ae,pick:je,pickAll:Te,pickBy:De,pipe:eo,pipeK:_o,pipeP:no,pluck:dr,prepend:Re,product:ro,project:vr,prop:Me,propEq:mr,propIs:Fe,propOr:Pe,propSatisfies:Ie,props:qe,range:Le,reduce:yr,reduceBy:br,reduceRight:Ve,reduceWhile:_r,reduced:Ue,reject:gr,remove:Be,repeat:wr,replace:We,reverse:Ge,scan:ze,sequence:oo,set:He,slice:$e,sort:Je,sortBy:Ke,split:jo,splitAt:Xe,splitEvery:Qe,splitWhen:Ze,subtract:Ye,sum:Er,symmetricDifference:To,symmetricDifferenceWith:Do,tail:tn,take:en,takeLast:Or,takeLastWhile:nn,takeWhile:rn,tap:on,test:Ro,times:sn,toLower:Mo,toPairs:un,toPairsIn:cn,toString:go,toUpper:Fo,transduce:Cr,transpose:an,traverse:io,trim:ln,tryCatch:fn,type:hn,unapply:pn,unary:dn,uncurryN:vn,unfold:mn,union:Lo,unionWith:xr,uniq:Io,uniqBy:Po,uniqWith:yn,unless:bn,unnest:so,until:_n,update:gn,useWith:wn,values:En,valuesIn:On,view:Cn,when:xn,where:Sn,whereEq:Sr,without:wo,wrap:kn,xprod:Nn,zip:An,zipObj:jn,zipWith:Tn};t.exports=Vo}).call(this)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function s(t,e,n){var r=(0,St.flatten)((0,St.map)(St.keys,n)),o=(0,St.flatten)((0,St.map)(function(t){return(0,St.values)(t)[0]},n)),i=Mt(function(t,n){return e[n]},n),s=Mt(function(t,e){return(0,o[e])(t)},i),u=(0,St.reduce)(function(t,e){return f(e)||t},!1,s);if(u){throw["assertSignature:",Mt(function(e,o){var i=r[o];return h(e)?"":[t+": argument "+i+" fails rule "+n[o][i].name,_(e)?"":e].join(": ")},s).join("\n")].join(" ")}return!u}function u(t,e,n){var r=!1,o=Mt(function(t,n){var o=(0,St.keys)(t)[0],i=xt(t[o],2),s=i[0],u=i[1];return!!h(s.call(null,e[n]))||(r=!0,o+" fails contract "+s.name+" : "+u)},n);if(r){throw t+" called with unexpected or erroneous arguments! \n "+(0,St.map)(function(t){return E(t)?t:""},o).join("\n")}}function c(t,e,n){var r=t.apply(null,e);if(!_(r)||!r)throw"assertContract: fails contract "+t.name+"\n"+n+"\n "+r;return!0}function a(t,e,n,r){var o=[],i=!!r;return(0,St.mapObjIndexed)(function(e,r){e(t[r])||o.push(n[r])},e),i&&(0,St.mapObjIndexed)(function(t,n){n in e||o.push("Object cannot contain a property called "+n)},t),!!(0,St.isEmpty)(o)||o}function l(t,e){var n={},r=0;return e.some(function(e){var o=(0,St.keys)(e)[0],i=(0,St.values)(e)[0],s=i(t);return s&&(n[o]=t,n._index=r),r++,s}),n}function f(t){return!!_(t)&&!t}function h(t){return!!_(t)&&t}function p(t){return y(t)}function d(t){return null==t||"object"===(void 0===t?"undefined":Ct(t))}function v(t){return(0,St.isNil)(t)||a(t,{makeLocalSources:(0,St.either)(St.isNil,y),makeLocalSettings:(0,St.either)(St.isNil,y),makeOwnSinks:(0,St.either)(St.isNil,y),mergeSinks:function(e){return t.computeSinks?!e:(0,St.either)(St.isNil,(0,St.either)(b,y))(e)},computeSinks:(0,St.either)(St.isNil,y),checkPreConditions:(0,St.either)(St.isNil,y),checkPostConditions:(0,St.either)(St.isNil,y)},{makeLocalSources:"makeLocalSources must be undefined or a function",makeLocalSettings:"makeLocalSettings must be undefined or a function",makeOwnSinks:"makeOwnSinks must be undefined or a function",mergeSinks:"mergeSinks can only be defined when `computeSinks` is not, and when so, it must be undefined, an object or a function",computeSinks:"computeSinks must be undefined or a function",checkPreConditions:"checkPreConditions must be undefined or a function",checkPostConditions:"checkPostConditions must be undefined or a function"},!0)}function m(t){return void 0===t}function y(t){return"function"==typeof t}function b(t){return"object"===(void 0===t?"undefined":Ct(t))}function _(t){return"boolean"==typeof t}function g(t){return function(e){return E(e)&&-1!==t.indexOf(e)}}function w(t){return"number"==typeof t}function E(t){return"string"==typeof t}function O(t){return Array.isArray(t)}function C(t){return(0,St.allPass)([St.isEmpty,O])(t)}function x(t){if("function"!=typeof t)throw"isArrayOf: predicateFn is not a function!!";return function(e){return!!Array.isArray(e)&&(0,St.all)(t,e)}}function S(t){return["children","data","elm","key","sel","text"].every(function(e){return e in t})}function k(t,e){return c(y,[t],"isHashMap : first argument must be a predicate function!"),c(y,[e],"isHashMap : second argument must be a predicate function!"),(0,St.both)((0,St.pipe)(St.keys,(0,St.all)(t)),(0,St.pipe)(St.values,(0,St.all)(e)))}function N(t){return c(b,[t],"isStrictRecord : record specification argument must be a valid object!"),(0,St.allPass)([(0,St.pipe)(St.keys,(0,St.flip)(St.difference)((0,St.keys)(t)),St.isEmpty),(0,St.where)(t)])}function A(t){return y(t)}function j(t){return y(t.subscribe)}function T(t){return j(t)}function D(t){return!(0,St.isNil)(t)}function R(t){return(0,St.isNil)(t)||b(t)&&(0,St.all)((0,St.either)(St.isNil,j),(0,St.values)(t))}function M(t){return(0,St.all)(R,t)}function F(t,e){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=!1,s=(0,St.reduce)(function(t,e){var n=xt(e,2),o=n[0],s=n[1],u=o.apply(o,r);return h(u)?t:(s&&t.push(s),t.push("Predicate "+o.name+" failed with arguments : "+vt(r,", ")),u&&t.push(u),i=!0,(0,St.reduced)(t))},[],t);return!i||(e&&s.unshift(e),s.join("\n"))}}function P(t){return c(b,[t],"isStrictRecordE : record specification argument must be a valid object!"),It([[(0,St.pipe)(St.keys,(0,St.flip)(St.difference)((0,St.keys)(t)),St.isEmpty),"isStrictRecordE : unexpected properties were found on object! Object should only have properties within a configured fixed set of properties : "+(0,St.keys)(t)+"!"],[L(t),"isStrictRecordE : At least one property of object failed its predicate!"]],"isStrictRecordE > allPassE : fails!")}function I(t){return c(b,[t],"isRecordE : record specification argument must be a valid object!"),It([[L(t,"isRecordE > allPassE > whereE : fails!"),"isStrictRecordE : At least one property of object failed its predicate!"]],"isRecordE > allPassE : fails!")}function q(t,e,n){var r=xt(t,2),o=r[0],i=r[1],s=xt(e,2),u=s[0],c=s[1];return It([[o,i],[u,c]],n||"One of the two predicates has failed!")}function L(t,e){return F((0,St.keys)(t).map(function(e){return[function(n){return t[e](n[e])},"property "+e+" fails predicate "+t[e].name]}),e)}function V(t,e,n){var r=xt(t,2),o=r[0],i=r[1],s=xt(e,2),u=s[0],c=s[1];return F([[(0,St.either)(o,u),["both predicates ("+o.name+", "+u.name+") failed!","left predicate : "+i,"right predicate : "+c].join("\n")]],n)}function U(t,e){return c(y,[t],"isHashMapE : first argument must be a predicate function!"),c(y,[e],"isHashMapE : second argument must be a predicate function!"),It([[(0,St.pipe)(St.keys,B(t)),"isHashMapE : at least one property key of the object failed its predicate!"],[(0,St.pipe)(St.values,B(e)),"isHashMapE : at least one property's value of the object failed its predicate!"]],"isHashMapE : fails!")}function B(t){return function(){var e=(arguments.length<=0?void 0:arguments[0])||[],n=(0,St.reduce)(function(e,n){var r=t(n);return h(r)?e:(e.push("allE : predicate "+t.name+" fails with arguments : "+mt(n)),r&&e.push(r),e)},[],e);return 0===n.length||n.join("\n")}}function W(t,e){var n=xt(t,2),r=n[0],o=n[1];c(D,[r],"m : `sources` parameter is invalid"),c(e,[r,o],"m: `sources, settings` parameters fails contract "+e.name)}function G(t,e){c(R,[t],"mergeSinks must return a hash of observable sink"),c(e,[t],"fails custom contract "+e.name)}function z(t,e){c(e,[t],"m: `settings` parameter fails contract "+e.name)}function H(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){!t.hasOwnProperty(e)||null===t[e]||"object"!==Ct(t[e])&&"function"!=typeof t[e]||Object.isFrozen(t[e])||H(t[e])}),t}function $(t){return Ft+t}function J(t){return!!(t&&O(t)&&t.length>=1)||""}function K(t,e){return(0,St.mapObjIndexed)(function(e,n){return e?e.tap(function(e){console.debug("traceSinks > "+t+" > sink "+n+" emits :",e)}):e},e)}function X(t){return(0,St.reject)(St.isNil,t)}function Q(t){return(0,St.reduce)(function(t,e){return Z(e)?t:(t.push(e),t)},[],t)}function Z(t){return(0,St.equals)(t.children,[])&&(0,St.equals)(t.data,{})&&m(t.elm)&&m(t.key)&&m(t.sel)&&m(t.text)}function Y(t,e){return(0,St.map)(function(e){return e?e[t]:null},e)}function tt(t){return(0,St.uniq)((0,St.flatten)((0,St.map)(et,t)))}function et(t){var e=[];return(0,St.mapObjIndexed)(function(t,n){null!=t&&e.push(n)},t),e}function nt(t){return Rt.create(function(e){var n=!0;return t.subscribe(function(t){n=!1,e.onNext(t)},function(t){console.error("emitNullIfEmpty > Error!",t),e.onError(t)},function(){n&&e.onNext(null),e.onCompleted()}),function(){}})}function rt(t){return{children:void 0,data:{},elm:void 0,key:void 0,sel:"div",text:t}}function ot(t,e){throw console.error(""+t,e),e}function it(t,e,n,r,o){if("string"==typeof e&&(o=r,r=n,n=e,e=[]),!Array.isArray(r)||!Array.isArray(o))if("object"==(void 0===r?"undefined":Ct(r))){var i=Object.keys(r);o=i.map(function(t){return r[t]}),r=i}else o=[],r=[];return Function(r,"function "+t+"("+e.join(", ")+") {\n"+n+"\n}\nreturn "+t+";").apply(null,o)}function st(t,e){var n=Lt(e);return it(n,[],"\n      const args = [].slice.call(arguments);\n      const decoratingFn = makeFunctionDecorator(decoratorSpec);\n      return decoratingFn(args, fnToDecorateName, fnToDecorate);\n",{makeFunctionDecorator:ut,decoratorSpec:t,fnToDecorate:e,fnToDecorateName:n})}function ut(t){var e=t.before,n=t.after,r=t.name;if("function"!=typeof e&&"function"!=typeof n)throw"makeFunctionDecorator: you need to specify 'before' OR 'after' as decorating functions. You passed falsy values for both!";var s=(0,St.defaultTo)("anonymousDecorator",r);return o({},s,function(t,r,o){e&&e(t,r,o);var s=o.apply(void 0,i(t));return n?n(s,r,o):s})[s]}function ct(t){return t?(0,jt.default)(t):null}function at(t){return O(t)?(console.debug("toHTML: "+t.map(function(t){return t?(0,jt.default)(t):null})),t.map(ct)):(console.debug("toHTML: "+ct(t)),ct(t))}function lt(t){t&&t.preventDefault()}function ft(t){return function(e){return!!(0,St.isNil)(e)||t(e)}}function ht(t,e){var n=(0,St.keys)(t),r=(0,St.keys)(e);return 0===n.length||0===r.length||0===(0,St.intersection)(n,r).length}function pt(t,e){return 0===(0,St.intersection)(t,e).length}function dt(t,e){return-1===(0,St.keys)(t).indexOf(e)}function vt(t,e){return t.map(mt).join(e)}function mt(t){return"null"===t?"<null>":"undefined"===t?"<undefined>":E(t)&&0===t.length?"<empty string>":O(t)?vt(t," ; "):b(t)?0===(0,St.keys)(t).length?"<empty object>":(0,Dt.default)(t):""+t}function yt(t){return function(e){return t+e}}function bt(){}function _t(t){return!!t}function gt(t){return(0,St.pipe)((0,St.mapObjIndexed)(function(e,n){return{op:"add",path:[t,n].join("/"),value:e}}),St.values)}function wt(t){var e=document.createElement("DIV");e.innerHTML=t;var n=e.textContent||e.innerText||"";return e.remove(),n}function Et(t,e){return(0,St.pipe)(t,(0,St.tap)(console.warn.bind(console,e?e+":":"")))}function Ot(t,e){return o({},Pt,Rt.of(null).tap(function(t){return console.debug("EmptyComponent > DOM",t)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyComponent=e.ERROR_MESSAGE_PREFIX=e.DOM_SINK=e.traceFn=e.stripHtmlTags=e.toBoolean=e.toJsonPatch=e.isNewKey=e.hasNoCommonValues=e.hasNoDuplicateKeys=e.noop=e.addPrefix=e.format=e.formatArrayObj=e.preventDefault=e.convertVNodesToHTML=e.logFnTrace=e.assertFunctionContractDecoratorSpecs=e.makeFunctionDecorator=e.decorateWith=e.decorateWithOne=e.getFunctionName=e.traceSinks=e.hasAtLeastOneChildComponent=e.makeErrorMessage=e.deepFreeze=e.assertSettingsContracts=e.assertSinksContracts=e.assertSourcesContracts=e.isRecordE=e.eitherE=e.allE=e.isHashMapE=e.whereE=e.bothE=e.allPassE=e.isStrictRecordE=e.checkAndGatherErrors=e.isArrayOptSinks=e.isMergeSinkFn=e.isOptSinks=e.isSource=e.isObservable=e.isArrayOf=e.isEmptyArray=e.isArray=e.isString=e.isNumber=e.isTrue=e.isOneOf=e.isBoolean=e.isObject=e.isOptional=e.isVNode=e.isFunction=e.isUndefined=e.isComponent=e.isStrictRecord=e.isHashMap=e.isNullableComponentDef=e.isNullableObject=e.emitNullIfEmpty=e.removeEmptyVNodes=e.removeNullsFromArray=e.getSinkNamesFromSinksArray=e.projectSinksOn=e.unfoldObjOverload=e.checkSignature=e.assertContract=e.assertSignatureContract=e.assertSignature=e.handleError=e.makeDivVNode=void 0;var Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),St=n(0),kt=n(2),Nt=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(kt),At=n(14),jt=r(At),Tt=n(47),Dt=r(Tt),Rt=Nt.Observable,Mt=(0,St.addIndex)(St.map),Ft="ERROR : ",Pt="DOM",It=F,qt=(0,St.curry)(ot),Lt=function(t){return function(e){return e.name||((""+e).match(t)||[])[1]||"Anonymous"}}(/^\s*function\s*([^\(]*)/i),Vt=(0,St.curry)(function(t,e){return t.reduce(function(t,e){return st(e,t)},e)}),Ut=function(t){return{before:function(e,n){var r=t.checkDomain,o=Lt(r),s=r.apply(void 0,i(e));if(!_(s)||_(s)&&!s)throw console.error("assertFunctionContractDecorator: "+n+" fails contract "+o+" \n\n"+(E(s)?s:"")),"assertFunctionContractDecorator: "+n+" fails contract "+o},after:function(e,n){var r=t.checkCodomain,o=Lt(r),i=r(e);if(!_(i)||_(i)&&!i)throw console.error("assertFunctionContractDecorator: "+n+" fails contract "+o+" \n\n"+(E(i)?i:"")),"assertFunctionContractDecorator: "+n+" fails contract "+o;return e}}},Bt=function(t,e){return{before:function(n,r){return console.info("==> "+t.toUpperCase()+" | "+r+"("+e.join(", ")+"): ",n)},after:function(e,n){return console.info("<== "+t.toUpperCase()+" | "+n+" <- ",e),e}}};e.makeDivVNode=rt,e.handleError=qt,e.assertSignature=s,e.assertSignatureContract=u,e.assertContract=c,e.checkSignature=a,e.unfoldObjOverload=l,e.projectSinksOn=Y,e.getSinkNamesFromSinksArray=tt,e.removeNullsFromArray=X,e.removeEmptyVNodes=Q,e.emitNullIfEmpty=nt,e.isNullableObject=d,e.isNullableComponentDef=v,e.isHashMap=k,e.isStrictRecord=N,e.isComponent=A,e.isUndefined=m,e.isFunction=y,e.isVNode=S,e.isOptional=ft,e.isObject=b,e.isBoolean=_,e.isOneOf=g,e.isTrue=h,e.isNumber=w,e.isString=E,e.isArray=O,e.isEmptyArray=C,e.isArrayOf=x,e.isObservable=j,e.isSource=T,e.isOptSinks=R,e.isMergeSinkFn=p,e.isArrayOptSinks=M,e.checkAndGatherErrors=F,e.isStrictRecordE=P,e.allPassE=It,e.bothE=q,e.whereE=L,e.isHashMapE=U,e.allE=B,e.eitherE=V,e.isRecordE=I,e.assertSourcesContracts=W,e.assertSinksContracts=G,e.assertSettingsContracts=z,e.deepFreeze=H,e.makeErrorMessage=$,e.hasAtLeastOneChildComponent=J,e.traceSinks=K,e.getFunctionName=Lt,e.decorateWithOne=st,e.decorateWith=Vt,e.makeFunctionDecorator=ut,e.assertFunctionContractDecoratorSpecs=Ut,e.logFnTrace=Bt,e.convertVNodesToHTML=at,e.preventDefault=lt,e.formatArrayObj=vt,e.format=mt,e.addPrefix=yt,e.noop=bt,e.hasNoDuplicateKeys=ht,e.hasNoCommonValues=pt,e.isNewKey=dt,e.toJsonPatch=gt,e.toBoolean=_t,e.stripHtmlTags=wt,e.traceFn=Et,e.DOM_SINK=Pt,e.ERROR_MESSAGE_PREFIX=Ft,e.EmptyComponent=Ot},function(t,e,n){(function(t,r,o){var i;(function(s){function u(t){return t&&t.Object===Object?t:null}function c(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function a(t){return function(){try{return t.apply(this,arguments)}catch(t){return re.e=t,re}}}function l(t){throw t}function f(t,e){if(ie&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(ae)){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var o=n.join("\n"+ae+"\n");t.stack=h(o)}}function h(t){for(var e=t.split("\n"),n=[],r=0,o=e.length;r<o;r++){var i=e[r];p(i)||d(i)||!i||n.push(i)}return n.join("\n")}function p(t){var e=m(t);if(!e)return!1;var n=e[0],r=e[1];return n===ue&&r>=ce&&r<=Cs}function d(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function v(){if(ie)try{throw new Error}catch(r){var t=r.stack.split("\n"),e=t[0].indexOf("@")>0?t[1]:t[2],n=m(e);if(!n)return;return ue=n[0],n[1]}}function m(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function y(t,e,n,r,o,i){var u=Pe(t),c=u.length;if(c!==Pe(e).length&&!r)return!1;for(var a,l=c;l--;)if(a=u[l],!(r?a in e:Re.call(e,a)))return!1;for(var f=r;++l<c;){a=u[l];var h=t[a],p=e[a];if(!(void 0===s?n(h,p,r,o,i):void 0))return!1;f||(f="constructor"===a)}if(!f){var d=t.constructor,v=e.constructor;if(d!==v&&"constructor"in t&&"constructor"in e&&!("function"==typeof d&&d instanceof d&&"function"==typeof v&&v instanceof v))return!1}return!0}function b(t,e,n){switch(n){case Ce:case xe:return+t==+e;case Se:return t.name===e.name&&t.message===e.message;case ke:return t!==+t?e!==+e:t===+e;case Ae:case je:return t===e+""}return!1}function _(t){return!!t&&"object"==typeof t}function g(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Fe}function w(t){return _(t)&&g(t.length)&&!!Te[Me.call(t)]}function E(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function O(t,e,n,r,o,i){var u=-1,c=t.length,a=e.length;if(c!==a&&!(r&&a>c))return!1;for(;++u<c;){var l=t[u],f=e[u];if(void 0!==s)return!1;if(r){if(!E(e,function(t){return l===t||n(l,t,r,o,i)}))return!1}else if(l!==f&&!n(l,f,r,o,i))return!1}return!0}function C(t,e,n,r,o,i){var s=qe(t),u=qe(e),c=Oe,a=Oe;s||(c=Me.call(t),c===Ee?c=Ne:c!==Ne&&(s=w(t))),u||(a=Me.call(e))===Ee&&(a=Ne);var l=c===Ne&&!Ie(t),f=a===Ne&&!Ie(e),h=c===a;if(h&&!s&&!l)return b(t,e,c);if(!r){var p=l&&Re.call(t,"__wrapped__"),d=f&&Re.call(e,"__wrapped__");if(p||d)return n(p?t.value():t,d?e.value():e,r,o,i)}if(!h)return!1;o||(o=[]),i||(i=[]);for(var v=o.length;v--;)if(o[v]===t)return i[v]===e;o.push(t),i.push(e);var m=(s?O:y)(t,e,n,r,o,i);return o.pop(),i.pop(),m}function x(t,e,n,r,o){return t===e||(null==t||null==e||!ut(t)&&!_(e)?t!==t&&e!==e:C(t,e,x,n,r,o))}function S(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e();return n}function k(t,e){this.id=t,this.value=e}function N(t,e){this.scheduler=t,this.disposable=e,this.isDisposed=!1}function A(t,e){e.isDisposed||(e.isDisposed=!0,e.disposable.dispose())}function j(t){this._s=t,this.isDisposed=!1}function T(t){this._s=t}function D(t){this._s=t,this._l=t.length,this._i=0}function R(t){this._a=t}function M(t){this._a=t,this._l=q(t),this._i=0}function F(t){return"number"==typeof t&&$t.isFinite(t)}function P(t){var e,n=t[me];if(!n&&"string"==typeof t)return e=new T(t),e[me]();if(!n&&t.length!==s)return e=new R(t),e[me]();if(!n)throw new TypeError("Object is not iterable");return t[me]()}function I(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}function q(t){var e=+t.length;return isNaN(e)?0:0!==e&&F(e)?(e=I(e)*Math.floor(Math.abs(e)),e<=0?0:e>or?or:e):e}function L(t,e){return cn(t)||(t=vn),new sr(e,t)}function V(t,e){this.observer=t,this.parent=e}function U(t,e){return t.amb(e)}function B(){return!1}function W(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function B(){return!1}function W(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function B(){return!1}function G(){return[]}function B(){return!1}function G(){return[]}function W(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function z(t){return function(e){return t.subscribe(e)}}function H(t){return t.toArray()}function $(t){return t.length>0}function J(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function J(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function K(t,e,n){var r=ge(e,n,3);return t.map(function(e,n){var o=r(e,n,t);return ee(o)&&(o=Xn(o)),(_e(o)||be(o))&&(o=ir(o)),o}).concatAll()}function X(t,e,n){for(var r=0,o=t.length;r<o;r++)if(n(t[r],e))return r;return-1}function Q(t){this.comparer=t,this.set=[]}function Z(t,e){return function(n){for(var r=n,o=0;o<e;o++){var i=r[t[o]];if(void 0===i)return s;r=i}return r}}function Y(t){if(0===t.length)throw new le;return t[0]}function tt(t,e,n,r){var o=ge(e,n,3);return new vs(function(e){return t.subscribe(new ti(e,t,o,r))},t)}function et(t){return t?In.isObservable(t)?t:ee(t)?In.fromPromise(t):st(t)||it(t)?ai.call(this,t):ne(t)?ot.call(this,t):_e(t)||be(t)?nt.call(this,t):ut(t)?rt.call(this,t):t:t}function nt(t){return In.from(t).concatMap(function(t){return In.isObservable(t)||ut(t)?et.call(null,t):Jt.Observable.just(t)}).toArray()}function rt(t){for(var e=new t.constructor,n=Object.keys(t),r=[],o=0,i=n.length;o<i;o++){var u=n[o],c=et.call(this,t[u]);c&&In.isObservable(c)?function(t,n){e[n]=s,r.push(t.map(function(t){e[n]=t}))}(c,u):e[u]=t[u]}return In.forkJoin.apply(In,r).map(function(){return e})}function ot(t){var e=this;return new vs(function(n){t.call(e,function(){var t=arguments[0],e=arguments[1];if(t)return n.onError(t);if(arguments.length>2){for(var r=[],o=1,i=arguments.length;o<i;o++)r.push(arguments[o]);e=r}n.onNext(e),n.onCompleted()})})}function it(t){return ne(t.next)&&ne(t.throw)}function st(t){var e=t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName||it(e.prototype))}function ut(t){return Object==t.constructor}function ct(t,e,n,r){var o=new gs;return r.push(at(o,e,n)),t.apply(e,r),o.asObservable()}function at(t,e,n){return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if(ne(n)){if((o=oe(n).apply(e,o))===re)return t.onError(o.e);t.onNext(o)}else o.length<=1?t.onNext(o[0]):t.onNext(o);t.onCompleted()}}function lt(t,e,n,r){var o=new gs;return r.push(ft(o,e,n)),t.apply(e,r),o.asObservable()}function ft(t,e,n){return function(){var r=arguments[0];if(r)return t.onError(r);for(var o=arguments.length,i=[],s=1;s<o;s++)i[s-1]=arguments[s];if(ne(n)){var i=oe(n).apply(e,i);if(i===re)return t.onError(i.e);t.onNext(i)}else i.length<=1?t.onNext(i[0]):t.onNext(i);t.onCompleted()}}function ht(t){return $t.StaticNodeList?t instanceof $t.StaticNodeList||t instanceof $t.NodeList:"[object NodeList]"===Object.prototype.toString.call(t)}function pt(t,e,n){this._e=t,this._n=e,this._fn=n,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function dt(t,e,n){var r=new ze,o=Object.prototype.toString.call(t);if(ht(t)||"[object HTMLCollection]"===o)for(var i=0,s=t.length;i<s;i++)r.add(dt(t.item(i),e,n));else t&&r.add(new pt(t,e,n));return r}function vt(t,e,n){return new vs(function(r){function o(t,e){if(a[e]=t,s[e]=!0,u||(u=s.every(Xt))){if(i)return r.onError(i);var o=oe(n).apply(null,a);if(o===re)return r.onError(o.e);r.onNext(o)}c&&a[1]&&r.onCompleted()}var i,s=[!1,!1],u=!1,c=!1,a=new Array(2);return new en(t.subscribe(function(t){o(t,0)},function(t){a[1]?r.onError(t):i=t},function(){c=!0,a[1]&&r.onCompleted()}),e.subscribe(function(t){o(t,1)},function(t){r.onError(t)},function(){c=!0,o(!0,1)}))},t)}function H(t){return t.toArray()}function mt(t,e){return t.groupJoin(this,e,nr,function(t,e){return e})}function yt(t){var e=this;return new vs(function(n){var r=new _s,o=new ze,i=new rn(o);return n.onNext(Be(r,i)),o.add(e.subscribe(function(t){r.onNext(t)},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),ee(t)&&(t=Xn(t)),o.add(t.subscribe(function(t){r.onCompleted(),r=new _s,n.onNext(Be(r,i))},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),i},e)}function bt(t){var e=this;return new vs(function(n){function r(){var e;try{e=t()}catch(t){return void n.onError(t)}ee(e)&&(e=Xn(e));var i=new Ye;o.setDisposable(i),i.setDisposable(e.take(1).subscribe(Kt,function(t){u.onError(t),n.onError(t)},function(){u.onCompleted(),u=new _s,n.onNext(Be(u,s)),r()}))}var o=new tn,i=new ze(o),s=new rn(i),u=new _s;return n.onNext(Be(u,s)),i.add(e.subscribe(function(t){u.onNext(t)},function(t){u.onError(t),n.onError(t)},function(){u.onCompleted(),n.onCompleted()})),r(),s},e)}function _t(t,e){return new Si(t,e)}function W(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function gt(t){this.patterns=t}function wt(t,e){this.expression=t,this.selector=e}function Et(t){return function(e){t.onError(e)}}function Ot(t,e){return function(){var n=oe(t.selector).apply(t,arguments);if(n===re)return e.onError(n.e);e.onNext(n)}}function Ct(t,e,n){var r=t.get(e);if(!r){var o=new Mi(e,n);return t.set(e,o),o}return r}function xt(t,e,n){this.joinObserverArray=t,this.onNext=e,this.onCompleted=n,this.joinObservers=new Ri;for(var r=0,o=this.joinObserverArray.length;r<o;r++){var i=this.joinObserverArray[r];this.joinObservers.set(i,i)}}function St(t,e){return new Fi(t,e)}function kt(t,e,n){return new vs(function(r){var o=t,i=un(e);return n.scheduleRecursiveFuture(0,o,function(t,e){if(i>0){var s=n.now();o=new Date(o.getTime()+i),o.getTime()<=s&&(o=new Date(s+i))}r.onNext(t),e(t+1,new Date(o))})})}function Nt(t,e,n){return t===e?new vs(function(t){return n.schedulePeriodic(0,e,function(e){return t.onNext(e),e+1})}):Yn(function(){return kt(new Date(n.now()+t),e,n)})}function At(t,e,n){return new vs(function(r){var o,i=!1,s=new tn,u=null,c=[],a=!1;return o=t.materialize().timestamp(n).subscribe(function(t){var o,l;"E"===t.value.kind?(c=[],c.push(t),u=t.value.error,l=!a):(c.push({value:t.value,timestamp:t.timestamp+e}),l=!i,i=!0),l&&(null!==u?r.onError(u):(o=new Ye,s.setDisposable(o),o.setDisposable(n.scheduleRecursiveFuture(null,e,function(t,e){var o,s,l,f;if(null===u){a=!0;do{l=null,c.length>0&&c[0].timestamp-n.now()<=0&&(l=c.shift().value),null!==l&&l.accept(r)}while(null!==l);f=!1,s=0,c.length>0?(f=!0,s=Math.max(0,c[0].timestamp-n.now())):i=!1,o=u,a=!1,null!==o?r.onError(o):f&&e(null,s)}}))))}),new en(o,s)},t)}function jt(t,e,n){return Yn(function(){return At(t,e-n.now(),n)})}function Tt(t,e,n){var r,o;return ne(e)?o=e:(r=e,o=n),new vs(function(e){function n(){c.setDisposable(t.subscribe(function(t){var n=oe(o)(t);if(n===re)return e.onError(n.e);var r=new Ye;s.add(r),r.setDisposable(n.subscribe(function(){e.onNext(t),s.remove(r),i()},function(t){e.onError(t)},function(){e.onNext(t),s.remove(r),i()}))},function(t){e.onError(t)},function(){u=!0,c.dispose(),i()}))}function i(){u&&0===s.length&&e.onCompleted()}var s=new ze,u=!1,c=new tn;return r?c.setDisposable(r.subscribe(n,function(t){e.onError(t)},n)):n(),new en(c,s)},t)}function Dt(t,e){return new vs(function(n){var r,o=!1,i=new tn,s=0,u=t.subscribe(function(t){var u=oe(e)(t);if(u===re)return n.onError(u.e);ee(u)&&(u=Xn(u)),o=!0,r=t,s++;var c=s,a=new Ye;i.setDisposable(a),a.setDisposable(u.subscribe(function(){o&&s===c&&n.onNext(r),o=!1,a.dispose()},function(t){n.onError(t)},function(){o&&s===c&&n.onNext(r),o=!1,a.dispose()}))},function(t){i.dispose(),n.onError(t),o=!1,s++},function(){i.dispose(),o&&n.onNext(r),n.onCompleted(),o=!1,s++});return new en(u,i)},t)}function H(t){return t.toArray()}function H(t){return t.toArray()}function Rt(t,e,n,r){return ne(e)&&(r=n,n=e,e=fr()),In.isObservable(r)||(r=yr(new Hi)),new vs(function(o){function i(t){function e(){return f=n===l}var n=l,i=new Ye;c.setDisposable(i),i.setDisposable(t.subscribe(function(){e()&&u.setDisposable(r.subscribe(o)),i.dispose()},function(t){e()&&o.onError(t)},function(){e()&&u.setDisposable(r.subscribe(o))}))}function s(){var t=!f;return t&&l++,t}var u=new tn,c=new tn,a=new Ye;u.setDisposable(a);var l=0,f=!1;return i(e),a.setDisposable(t.subscribe(function(t){if(s()){o.onNext(t);var e=oe(n)(t);if(e===re)return o.onError(e.e);i(ee(e)?Xn(e):e)}},function(t){s()&&o.onError(t)},function(){s()&&o.onCompleted()})),new en(u,c)},t)}function Mt(t,e,n,r){return cn(n)&&(r=n,n=yr(new Hi)),n instanceof Error&&(n=yr(n)),cn(r)||(r=gn),In.isObservable(n)||(n=yr(new Hi)),new vs(function(o){function i(){var t=s;l.setDisposable(r.scheduleFuture(null,e,function(){(a=s===t)&&(ee(n)&&(n=Xn(n)),c.setDisposable(n.subscribe(o)))}))}var s=0,u=new Ye,c=new tn,a=!1,l=new tn;return c.setDisposable(u),i(),u.setDisposable(t.subscribe(function(t){a||(s++,o.onNext(t),i())},function(t){a||(s++,o.onError(t))},function(){a||(s++,o.onCompleted())})),new en(c,l)},t)}function Ft(t){return{"@@transducer/init":function(){return t},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}}function Pt(t){this.predicate=t}function It(t){this.predicate=t}function qt(t,e){var n=this;this.scheduler=t,this.messages=e,this.subscriptions=[],this.observers=[];for(var r=0,o=this.messages.length;r<o;r++){var i=this.messages[r],s=i.value;!function(e){t.scheduleAbsolute(null,i.time,function(){for(var t=n.observers.slice(0),r=0,o=t.length;r<o;r++)e.accept(t[r]);return Ke})}(s)}}var Lt={function:!0,object:!0},Vt=Lt[typeof e]&&e&&!e.nodeType?e:null,Ut=Lt[typeof t]&&t&&!t.nodeType?t:null,Bt=u(Vt&&Ut&&"object"==typeof r&&r),Wt=u(Lt[typeof self]&&self),Gt=u(Lt[typeof window]&&window),zt=Ut&&Ut.exports===Vt?Vt:null,Ht=u(Lt[typeof this]&&this),$t=Bt||Gt!==(Ht&&Ht.window)&&Gt||Wt||Ht||Function("return this")(),Jt={internals:{},config:{Promise:$t.Promise},helpers:{}},Kt=Jt.helpers.noop=function(){},Xt=Jt.helpers.identity=function(t){return t},Qt=Jt.helpers.defaultNow=Date.now,Zt=Jt.helpers.defaultComparer=function(t,e){return Le(t,e)},Yt=Jt.helpers.defaultSubComparer=function(t,e){return t>e?1:t<e?-1:0},te=(Jt.helpers.defaultKeySerializer=function(t){return t.toString()},Jt.helpers.defaultError=function(t){throw t}),ee=Jt.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},ne=Jt.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==toString.call(t)}),t}(),re={e:{}},oe=Jt.internals.tryCatch=function(t){if(!ne(t))throw new TypeError("fn must be a function");return a(t)};Jt.config.longStackSupport=!1;var ie=!1,se=oe(function(){throw new Error})();ie=!!se.e&&!!se.e.stack;var ue,ce=v(),ae="From previous event:",le=Jt.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};le.prototype=Object.create(Error.prototype),le.prototype.name="EmptyError";var fe=Jt.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};fe.prototype=Object.create(Error.prototype),fe.prototype.name="ObjectDisposedError";var he=Jt.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};he.prototype=Object.create(Error.prototype),he.prototype.name="ArgumentOutOfRangeError";var pe=Jt.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};pe.prototype=Object.create(Error.prototype),pe.prototype.name="NotSupportedError";var de=Jt.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};de.prototype=Object.create(Error.prototype),de.prototype.name="NotImplementedError";var ve=Jt.helpers.notImplemented=function(){throw new de},me=(Jt.helpers.notSupported=function(){throw new pe},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");$t.Set&&"function"==typeof(new $t.Set)["@@iterator"]&&(me="@@iterator");var ye=Jt.doneEnumerator={done:!0,value:s},be=Jt.helpers.isIterable=function(t){return t&&t[me]!==s},_e=Jt.helpers.isArrayLike=function(t){return t&&t.length!==s};Jt.helpers.iterator=me;var ge=Jt.internals.bindCallback=function(t,e,n){if(void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},we=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ee="[object Arguments]",Oe="[object Array]",Ce="[object Boolean]",xe="[object Date]",Se="[object Error]",ke="[object Number]",Ne="[object Object]",Ae="[object RegExp]",je="[object String]",Te={};Te["[object Float32Array]"]=Te["[object Float64Array]"]=Te["[object Int8Array]"]=Te["[object Int16Array]"]=Te["[object Int32Array]"]=Te["[object Uint8Array]"]=Te["[object Uint8ClampedArray]"]=Te["[object Uint16Array]"]=Te["[object Uint32Array]"]=!0,Te[Ee]=Te[Oe]=Te["[object ArrayBuffer]"]=Te[Ce]=Te[xe]=Te[Se]=Te["[object Function]"]=Te["[object Map]"]=Te[ke]=Te[Ne]=Te[Ae]=Te["[object Set]"]=Te[je]=Te["[object WeakMap]"]=!1;var De=Object.prototype,Re=De.hasOwnProperty,Me=De.toString,Fe=Math.pow(2,53)-1,Pe=Object.keys||function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i,s,u=[];for(i in o)t.call(o,i)&&u.push(i);if(e)for(s=0;s<r;s++)t.call(o,n[s])&&u.push(n[s]);return u}}(),ut=Jt.internals.isObject=function(t){var e=typeof t;return!!t&&("object"===e||"function"===e)},Ie=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),qe=Array.isArray||function(t){return _(t)&&g(t.length)&&Me.call(t)===Oe},Le=Jt.internals.isEqual=function(t,e){return x(t,e)},Ve=(Array.prototype.slice,Jt.internals.inherits=function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}),Ue=Jt.internals.addProperties=function(t){for(var e=[],n=1,r=arguments.length;n<r;n++)e.push(arguments[n]);for(var o=0,i=e.length;o<i;o++){var s=e[o];for(var u in s)t[u]=s[u]}},Be=Jt.internals.addRef=function(t,e){return new vs(function(n){return new en(e.getDisposable(),t.subscribe(n))})};k.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var We=Jt.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},Ge=We.prototype;Ge.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},Ge.percolate=function(t){if(!(t>=this.length||t<0)){var e=t-1>>1;if(!(e<0||e===t)&&this.isHigherPriority(t,e)){var n=this.items[t];this.items[t]=this.items[e],this.items[e]=n,this.percolate(e)}}},Ge.heapify=function(t){if(+t||(t=0),!(t>=this.length||t<0)){var e=2*t+1,n=2*t+2,r=t;if(e<this.length&&this.isHigherPriority(e,r)&&(r=e),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==t){var o=this.items[t];this.items[t]=this.items[r],this.items[r]=o,this.heapify(r)}}},Ge.peek=function(){return this.items[0].value},Ge.removeAt=function(t){this.items[t]=this.items[--this.length],this.items[this.length]=s,this.heapify()},Ge.dequeue=function(){var t=this.peek();return this.removeAt(0),t},Ge.enqueue=function(t){var e=this.length++;this.items[e]=new k(We.count++,t),this.percolate(e)},Ge.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},We.count=0;var ze=Jt.CompositeDisposable=function(){var t,e,n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];this.disposables=n,this.isDisposed=!1,this.length=n.length},He=ze.prototype;He.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},He.remove=function(t){var e=!1;if(!this.isDisposed){var n=this.disposables.indexOf(t);-1!==n&&(e=!0,this.disposables.splice(n,1),this.length--,t.dispose())}return e},He.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),n=0;n<t;n++)e[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;n<t;n++)e[n].dispose()}};var $e=Jt.Disposable=function(t){this.isDisposed=!1,this.action=t||Kt};$e.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var Je=$e.create=function(t){return new $e(t)},Ke=$e.empty={dispose:Kt},Xe=$e.isDisposable=function(t){return t&&ne(t.dispose)},Qe=$e.checkDisposed=function(t){if(t.isDisposed)throw new fe},Ze=$e._fixup=function(t){return Xe(t)?t:Ke},Ye=Jt.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};Ye.prototype.getDisposable=function(){return this.current},Ye.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;!e&&(this.current=t),e&&t&&t.dispose()},Ye.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null,t&&t.dispose()}};var tn=Jt.SerialDisposable=function(){this.isDisposed=!1,this.current=null};tn.prototype.getDisposable=function(){return this.current},tn.prototype.setDisposable=function(t){var e=this.isDisposed;if(!e){var n=this.current;this.current=t}n&&n.dispose(),e&&t&&t.dispose()},tn.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var en=Jt.BinaryDisposable=function(t,e){this._first=t,this._second=e,this.isDisposed=!1};en.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this._first;this._first=null,t&&t.dispose();var e=this._second;this._second=null,e&&e.dispose()}};var nn=Jt.NAryDisposable=function(t){this._disposables=t,this.isDisposed=!1};nn.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=0,e=this._disposables.length;t<e;t++)this._disposables[t].dispose();this._disposables.length=0}};var rn=Jt.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,0===--this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},e.prototype.getDisposable=function(){return this.isDisposed?Ke:new t(this)},e}();N.prototype.dispose=function(){this.scheduler.schedule(this,A)};var on=Jt.internals.ScheduledItem=function(t,e,n,r,o){this.scheduler=t,this.state=e,this.action=n,this.dueTime=r,this.comparer=o||Yt,this.disposable=new Ye};on.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},on.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},on.prototype.isCancelled=function(){return this.disposable.isDisposed},on.prototype.invokeCore=function(){return Ze(this.action(this.scheduler,this.state))};var sn=Jt.Scheduler=function(){function t(){}t.isScheduler=function(e){return e instanceof t};var e=t.prototype;return e.schedule=function(t,e){throw new de},e.scheduleFuture=function(e,n,r){var o=n;return o instanceof Date&&(o-=this.now()),o=t.normalize(o),0===o?this.schedule(e,r):this._scheduleFuture(e,o,r)},e._scheduleFuture=function(t,e,n){throw new de},t.now=Qt,t.prototype.now=Qt,t.normalize=function(t){return t<0&&(t=0),t},t}(),un=sn.normalize,cn=sn.isScheduler;!function(t){function e(t,e){function n(e){function r(t,e){return s?i.remove(c):u=!0,o(e,n),Ke}var s=!1,u=!1,c=t.schedule(e,r);u||(i.add(c),s=!0)}var r=e[0],o=e[1],i=new ze;return o(r,n),i}function n(t,e){function n(e,r){function s(t,e){return u?i.remove(a):c=!0,o(e,n),Ke}var u=!1,c=!1,a=t.scheduleFuture(e,r,s);c||(i.add(a),u=!0)}var r=e[0],o=e[1],i=new ze;return o(r,n),i}t.scheduleRecursive=function(t,n){return this.schedule([t,n],e)},t.scheduleRecursiveFuture=function(t,e,r){return this.scheduleFuture([t,r],e,n)}}(sn.prototype),function(t){t.schedulePeriodic=function(t,e,n){if(void 0===$t.setInterval)throw new pe;e=un(e);var r=t,o=$t.setInterval(function(){r=n(r)},e);return Je(function(){$t.clearInterval(o)})}}(sn.prototype),function(t){t.catchError=t.catch=function(t){return new wn(this,t)}}(sn.prototype);var an,ln,fn=Jt.internals.SchedulePeriodicRecursive=function(){function t(t){return function(e,n){n(0,t._period);var r=oe(t._action)(t._state);r===re&&(t._cancel.dispose(),l(r.e)),t._state=r}}function e(t,e,n,r){this._scheduler=t,this._state=e,this._period=n,this._action=r}return e.prototype.start=function(){var e=new Ye;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,t(this))),e},e}(),hn=function(t){function e(){t.call(this)}return Ve(e,t),e.prototype.schedule=function(t,e){return Ze(e(this,t))},e}(sn),pn=sn.immediate=new hn,dn=function(t){function e(){for(;r.length>0;){var t=r.dequeue();!t.isCancelled()&&t.invoke()}}function n(){t.call(this)}var r;return Ve(n,t),n.prototype.schedule=function(t,n){var o=new on(this,t,n,this.now());if(r)r.enqueue(o);else{r=new We(4),r.enqueue(o);var i=oe(e)();r=null,i===re&&l(i.e)}return o.disposable},n.prototype.scheduleRequired=function(){return!r},n}(sn),vn=sn.currentThread=new dn,mn=function(){var t,e=Kt;if($t.setTimeout)t=$t.setTimeout,e=$t.clearTimeout;else{if(!$t.WScript)throw new pe;t=function(t,e){$t.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}(),yn=mn.setTimeout,bn=mn.clearTimeout;!function(){function t(e){if(r)yn(function(){t(e)},0);else{var o=n[e];if(o){r=!0;var i=oe(o)();ln(e),r=!1,i===re&&l(i.e)}}}var e=1,n={},r=!1;ln=function(t){delete n[t]};var i=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),s="function"==typeof(s=Bt&&zt&&Bt.setImmediate)&&!i.test(s)&&s;if(ne(s))an=function(r){var o=e++;return n[o]=r,s(function(){t(o)}),o};else if(void 0!==o&&"[object process]"==={}.toString.call(o))an=function(r){var i=e++;return n[i]=r,o.nextTick(function(){t(i)}),i};else if(function(){if(!$t.postMessage||$t.importScripts)return!1;var t=!1,e=$t.onmessage;return $t.onmessage=function(){t=!0},$t.postMessage("","*"),$t.onmessage=e,t}()){var u="ms.rx.schedule"+Math.random(),c=function(e){"string"==typeof e.data&&e.data.substring(0,u.length)===u&&t(e.data.substring(u.length))};$t.addEventListener("message",c,!1),an=function(t){var r=e++;return n[r]=t,$t.postMessage(u+r,"*"),r}}else if($t.MessageChannel){var a=new $t.MessageChannel;a.port1.onmessage=function(e){t(e.data)},an=function(t){var r=e++;return n[r]=t,a.port2.postMessage(r),r}}else an="document"in $t&&"onreadystatechange"in $t.document.createElement("script")?function(r){var o=$t.document.createElement("script"),i=e++;return n[i]=r,o.onreadystatechange=function(){t(i),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},$t.document.documentElement.appendChild(o),i}:function(r){var o=e++;return n[o]=r,yn(function(){t(o)},0),o}}();var _n=function(t){function e(){t.call(this)}function n(t,e,n,r){return function(){t.setDisposable($e._fixup(e(n,r)))}}function r(t){this._id=t,this.isDisposed=!1}function o(t){this._id=t,this.isDisposed=!1}function i(t,e,n){return function(){e(t,n)}}return Ve(e,t),r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,ln(this._id))},o.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,bn(this._id))},e.prototype.schedule=function(t,e){var o=new Ye,i=an(n(o,e,this,t));return new en(o,new r(i))},e.prototype._scheduleFuture=function(t,e,r){if(0===e)return this.schedule(t,r);var i=new Ye,s=yn(n(i,r,this,t),e);return new en(i,new o(s))},e.prototype.scheduleLongRunning=function(t,e){var n=Je(Kt);return an(i(t,e,n)),n},e}(sn),gn=sn.default=sn.async=new _n,wn=function(t){function e(e,n){this._scheduler=e,this._handler=n,this._recursiveOriginal=null,this._recursiveWrapper=null,t.call(this)}return Ve(e,t),e.prototype.schedule=function(t,e){return this._scheduler.schedule(t,this._wrap(e))},e.prototype._scheduleFuture=function(t,e,n){return this._scheduler.schedule(t,e,this._wrap(n))},e.prototype.now=function(){return this._scheduler.now()},e.prototype._clone=function(t){return new e(t,this._handler)},e.prototype._wrap=function(t){var e=this;return function(n,r){var o=oe(t)(e._getRecursiveWrapper(n),r);return o===re?(e._handler(o.e)||l(o.e),Ke):Ze(o)}},e.prototype._getRecursiveWrapper=function(t){if(this._recursiveOriginal!==t){this._recursiveOriginal=t;var e=this._clone(t);e._recursiveOriginal=t,e._recursiveWrapper=e,this._recursiveWrapper=e}return this._recursiveWrapper},e.prototype.schedulePeriodic=function(t,e,n){var r=this,o=!1,i=new Ye;return i.setDisposable(this._scheduler.schedulePeriodic(t,e,function(t){if(o)return null;var e=oe(n)(t);return e===re?(o=!0,r._handler(e.e)||l(e.e),i.dispose(),null):e})),i},e}(sn),En=Jt.Notification=function(){function t(){}return t.prototype._accept=function(t,e,n){throw new de},t.prototype._acceptObserver=function(t,e,n){throw new de},t.prototype.accept=function(t,e,n){return t&&"object"==typeof t?this._acceptObserver(t):this._accept(t,e,n)},t.prototype.toObservable=function(t){var e=this;return cn(t)||(t=pn),new vs(function(n){return t.schedule(e,function(t,e){e._acceptObserver(n),"N"===e.kind&&n.onCompleted()})})},t}(),On=function(t){function e(t){this.value=t,this.kind="N"}return Ve(e,t),e.prototype._accept=function(t){return t(this.value)},e.prototype._acceptObserver=function(t){return t.onNext(this.value)},e.prototype.toString=function(){return"OnNext("+this.value+")"},e}(En),Cn=function(t){function e(t){this.error=t,this.kind="E"}return Ve(e,t),e.prototype._accept=function(t,e){return e(this.error)},e.prototype._acceptObserver=function(t){return t.onError(this.error)},e.prototype.toString=function(){return"OnError("+this.error+")"},e}(En),xn=function(t){function e(){this.kind="C"}return Ve(e,t),e.prototype._accept=function(t,e,n){return n()},e.prototype._acceptObserver=function(t){return t.onCompleted()},e.prototype.toString=function(){return"OnCompleted()"},e}(En),Sn=En.createOnNext=function(t){return new On(t)},kn=En.createOnError=function(t){return new Cn(t)},Nn=En.createOnCompleted=function(){return new xn},An=Jt.Observer=function(){};An.prototype.toNotifier=function(){var t=this;return function(e){return e.accept(t)}},An.prototype.asObserver=function(){var t=this;return new Rn(function(e){t.onNext(e)},function(e){t.onError(e)},function(){t.onCompleted()})},An.prototype.checked=function(){return new Mn(this)};var jn=An.create=function(t,e,n){return t||(t=Kt),e||(e=te),n||(n=Kt),new Rn(t,e,n)};An.fromNotifier=function(t,e){var n=ge(t,e,1);return new Rn(function(t){return n(Sn(t))},function(t){return n(kn(t))},function(){return n(Nn())})},An.prototype.notifyOn=function(t){return new Pn(t,this)},An.prototype.makeSafe=function(t){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,t)};var Tn,Dn=Jt.internals.AbstractObserver=function(t){function e(){this.isStopped=!1}return Ve(e,t),e.prototype.next=ve,e.prototype.error=ve,e.prototype.completed=ve,e.prototype.onNext=function(t){!this.isStopped&&this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.error(t),!0)},e}(An),Rn=Jt.AnonymousObserver=function(t){function e(e,n,r){t.call(this),this._onNext=e,this._onError=n,this._onCompleted=r}return Ve(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(Dn),Mn=function(t){function e(e){t.call(this),this._observer=e,this._state=0}Ve(e,t);var n=e.prototype;return n.onNext=function(t){this.checkAccess();var e=oe(this._observer.onNext).call(this._observer,t);this._state=0,e===re&&l(e.e)},n.onError=function(t){this.checkAccess();var e=oe(this._observer.onError).call(this._observer,t);this._state=2,e===re&&l(e.e)},n.onCompleted=function(){this.checkAccess();var t=oe(this._observer.onCompleted).call(this._observer);this._state=2,t===re&&l(t.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},e}(An),Fn=Jt.internals.ScheduledObserver=function(t){function e(e,n){t.call(this),this.scheduler=e,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new tn}function n(t,e){return function(){t.onNext(e)}}function r(t,e){return function(){t.onError(e)}}function o(t){return function(){t.onCompleted()}}function i(t,e){var n;if(!(t.queue.length>0))return void(t.isAcquired=!1);n=t.queue.shift();var r=oe(n)();if(r===re)return t.queue=[],t.hasFaulted=!0,l(r.e);e(t)}return Ve(e,t),e.prototype.next=function(t){this.queue.push(n(this.observer,t))},e.prototype.error=function(t){this.queue.push(r(this.observer,t))},e.prototype.completed=function(){this.queue.push(o(this.observer))},e.prototype.ensureActive=function(){var t=!1;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,i))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(Dn),Pn=function(t){function e(e,n,r){t.call(this,e,n),this._cancel=r}return Ve(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.ensureActive()},e.prototype.error=function(e){t.prototype.error.call(this,e),this.ensureActive()},e.prototype.completed=function(){t.prototype.completed.call(this),this.ensureActive()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},e}(Fn),In=Jt.Observable=function(){function t(t,e){return function(n){var r=n.onError;return n.onError=function(e){f(e,t),r.call(n,e)},e.call(t,n)}}function e(){if(Jt.config.longStackSupport&&ie){var e=this._subscribe,n=oe(l)(new Error).e;this.stack=n.stack.substring(n.stack.indexOf("\n")+1),this._subscribe=t(this,e)}}return Tn=e.prototype,e.isObservable=function(t){return t&&ne(t.subscribe)},Tn.subscribe=Tn.forEach=function(t,e,n){return this._subscribe("object"==typeof t?t:jn(t,e,n))},Tn.subscribeOnNext=function(t,e){return this._subscribe(jn(void 0!==e?function(n){t.call(e,n)}:t))},Tn.subscribeOnError=function(t,e){return this._subscribe(jn(null,void 0!==e?function(n){t.call(e,n)}:t))},Tn.subscribeOnCompleted=function(t,e){return this._subscribe(jn(null,null,void 0!==e?function(){t.call(e)}:t))},e}(),qn=Jt.ObservableBase=function(t){function e(t){return t&&ne(t.dispose)?t:ne(t)?Je(t):Ke}function n(t,n){var r=n[0],o=n[1],i=oe(o.subscribeCore).call(o,r);i!==re||r.fail(re.e)||l(re.e),r.setDisposable(e(i))}function r(){t.call(this)}return Ve(r,t),r.prototype._subscribe=function(t){var e=new ms(t),r=[e,this];return vn.scheduleRequired()?vn.schedule(r,n):n(null,r),e},r.prototype.subscribeCore=ve,r}(In),Ln=Jt.FlatMapObservable=function(t){function e(e,n,r,o){this.resultSelector=ne(r)?r:null,this.selector=ge(ne(n)?n:function(){return n},o,3),this.source=e,t.call(this)}function n(t,e,n,r){this.i=0,this.selector=e,this.resultSelector=n,this.source=r,this.o=t,Dn.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.selector,this.resultSelector,this))},Ve(n,Dn),n.prototype._wrapResult=function(t,e,n){return this.resultSelector?t.map(function(t,r){return this.resultSelector(e,t,n,r)},this):t},n.prototype.next=function(t){var e=this.i++,n=oe(this.selector)(t,e,this.source);if(n===re)return this.o.onError(n.e);ee(n)&&(n=Xn(n)),(_e(n)||be(n))&&(n=In.from(n)),this.o.onNext(this._wrapResult(n,t,e))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onCompleted()},e}(qn),Vn=Jt.internals.Enumerable=function(){};j.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var Un=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=oe(t.e.next).call(t.e);if(n===re)return t.o.onError(n.e);if(n.done)return t.o.onCompleted();var o=n.value;ee(o)&&(o=Xn(o));var i=new Ye;t.subscription.setDisposable(i),i.setDisposable(o.subscribe(new r(t,e)))}}function r(t,e){this._state=t,this._recurse=e,Dn.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new tn,r={isDisposed:!1,o:t,subscription:e,e:this.sources[me]()},o=vn.scheduleRecursive(r,n);return new nn([e,o,new j(r)])},Ve(r,Dn),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.o.onError(t)},r.prototype.completed=function(){this._recurse(this._state)},e}(qn);Vn.prototype.concat=function(){return new Un(this)};var Bn=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=oe(t.e.next).call(t.e);if(n===re)return t.o.onError(n.e);if(n.done)return null!==t.lastError?t.o.onError(t.lastError):t.o.onCompleted();var o=n.value;ee(o)&&(o=Xn(o));var i=new Ye;t.subscription.setDisposable(i),i.setDisposable(o.subscribe(new r(t,e)))}}function r(t,e){this._state=t,this._recurse=e,Dn.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new tn,r={isDisposed:!1,e:this.sources[me](),subscription:e,lastError:null,o:t},o=vn.scheduleRecursive(r,n);return new nn([e,o,new j(r)])},Ve(r,Dn),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.lastError=t,this._recurse(this._state)},r.prototype.completed=function(){this._state.o.onCompleted()},e}(qn);Vn.prototype.catchError=function(){return new Bn(this)};var Wn=function(t){function e(t,e){this.v=t,this.c=null==e?-1:e}function n(t){this.v=t.v,this.l=t.c}return Ve(e,t),e.prototype[me]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?ye:(this.l>0&&this.l--,{done:!1,value:this.v})},e}(Vn),Gn=Vn.repeat=function(t,e){return new Wn(t,e)},zn=function(t){function e(t,e,n){this.s=t,this.fn=e?ge(e,n,3):null}function n(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}return Ve(e,t),e.prototype[me]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:ye},e}(Vn),Hn=Vn.of=function(t,e,n){return new zn(t,e,n)},$n=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Pn(this._s,t))},e}(qn);Tn.observeOn=function(t){return new $n(this,t)};var Jn=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],r=e[1],o=e[2];r.setDisposable(new N(t,n.subscribe(o)))}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new Ye,r=new tn;return r.setDisposable(e),e.setDisposable(this._s.schedule([this.source,r,t],n)),r},e}(qn);Tn.subscribeOn=function(t){return new Jn(this,t)};var Kn=function(t){function e(e,n){this._p=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];n.onNext(r),n.onCompleted()}function r(t,e){var n=e[0],r=e[1];n.onError(r)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new Ye,o=this,i=this._p;return ne(i)&&(i=oe(i)())===re?(t.onError(i.e),e):(i.then(function(r){e.setDisposable(o._s.schedule([t,r],n))},function(n){e.setDisposable(o._s.schedule([t,n],r))}),e)},e}(qn),Xn=In.fromPromise=function(t,e){return e||(e=gn),new Kn(t,e)};Tn.toPromise=function(t){if(t||(t=Jt.config.Promise),!t)throw new pe("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,n){var r;e.subscribe(function(t){r=t},n,function(){t(r)})})};var Qn=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.a=[],Dn.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},Ve(n,Dn),n.prototype.next=function(t){this.a.push(t)},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},e}(qn);Tn.toArray=function(){return new Qn(this)},In.create=function(t,e){return new vs(t,e)};var Zn=function(t){function e(e){this._f=e,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=oe(this._f)();return e===re?yr(e.e).subscribe(t):(ee(e)&&(e=Xn(e)),e.subscribe(t))},e}(qn),Yn=In.defer=function(t){return new Zn(t)},tr=function(t){function e(e){this.scheduler=e,t.call(this)}function n(t,e){this.observer=t,this.scheduler=e}function r(t,e){return e.onCompleted(),Ke}return Ve(e,t),e.prototype.subscribeCore=function(t){return new n(t,this.scheduler).run()},n.prototype.run=function(){var t=this.observer;return this.scheduler===pn?r(null,t):this.scheduler.schedule(t,r)},e}(qn),er=new tr(pn),nr=In.empty=function(t){return cn(t)||(t=pn),t===pn?er:new tr(t)},rr=function(t){function e(e,n,r){this._iterable=e,this._fn=n,this._scheduler=r,t.call(this)}function n(t,e,n){return function(r,o){var i=oe(e.next).call(e);if(i===re)return t.onError(i.e);if(i.done)return t.onCompleted();var s=i.value;if(ne(n)&&(s=oe(n)(s,r))===re)return t.onError(s.e);t.onNext(s),o(r+1)}}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=Object(this._iterable),r=P(e);return this._scheduler.scheduleRecursive(0,n(t,r,this._fn))},e}(qn),or=Math.pow(2,53)-1;T.prototype[me]=function(){return new D(this._s)},D.prototype[me]=function(){return this},D.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:ye},R.prototype[me]=function(){return new M(this._a)},M.prototype[me]=function(){return this},M.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:ye};var ir=In.from=function(t,e,n,r){if(null==t)throw new Error("iterable cannot be null.");if(e&&!ne(e))throw new Error("mapFn when provided must be a function");if(e)var o=ge(e,n,2);return cn(r)||(r=vn),new rr(t,o,r)},sr=function(t){function e(e,n){this._args=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e.length;return function(r,o){r<n?(t.onNext(e[r]),o(r+1)):t.onCompleted()}}return Ve(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._args))},e}(qn),ur=In.fromArray=function(t,e){return cn(e)||(e=vn),new sr(t,e)},cr=function(t){function e(e,n,r,o,i){this._initialState=e,this._cndFn=n,this._itrFn=r,this._resFn=o,this._s=i,t.call(this)}function n(t,e){if(t.first)t.first=!1;else if(t.newState=oe(t.self._itrFn)(t.newState),t.newState===re)return t.o.onError(t.newState.e);var n=oe(t.self._cndFn)(t.newState);if(n===re)return t.o.onError(n.e);if(n){var r=oe(t.self._resFn)(t.newState);if(r===re)return t.o.onError(r.e);t.o.onNext(r),e(t)}else t.o.onCompleted()}return Ve(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,first:!0,newState:this._initialState};return this._s.scheduleRecursive(e,n)},e}(qn);In.generate=function(t,e,n,r,o){return cn(o)||(o=vn),new cr(t,e,n,r,o)},In.of=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new sr(e,vn)},In.ofWithScheduler=function(t){for(var e=arguments.length,n=new Array(e-1),r=1;r<e;r++)n[r-1]=arguments[r];return new sr(n,t)},In.ofArrayChanges=function(t){if(!Array.isArray(t))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new vs(function(e){function n(t){for(var n=0,r=t.length;n<r;n++)e.onNext(t[n])}return Array.observe(t,n),function(){Array.unobserve(t,n)}})},In.ofObjectChanges=function(t){if(null==t)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new vs(function(e){function n(t){for(var n=0,r=t.length;n<r;n++)e.onNext(t[n])}return Object.observe(t,n),function(){Object.unobserve(t,n)}})};var ar=function(t){function e(){t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return Ke},e}(qn),lr=new ar,fr=In.never=function(){return lr},hr=function(t){function e(e,n){this._o=e,this._keys=Object.keys(e),this._scheduler=n,t.call(this)}function n(t,e,n){return function(r,o){if(r<n.length){var i=n[r];t.onNext([i,e[i]]),o(r+1)}else t.onCompleted()}}return Ve(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._o,this._keys))},e}(qn);In.pairs=function(t,e){return e||(e=vn),new hr(t,e)};var pr=function(t){function e(e,n,r){this.start=e,this.rangeCount=n,this.scheduler=r,t.call(this)}function n(t,e,n){return function(r,o){r<e?(n.onNext(t+r),o(r+1)):n.onCompleted()}}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.scheduler.scheduleRecursive(0,n(this.start,this.rangeCount,t))},e}(qn);In.range=function(t,e,n){return cn(n)||(n=vn),new pr(t,e,n)};var dr=function(t){function e(e,n,r){this.value=e,this.repeatCount=null==n?-1:n,this.scheduler=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return new V(t,this).run()},e}(qn);V.prototype.run=function(){function t(t,r){if((-1===t||t>0)&&(e.onNext(n),t>0&&t--),0===t)return e.onCompleted();r(t)}var e=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,t)},In.repeat=function(t,e,n){return cn(n)||(n=vn),new dr(t,e,n)};var vr=function(t){function e(e,n){this._value=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];return r.onNext(n),r.onCompleted(),Ke}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=[this._value,t];return this._scheduler===pn?n(null,e):this._scheduler.schedule(e,n)},e}(qn),mr=(In.return=In.just=function(t,e){return cn(e)||(e=pn),new vr(t,e)},function(t){function e(e,n){this._error=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0];return e[1].onError(n),Ke}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=[this._error,t];return this._scheduler===pn?n(null,e):this._scheduler.schedule(e,n)},e}(qn)),yr=In.throw=function(t,e){return cn(e)||(e=pn),new mr(t,e)},br=function(t){function e(e,n){this._resFn=e,this._obsFn=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=Ke,n=oe(this._resFn)();if(n===re)return new en(yr(n.e).subscribe(t),e);n&&(e=n);var r=oe(this._obsFn)(n);return r===re?new en(yr(r.e).subscribe(t),e):new en(r.subscribe(t),e)},e}(qn);In.using=function(t,e){return new br(t,e)},Tn.amb=function(t){var e=this;return new vs(function(n){function r(){i||(i=s,a.dispose())}function o(){i||(i=u,c.dispose())}var i,s="L",u="R",c=new Ye,a=new Ye;ee(t)&&(t=Xn(t));var l=jn(function(t){r(),i===s&&n.onNext(t)},function(t){r(),i===s&&n.onError(t)},function(){r(),i===s&&n.onCompleted()}),f=jn(function(t){o(),i===u&&n.onNext(t)},function(t){o(),i===u&&n.onError(t)},function(){o(),i===u&&n.onCompleted()});return c.setDisposable(e.subscribe(l)),a.setDisposable(t.subscribe(f)),new en(c,a)})},In.amb=function(){var t,e=fr();if(Array.isArray(arguments[0]))t=arguments[0];else{var n=arguments.length;t=new Array(t);for(var r=0;r<n;r++)t[r]=arguments[r]}for(var r=0,n=t.length;r<n;r++)e=U(e,t[r]);return e};var _r=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new Ye,n=new tn;return n.setDisposable(e),e.setDisposable(this.source.subscribe(new gr(t,n,this._fn))),n},e}(qn),gr=function(t){function e(e,n,r){this._o=e,this._s=n,this._fn=r,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._o.onNext(t)},e.prototype.completed=function(){return this._o.onCompleted()},e.prototype.error=function(t){var e=oe(this._fn)(t);if(e===re)return this._o.onError(e.e);ee(e)&&(e=Xn(e));var n=new Ye;this._s.setDisposable(n),n.setDisposable(e.subscribe(this._o))},e}(Dn);Tn.catch=function(t){return ne(t)?new _r(this,t):wr([this,t])};var wr=In.catch=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return Hn(t).catchError()};Tn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Cr.apply(this,e)};var Er=function(t){function e(e,n){this._params=e,this._cb=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){for(var e=this._params.length,n=new Array(e),r={hasValue:S(e,B),hasValueAll:!1,isDone:S(e,B),values:new Array(e)},o=0;o<e;o++){var i=this._params[o],s=new Ye;n[o]=s,ee(i)&&(i=Xn(i)),s.setDisposable(i.subscribe(new Or(t,o,this._cb,r)))}return new nn(n)},e}(qn),Or=function(t){function e(e,n,r,o){this._o=e,this._i=n,this._cb=r,this._state=o,t.call(this)}function n(t){return function(e,n){return n!==t}}return Ve(e,t),e.prototype.next=function(t){if(this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(Xt))){var e=oe(this._cb).apply(null,this._state.values);if(e===re)return this._o.onError(e.e);this._o.onNext(e)}else this._state.isDone.filter(n(this._i)).every(Xt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(Xt)&&this._o.onCompleted()},e}(Dn),Cr=In.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ne(e[t-1])?e.pop():W;return Array.isArray(e[0])&&(e=e[0]),new Er(e,r)};Tn.concat=function(){for(var t=[],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);return t.unshift(this),kr.apply(null,t)};var xr=function(t){function e(e,n){this._s=e,this._fn=n,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._s.o.onNext(t)},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.i++,this._fn(this._s)},e}(Dn),Sr=function(t){function e(e){this._sources=e,t.call(this)}function n(t,e){if(!t.disposable.isDisposed){if(t.i===t.sources.length)return t.o.onCompleted();var n=t.sources[t.i];ee(n)&&(n=Xn(n));var r=new Ye;t.subscription.setDisposable(r),r.setDisposable(n.subscribe(new xr(t,e)))}}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new tn,r=Je(Kt),o={o:t,i:0,subscription:e,disposable:r,sources:this._sources},i=pn.scheduleRecursive(o,n);return new nn([e,r,i])},e}(qn),kr=In.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,n=arguments.length;e<n;e++)t[e]=arguments[e]}return new Sr(t)};Tn.concatAll=function(){return this.merge(1)};var Nr=function(t){function e(e,n){this.source=e,this.maxConcurrent=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new ze;return e.add(this.source.subscribe(new Ar(t,this.maxConcurrent,e))),e},e}(qn),Ar=function(t){function e(e,n,r){this.o=e,this.max=n,this.g=r,this.done=!1,this.q=[],this.activeCount=0,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return Ve(e,t),e.prototype.handleSubscribe=function(t){var e=new Ye;this.g.add(e),ee(t)&&(t=Xn(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.next=function(t){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t)},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},Ve(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},e}(Dn);Tn.merge=function(t){return"number"!=typeof t?jr(this,t):new Nr(this,t)};var jr=In.merge=function(){var t,e,n=[],r=arguments.length;if(arguments[0])if(cn(arguments[0]))for(t=arguments[0],e=1;e<r;e++)n.push(arguments[e]);else for(t=pn,e=0;e<r;e++)n.push(arguments[e]);else for(t=pn,e=1;e<r;e++)n.push(arguments[e]);return Array.isArray(n[0])&&(n=n[0]),L(t,n).mergeAll()},Tr=function(t){function e(e){this.source=e,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new ze,n=new Ye;return e.add(n),n.setDisposable(this.source.subscribe(new Dr(t,e))),e},e}(qn),Dr=function(t){function e(e,n){this.o=e,this.g=n,this.done=!1,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=new Ye;this.g.add(e),ee(t)&&(t=Xn(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},Ve(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},e}(Dn);Tn.mergeAll=function(){return new Tr(this)};var Rr=Jt.CompositeError=function(t){this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Rr.prototype=Object.create(Error.prototype),Rr.prototype.name="CompositeError";var Mr=function(t){function e(e){this.source=e,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new ze,n=new Ye,r={isStopped:!1,errors:[],o:t};return e.add(n),n.setDisposable(this.source.subscribe(new Fr(e,r))),e},e}(qn),Fr=function(t){function e(e,n){this._group=e,this._state=n,t.call(this)}function n(t,e){0===e.length?t.onCompleted():1===e.length?t.onError(e[0]):t.onError(new Rr(e))}function r(e,n,r){this._inner=e,this._group=n,this._state=r,t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=new Ye;this._group.add(e),ee(t)&&(t=Xn(t)),e.setDisposable(t.subscribe(new r(e,this._group,this._state)))},e.prototype.error=function(t){this._state.errors.push(t),this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},e.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},Ve(r,t),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.errors.push(t),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},r.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},e}(Dn);In.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}var r=L(null,t);return new Mr(r)},Tn.onErrorResumeNext=function(t){if(!t)throw new Error("Second observable is required");return qr([this,t])};var Pr=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(t.pos<t.sources.length){var n=t.sources[t.pos++];ee(n)&&(n=Xn(n));var r=new Ye;t.subscription.setDisposable(r),r.setDisposable(n.subscribe(new Ir(t,e)))}else t.o.onCompleted()}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new tn,r={pos:0,subscription:e,o:t,sources:this.sources},o=pn.scheduleRecursive(r,n);return new en(e,o)},e}(qn),Ir=function(t){function e(e,n){this._state=e,this._recurse=n,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._state.o.onNext(t)},e.prototype.error=function(){this._recurse(this._state)},e.prototype.completed=function(){this._recurse(this._state)},e}(Dn),qr=In.onErrorResumeNext=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return new Pr(t)},Lr=function(t){function e(e,n){this._s=e,this._o=ee(n)?Xn(n):n,this._open=!1,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new Ye;e.setDisposable(this._s.subscribe(new Vr(t,this))),ee(this._o)&&(this._o=Xn(this._o));var n=new Ye;return n.setDisposable(this._o.subscribe(new Ur(t,this,n))),new en(e,n)},e}(qn),Vr=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},e}(Dn),Ur=function(t){function e(e,n,r){this._o=e,this._p=n,this._r=r,t.call(this)}return Ve(e,t),e.prototype.next=function(){this._p._open=!0,this._r.dispose()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._r.dispose()},e}(Dn);Tn.skipUntil=function(t){return new Lr(this,t)};var Br=function(t){function e(e){this.source=e,t.call(this)}function n(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,Dn.call(this)}function r(t,e){this.parent=t,this.id=e,Dn.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new tn,r=this.source.subscribe(new n(t,e));return new en(r,e)},Ve(n,Dn),n.prototype.next=function(t){var e=new Ye,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),ee(t)&&(t=Xn(t)),e.setDisposable(t.subscribe(new r(this,n)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},Ve(r,Dn),r.prototype.next=function(t){this.parent.latest===this.id&&this.parent.o.onNext(t)},r.prototype.error=function(t){this.parent.latest===this.id&&this.parent.o.onError(t)},r.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},e}(qn);Tn.switch=Tn.switchLatest=function(){return new Br(this)};var Wr=function(t){function e(e,n){this.source=e,this.other=ee(n)?Xn(n):n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return new en(this.source.subscribe(t),this.other.subscribe(new Gr(t)))},e}(qn),Gr=function(t){function e(e){this._o=e,t.call(this)}return Ve(e,t),e.prototype.next=function(){this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=Kt,e}(Dn);Tn.takeUntil=function(t){return new Wr(this,t)};var zr=function(t){function e(e,n,r){this._s=e,this._ss=n,this._cb=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){for(var e=this._ss.length,n={hasValue:S(e,B),hasValueAll:!1,values:new Array(e)},r=this._ss.length,o=new Array(r+1),i=0;i<r;i++){var s=this._ss[i],u=new Ye;ee(s)&&(s=Xn(s)),u.setDisposable(s.subscribe(new Hr(t,i,n))),o[i]=u}var c=new Ye;return c.setDisposable(this._s.subscribe(new $r(t,this._cb,n))),o[r]=c,new nn(o)},e}(qn),Hr=function(t){function e(e,n,r){this._o=e,this._i=n,this._state=r,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(Xt)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=Kt,e}(Dn),$r=function(t){function e(e,n,r){this._o=e,this._cb=n,this._state=r,t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=[t].concat(this._state.values);if(this._state.hasValueAll){var n=oe(this._cb).apply(null,e);if(n===re)return this._o.onError(n.e);this._o.onNext(n)}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);Tn.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ne(e[t-1])?e.pop():W;return Array.isArray(e[0])&&(e=e[0]),new zr(this,e,r)};var Jr=function(t){function e(e,n){this._s=e,this._cb=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){for(var e=this._s.length,n=new Array(e),r=S(e,B),o=S(e,G),i=0;i<e;i++){var s=this._s[i],u=new Ye;n[i]=u,ee(s)&&(s=Xn(s)),u.setDisposable(s.subscribe(new Kr(t,i,this,o,r)))}return new nn(n)},e}(qn),Kr=function(t){function e(e,n,r,o,i){this._o=e,this._i=n,this._p=r,this._q=o,this._d=i,t.call(this)}function n(t){return t.length>0}function r(t){return t.shift()}function o(t){return function(e,n){return n!==t}}return Ve(e,t),e.prototype.next=function(t){if(this._q[this._i].push(t),this._q.every(n)){var e=this._q.map(r),i=oe(this._p._cb).apply(null,e);if(i===re)return this._o.onError(i.e);this._o.onNext(i)}else this._d.filter(o(this._i)).every(Xt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d[this._i]=!0,this._d.every(Xt)&&this._o.onCompleted()},e}(Dn);Tn.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ne(e[t-1])?e.pop():W;Array.isArray(e[0])&&(e=e[0]);var o=this;return e.unshift(o),new Jr(e,r)},In.zip=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.isArray(e[0])&&(e=ne(e[1])?e[0].concat(e[1]):e[0]);var r=e.shift();return r.zip.apply(r,e)};var Xr=function(t){function e(e,n){this.sources=e,this._cb=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){for(var e=this.sources,n=e.length,r=new Array(n),o={q:S(n,G),done:S(n,B),cb:this._cb,o:t},i=0;i<n;i++)!function(t){var n=e[t],i=new Ye;(_e(n)||be(n))&&(n=ir(n)),r[t]=i,i.setDisposable(n.subscribe(new Qr(o,t)))}(i);return new nn(r)},e}(qn),Qr=function(t){function e(e,n){this._s=e,this._i=n,t.call(this)}function n(t){return t.length>0}function r(t){return t.shift()}function o(t){return function(e,n){return n!==t}}return Ve(e,t),e.prototype.next=function(t){if(this._s.q[this._i].push(t),this._s.q.every(n)){var e=this._s.q.map(r),i=oe(this._s.cb).apply(null,e);if(i===re)return this._s.o.onError(i.e);this._s.o.onNext(i)}else this._s.done.filter(o(this._i)).every(Xt)&&this._s.o.onCompleted()},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(Xt)&&this._s.o.onCompleted()},e}(Dn);Tn.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ne(e[t-1])?e.pop():W,o=this;return e.unshift(o),new Xr(e,r)},Tn.asObservable=function(){return new vs(z(this),this)},Tn.bufferWithCount=Tn.bufferCount=function(t,e){return"number"!=typeof e&&(e=t),this.windowWithCount(t,e).flatMap(H).filter($)};var Zr=function(t){function e(e){this.source=e,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Yr(t))},e}(qn),Yr=function(t){function e(e){this._o=e,t.call(this)}return Ve(e,t),e.prototype.next=function(t){t.accept(this._o)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);Tn.dematerialize=function(){return new Zr(this)};var to=function(t){function e(e,n,r){this.source=e,this.keyFn=n,this.comparer=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new eo(t,this.keyFn,this.comparer))},e}(qn),eo=function(t){function e(e,n,r){this.o=e,this.keyFn=n,this.comparer=r,this.hasCurrentKey=!1,this.currentKey=null,t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e,n=t;return ne(this.keyFn)&&(n=oe(this.keyFn)(t))===re?this.o.onError(n.e):this.hasCurrentKey&&(e=oe(this.comparer)(this.currentKey,n))===re?this.o.onError(e.e):void(this.hasCurrentKey&&e||(this.hasCurrentKey=!0,this.currentKey=n,this.o.onNext(t)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.o.onCompleted()},e}(Dn);Tn.distinctUntilChanged=function(t,e){return e||(e=Zt),new to(this,t,e)};var no=function(t){function e(e,n,r,o){this.source=e,this._oN=n,this._oE=r,this._oC=o,t.call(this)}function n(t,e){this.o=t,this.t=!e._oN||ne(e._oN)?jn(e._oN||Kt,e._oE||Kt,e._oC||Kt):e._oN,this.isStopped=!1,Dn.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this))},Ve(n,Dn),n.prototype.next=function(t){var e=oe(this.t.onNext).call(this.t,t);e===re&&this.o.onError(e.e),this.o.onNext(t)},n.prototype.error=function(t){var e=oe(this.t.onError).call(this.t,t);if(e===re)return this.o.onError(e.e);this.o.onError(t)},n.prototype.completed=function(){var t=oe(this.t.onCompleted).call(this.t);if(t===re)return this.o.onError(t.e);this.o.onCompleted()},e}(qn);Tn.do=Tn.tap=Tn.doAction=function(t,e,n){return new no(this,t,e,n)},Tn.doOnNext=Tn.tapOnNext=function(t,e){return this.tap(void 0!==e?function(n){t.call(e,n)}:t)},Tn.doOnError=Tn.tapOnError=function(t,e){return this.tap(Kt,void 0!==e?function(n){t.call(e,n)}:t)},Tn.doOnCompleted=Tn.tapOnCompleted=function(t,e){return this.tap(Kt,null,void 0!==e?function(){t.call(e)}:t)};var ro=function(t){function e(e,n,r){this.source=e,this._fn=ge(n,r,0),t.call(this)}function n(t,e){this.isDisposed=!1,this._s=t,this._fn=e}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=oe(this.source.subscribe).call(this.source,t);return e===re&&(this._fn(),l(e.e)),new n(e,this._fn)},n.prototype.dispose=function(){if(!this.isDisposed){var t=oe(this._s.dispose).call(this._s);this._fn(),t===re&&l(t.e)}},e}(qn);Tn.finally=function(t,e){return new ro(this,t,e)};var oo=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.isStopped=!1}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},n.prototype.onNext=Kt,n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(t),!0)},e}(qn);Tn.ignoreElements=function(){return new oo(this)};var io=function(t){function e(e,n){this.source=e,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new so(t))},e}(qn),so=function(t){function e(e){this._o=e,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._o.onNext(Sn(t))},e.prototype.error=function(t){this._o.onNext(kn(t)),this._o.onCompleted()},e.prototype.completed=function(){this._o.onNext(Nn()),this._o.onCompleted()},e}(Dn);Tn.materialize=function(){return new io(this)},Tn.repeat=function(t){return Gn(this,t).concat()},Tn.retry=function(t){return Gn(this,t).catchError()};var uo=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return Ve(n,t),n.prototype.subscribeCore=function(t){var n=new _s,r=new _s,o=this._notifier(n),i=o.subscribe(r),s=this.source["@@iterator"](),u={isDisposed:!1},c=new tn,a=vn.scheduleRecursive(null,function(e,o){if(!u.isDisposed){var i=s.next();if(i.done)return void t.onCompleted();var a=i.value;ee(a)&&(a=Xn(a));var l=new Ye,f=new Ye;c.setDisposable(new en(f,l)),l.setDisposable(a.subscribe(function(e){t.onNext(e)},function(e){f.setDisposable(r.subscribe(o,function(e){t.onError(e)},function(){t.onCompleted()})),n.onNext(e),l.dispose()},function(){t.onCompleted()}))}});return new nn([i,c,a,e(u)])},n}(qn);Tn.retryWhen=function(t){return new uo(J(this),t)};var co=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return Ve(n,t),n.prototype.subscribeCore=function(t){var n=new _s,r=new _s,o=this._notifier(n),i=o.subscribe(r),s=this.source["@@iterator"](),u={isDisposed:!1},c=new tn,a=vn.scheduleRecursive(null,function(e,o){if(!u.isDisposed){var i=s.next();if(i.done)return void t.onCompleted();var a=i.value;ee(a)&&(a=Xn(a));var l=new Ye,f=new Ye;c.setDisposable(new en(f,l)),l.setDisposable(a.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},function(){f.setDisposable(r.subscribe(o,function(e){t.onError(e)},function(){t.onCompleted()})),n.onNext(null),l.dispose()}))}});return new nn([i,c,a,e(u)])},n}(qn);Tn.repeatWhen=function(t){return new co(J(this),t)};var ao=function(t){function e(e,n,r,o){this.source=e,this.accumulator=n,this.hasSeed=r,this.seed=o,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new lo(t,this))},e}(qn),lo=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){if(!this._hv&&(this._hv=!0),this._ha?this._a=oe(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?oe(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===re)return this._o.onError(this._a.e);this._o.onNext(this._a),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},e}(Dn);Tn.scan=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new ao(this,n,e,t)};var fo=function(t){function e(e,n){this.source=e,this._c=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ho(t,this._c))},e}(qn),ho=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._o.onNext(this._q.shift())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);Tn.skipLast=function(t){if(t<0)throw new he;return new fo(this,t)},Tn.startWith=function(){var t,e=0;arguments.length&&cn(arguments[0])?(t=arguments[0],e=1):t=pn;for(var n=[],r=e,o=arguments.length;r<o;r++)n.push(arguments[r]);return kr.apply(null,[ur(n,t),this])};var po=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(;this._q.length>0;)this._o.onNext(this._q.shift());this._o.onCompleted()},e}(Dn);Tn.takeLast=function(t){if(t<0)throw new he;var e=this;return new vs(function(n){return e.subscribe(new po(n,t))},e)};var vo=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._q),this._o.onCompleted()},e}(Dn);Tn.takeLastBuffer=function(t){if(t<0)throw new he;var e=this;return new vs(function(n){return e.subscribe(new vo(n,t))},e)},Tn.windowWithCount=Tn.windowCount=function(t,e){var n=this;if(+t||(t=0),Math.abs(t)===1/0&&(t=0),t<=0)throw new he;if(null==e&&(e=t),+e||(e=0),Math.abs(e)===1/0&&(e=0),e<=0)throw new he;return new vs(function(r){function o(){var t=new _s;c.push(t),r.onNext(Be(t,s))}var i=new Ye,s=new rn(i),u=0,c=[];return o(),i.setDisposable(n.subscribe(function(n){for(var r=0,i=c.length;r<i;r++)c[r].onNext(n);var s=u-t+1;s>=0&&s%e==0&&c.shift().onCompleted(),++u%e==0&&o()},function(t){for(;c.length>0;)c.shift().onError(t);r.onError(t)},function(){for(;c.length>0;)c.shift().onCompleted();r.onCompleted()})),s},n)},Tn.selectConcat=Tn.concatMap=function(t,e,n){return ne(t)&&ne(e)?this.concatMap(function(n,r){var o=t(n,r);return ee(o)&&(o=Xn(o)),(_e(o)||be(o))&&(o=ir(o)),o.map(function(t,o){return e(n,t,r,o)})}):ne(t)?K(this,t,n):K(this,function(){return t})},Tn.concatMapObserver=Tn.selectConcatObserver=function(t,e,n,r){var o=this,i=ge(t,r,2),s=ge(e,r,1),u=ge(n,r,0);return new vs(function(t){var e=0;return o.subscribe(function(n){var r;try{r=i(n,e++)}catch(e){return void t.onError(e)}ee(r)&&(r=Xn(r)),t.onNext(r)},function(e){var n;try{n=s(e)}catch(e){return void t.onError(e)}ee(n)&&(n=Xn(n)),t.onNext(n),t.onCompleted()},function(){var e;try{e=u()}catch(e){return void t.onError(e)}ee(e)&&(e=Xn(e)),t.onNext(e),t.onCompleted()})},this).concatAll()};var mo=function(t){function e(e,n){this._o=e,this._d=n,this._f=!1,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._f=!0,this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._f&&this._o.onNext(this._d),this._o.onCompleted()},e}(Dn);Tn.defaultIfEmpty=function(t){var e=this;return t===s&&(t=null),new vs(function(n){return e.subscribe(new mo(n,t))},e)},Q.prototype.push=function(t){var e=-1===X(this.set,t,this.comparer);return e&&this.set.push(t),e};var yo=function(t){function e(e,n,r){this.source=e,this._keyFn=n,this._cmpFn=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new bo(t,this._keyFn,this._cmpFn))},e}(qn),bo=function(t){function e(e,n,r){this._o=e,this._keyFn=n,this._h=new Q(r),t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=t;if(ne(this._keyFn)&&(e=oe(this._keyFn)(t))===re)return this._o.onError(e.e);this._h.push(e)&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);Tn.distinct=function(t,e){return e||(e=Zt),new yo(this,t,e)},Tn.groupBy=function(t,e){return this.groupByUntil(t,e,fr)},Tn.groupByUntil=function(t,e,n){var r=this;return new vs(function(o){var i=new Ri,u=new ze,c=new rn(u),a=function(t){return function(e){e.onError(t)}};return u.add(r.subscribe(function(r){var l=oe(t)(r);if(l===re)return i.forEach(a(l.e)),o.onError(l.e);var f=!1,h=i.get(l);if(h===s&&(h=new _s,i.set(l,h),f=!0),f){var p=new bs(l,h,c),d=new bs(l,h),v=oe(n)(d);if(v===re)return i.forEach(a(v.e)),o.onError(v.e);o.onNext(p);var m=new Ye;u.add(m),m.setDisposable(v.take(1).subscribe(Kt,function(t){i.forEach(a(t)),o.onError(t)},function(){i.delete(l)&&h.onCompleted(),u.remove(m)}))}var y=r;if(ne(e)&&(y=oe(e)(r))===re)return i.forEach(a(y.e)),o.onError(y.e);h.onNext(y)},function(t){i.forEach(a(t)),o.onError(t)},function(){i.forEach(function(t){t.onCompleted()}),o.onCompleted()})),c},r)};var _o=function(t){function e(e,n,r){this.source=e,this.selector=ge(n,r,3),t.call(this)}function n(t,e){return function(n,r,o){return t.call(this,e.selector(n,r,o),r,o)}}function r(t,e,n){this.o=t,this.selector=e,this.source=n,this.i=0,Dn.call(this)}return Ve(e,t),e.prototype.internalMap=function(t,r){return new e(this.source,n(t,this),r)},e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.selector,this))},Ve(r,Dn),r.prototype.next=function(t){var e=oe(this.selector)(t,this.i++,this.source);if(e===re)return this.o.onError(e.e);this.o.onNext(e)},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onCompleted()},e}(qn);Tn.map=Tn.select=function(t,e){var n="function"==typeof t?t:function(){return t};return this instanceof _o?this.internalMap(n,e):new _o(this,n,e)},Tn.pluck=function(){var t=arguments.length,e=new Array(t);if(0===t)throw new Error("List of properties cannot be empty.");for(var n=0;n<t;n++)e[n]=arguments[n];return this.map(Z(e,t))},Tn.flatMap=Tn.selectMany=Tn.mergeMap=function(t,e,n){return new Ln(this,t,e,n).mergeAll()},Tn.flatMapObserver=Tn.selectManyObserver=function(t,e,n,r){var o=this;return new vs(function(i){var s=0;return o.subscribe(function(e){var n;try{n=t.call(r,e,s++)}catch(t){return void i.onError(t)}ee(n)&&(n=Xn(n)),i.onNext(n)},function(t){var n;try{n=e.call(r,t)}catch(t){return void i.onError(t)}ee(n)&&(n=Xn(n)),i.onNext(n),i.onCompleted()},function(){var t;try{t=n.call(r)}catch(t){return void i.onError(t)}ee(t)&&(t=Xn(t)),i.onNext(t),i.onCompleted()})},o).mergeAll()},Tn.flatMapLatest=Tn.switchMap=function(t,e,n){return new Ln(this,t,e,n).switchLatest()};var go=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._r=e,Dn.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},Ve(n,Dn),n.prototype.next=function(t){this._r<=0?this._o.onNext(t):this._r--},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(qn);Tn.skip=function(t){if(t<0)throw new he;return new go(this,t)};var wo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Eo(t,this))},e}(qn),Eo=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!1,t.call(this)}return Ve(e,t),e.prototype.next=function(t){if(!this._r){var e=oe(this._p._fn)(t,this._i++,this._p);if(e===re)return this._o.onError(e.e);this._r=!e}this._r&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);Tn.skipWhile=function(t,e){var n=ge(t,e,3);return new wo(this,n)};var Oo=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._c=e,this._r=e,Dn.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},Ve(n,Dn),n.prototype.next=function(t){this._r-- >0&&(this._o.onNext(t),this._r<=0&&this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(qn);Tn.take=function(t,e){if(t<0)throw new he;return 0===t?nr(e):new Oo(this,t)};var Co=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new xo(t,this))},e}(qn),xo=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){if(this._r&&(this._r=oe(this._p._fn)(t,this._i++,this._p),this._r===re))return this._o.onError(this._r.e);this._r?this._o.onNext(t):this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);Tn.takeWhile=function(t,e){var n=ge(t,e,3);return new Co(this,n)};var So=function(t){function e(e,n,r){this.source=e,this.predicate=ge(n,r,3),t.call(this)}function n(t,e){return function(n,r,o){return e.predicate(n,r,o)&&t.call(this,n,r,o)}}function r(t,e,n){this.o=t,this.predicate=e,this.source=n,this.i=0,Dn.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.predicate,this))},e.prototype.internalFilter=function(t,r){return new e(this.source,n(t,this),r)},Ve(r,Dn),r.prototype.next=function(t){var e=oe(this.predicate)(t,this.i++,this.source);if(e===re)return this.o.onError(e.e);e&&this.o.onNext(t)},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onCompleted()},e}(qn);Tn.filter=Tn.where=function(t,e){return this instanceof So?this.internalFilter(t,e):new So(this,t,e)};var ko=function(t){function e(e,n,r){this.source=e,this._k=n,this._c=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new No(t,this._k,this._c))},e}(qn),No=function(t){function e(e,n,r){this._o=e,this._k=n,this._c=r,this._v=null,this._hv=!1,this._l=[],t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=oe(this._k)(t);if(e===re)return this._o.onError(e.e);var n=0;if(this._hv){if((n=oe(this._c)(e,this._v))===re)return this._o.onError(n.e)}else this._hv=!0,this._v=e;n>0&&(this._v=e,this._l=[]),n>=0&&this._l.push(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._l),this._o.onCompleted()},e}(Dn),Ao=function(t){function e(e,n,r,o){this.source=e,this.accumulator=n,this.hasSeed=r,this.seed=o,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new jo(t,this))},e}(qn),jo=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){if(!this._hv&&(this._hv=!0),this._ha?this._a=oe(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?oe(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===re)return this._o.onError(this._a.e);this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv&&this._o.onNext(this._a),!this._hv&&this._hs&&this._o.onNext(this._s),!this._hv&&!this._hs&&this._o.onError(new le),this._o.onCompleted()},e}(Dn);Tn.reduce=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new Ao(this,n,e,t)};var To=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Do(t,this._fn,this.source))},e}(qn),Do=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=oe(this._fn)(t,this._i++,this._s);if(e===re)return this._o.onError(e.e);Boolean(e)&&(this._o.onNext(!0),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Dn);Tn.some=function(t,e){var n=ge(t,e,3);return new To(this,n)};var Ro=function(t){function e(e){this.source=e,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Mo(t))},e}(qn),Mo=function(t){function e(e){this._o=e,t.call(this)}return Ve(e,t),e.prototype.next=function(){this._o.onNext(!1),this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Dn);Tn.isEmpty=function(){return new Ro(this)};var Fo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Po(t,this._fn,this.source))},e}(qn),Po=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=oe(this._fn)(t,this._i++,this._s);if(e===re)return this._o.onError(e.e);Boolean(e)||(this._o.onNext(!1),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Dn);Tn.every=function(t,e){var n=ge(t,e,3);return new Fo(this,n)};var Io=function(t){function e(e,n,r){var o=+r||0;Math.abs(o)===1/0&&(o=0),this.source=e,this._elem=n,this._n=o,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(!1),t.onCompleted(),Ke):this.source.subscribe(new qo(t,this._elem,this._n))},e}(qn),qo=function(t){function e(e,n,r){this._o=e,this._elem=n,this._n=r,this._i=0,t.call(this)}function n(t,e){return 0===t&&0===e||t===e||isNaN(t)&&isNaN(e)}return Ve(e,t),e.prototype.next=function(t){this._i++>=this._n&&n(t,this._elem)&&(this._o.onNext(!0),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Dn);Tn.includes=function(t,e){return new Io(this,t,e)};var Lo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Vo(t,this._fn,this.source))},e}(qn),Vo=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,this._c=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){if(this._fn){var e=oe(this._fn)(t,this._i++,this._s);if(e===re)return this._o.onError(e.e);Boolean(e)&&this._c++}else this._c++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Dn);Tn.count=function(t,e){var n=ge(t,e,3);return new Lo(this,n)};var Uo=function(t){function e(e,n,r){this.source=e,this._e=n,this._n=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),Ke):this.source.subscribe(new Bo(t,this._e,this._n))},e}(qn),Bo=function(t){function e(e,n,r){this._o=e,this._e=n,this._n=r,this._i=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._o.onNext(this._i),this._o.onCompleted()),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(-1),this._o.onCompleted()},e}(Dn);Tn.indexOf=function(t,e){var n=+e||0;return Math.abs(n)===1/0&&(n=0),new Uo(this,t,n)};var Wo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Go(t,this._fn,this.source))},e}(qn),Go=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,this._c=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){if(this._fn){var e=oe(this._fn)(t,this._i++,this._s);if(e===re)return this._o.onError(e.e);this._c+=e}else this._c+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Dn);Tn.sum=function(t,e){var n=ge(t,e,3);return new Wo(this,n)},Tn.minBy=function(t,e){return e||(e=Yt),new ko(this,t,function(t,n){return-1*e(t,n)})},Tn.min=function(t){return this.minBy(Xt,t).map(Y)},Tn.maxBy=function(t,e){return e||(e=Yt),new ko(this,t,e)},Tn.max=function(t){return this.maxBy(Xt,t).map(Y)};var zo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ho(t,this._fn,this.source))},e}(qn),Ho=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._c=0,this._t=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){if(this._fn){var e=oe(this._fn)(t,this._c++,this._s);if(e===re)return this._o.onError(e.e);this._t+=e}else this._c++,this._t+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){if(0===this._c)return this._o.onError(new le);this._o.onNext(this._t/this._c),this._o.onCompleted()},e}(Dn);Tn.average=function(t,e){var n,r=this;return ne(t)&&(n=ge(t,e,3)),new zo(r,n)},Tn.sequenceEqual=function(t,e){var n=this;return e||(e=Zt),new vs(function(r){var o=!1,i=!1,s=[],u=[],c=n.subscribe(function(t){if(u.length>0){var n=u.shift(),o=oe(e)(n,t);if(o===re)return r.onError(o.e);o||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):s.push(t)},function(t){r.onError(t)},function(){o=!0,0===s.length&&(u.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});(_e(t)||be(t))&&(t=ir(t)),ee(t)&&(t=Xn(t));var a=t.subscribe(function(t){if(s.length>0){var n=s.shift(),i=oe(e)(n,t);if(i===re)return r.onError(i.e);i||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):u.push(t)},function(t){r.onError(t)},function(){i=!0,0===u.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});return new en(c,a)},n)};var $o=function(t){function e(e,n,r){this.source=e,this._i=n,this._d=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Jo(t,this._i,this._d))},e}(qn),Jo=function(t){function e(e,n,r){this._o=e,this._i=n,this._d=r,t.call(this)}return Ve(e,t),e.prototype.next=function(t){0==this._i--&&(this._o.onNext(t),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d===s?this._o.onError(new he):(this._o.onNext(this._d),this._o.onCompleted())},e}(Dn);Tn.elementAt=function(t,e){if(t<0)throw new he;return new $o(this,t,e)};var Ko=function(t){function e(e,n,r){this._o=e,this._obj=n,this._s=r,this._i=0,this._hv=!1,this._v=null,t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=!1;if(this._obj.predicate){var n=oe(this._obj.predicate)(t,this._i++,this._s);if(n===re)return this._o.onError(n.e);Boolean(n)&&(e=!0)}else this._obj.predicate||(e=!0);if(e){if(this._hv)return this._o.onError(new Error("Sequence contains more than one matching element"));this._hv=!0,this._v=t}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===s?this._o.onError(new le):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Dn);Tn.single=function(t,e){var n={},r=this;if(n="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},ne(n.predicate)){var o=n.predicate;n.predicate=ge(o,n.thisArg,3)}return new vs(function(t){return r.subscribe(new Ko(t,n,r))},r)};var Xo=function(t){function e(e,n){this.source=e,this._obj=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Qo(t,this._obj,this.source))},e}(qn),Qo=function(t){function e(e,n,r){this._o=e,this._obj=n,this._s=r,this._i=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){if(this._obj.predicate){var e=oe(this._obj.predicate)(t,this._i++,this._s);if(e===re)return this._o.onError(e.e);Boolean(e)&&(this._o.onNext(t),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(t),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._obj.defaultValue===s?this._o.onError(new le):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Dn);Tn.first=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},ne(t.predicate)){var e=t.predicate;t.predicate=ge(e,t.thisArg,3)}return new Xo(this,t)};var Zo=function(t){function e(e,n){this.source=e,this._obj=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Yo(t,this._obj,this.source))},e}(qn),Yo=function(t){function e(e,n,r){this._o=e,this._obj=n,this._s=r,this._i=0,this._hv=!1,this._v=null,t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=!1;if(this._obj.predicate){var n=oe(this._obj.predicate)(t,this._i++,this._s);if(n===re)return this._o.onError(n.e);Boolean(n)&&(e=!0)}else this._obj.predicate||(e=!0);e&&(this._hv=!0,this._v=t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===s?this._o.onError(new le):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Dn);Tn.last=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},ne(t.predicate)){var e=t.predicate;t.predicate=ge(e,t.thisArg,3)}return new Zo(this,t)};var ti=function(t){function e(e,n,r,o){this._o=e,this._s=n,this._cb=r,this._y=o,this._i=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=oe(this._cb)(t,this._i,this._s);if(e===re)return this._o.onError(e.e);e?(this._o.onNext(this._y?this._i:t),this._o.onCompleted()):this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._y&&this._o.onNext(-1),this._o.onCompleted()},e}(Dn);Tn.find=function(t,e){return tt(this,t,e,!1)},Tn.findIndex=function(t,e){return tt(this,t,e,!0)};var ei=function(t){function e(e){this.source=e,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ni(t))},e}(qn),ni=function(t){function e(e){this._o=e,this._s=new $t.Set,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._s.add(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._s),this._o.onCompleted()},e}(Dn);Tn.toSet=function(){if(void 0===$t.Set)throw new TypeError;return new ei(this)};var ri=function(t){function e(e,n,r){this.source=e,this._k=n,this._e=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new oi(t,this._k,this._e))},e}(qn),oi=function(t){function e(e,n,r){this._o=e,this._k=n,this._e=r,this._m=new $t.Map,t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=oe(this._k)(t);if(e===re)return this._o.onError(e.e);var n=t;if(this._e&&(n=oe(this._e)(t))===re)return this._o.onError(n.e);this._m.set(e,n)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._m),this._o.onCompleted()},e}(Dn);Tn.toMap=function(t,e){if(void 0===$t.Map)throw new TypeError;return new ri(this,t,e)};var ii=function(t){function e(e,n,r){this.source=e,this._b=n,this._e=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new si(t,this._b,this._e))},e}(qn),si=function(t){function e(e,n,r){this._o=e,this._b=n,this._e=r,this._i=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._i>=this._b&&(this._e===this._i?this._o.onCompleted():this._o.onNext(t)),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);Tn.slice=function(t,e){var n=t||0;if(n<0)throw new Jt.ArgumentOutOfRangeError;if("number"==typeof e&&e<n)throw new Jt.ArgumentOutOfRangeError;return new ii(this,n,e)};var ui=function(t){function e(e,n,r){this.source=e,this._e=n,this._n=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),Ke):this.source.subscribe(new ci(t,this._e,this._n))},e}(qn),ci=function(t){function e(e,n,r){this._o=e,this._e=n,this._n=r,this._v=0,this._hv=!1,this._i=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._hv=!0,this._v=this._i),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?this._o.onNext(this._v):this._o.onNext(-1),this._o.onCompleted()},e}(Dn);Tn.lastIndexOf=function(t,e){var n=+e||0;return Math.abs(n)===1/0&&(n=0),new ui(this,t,n)},In.wrap=function(t){function e(){return In.spawn.call(this,t.apply(this,arguments))}return e.__generatorFunction__=t,e};var ai=In.spawn=function(){for(var t=arguments[0],e=this,n=[],r=1,o=arguments.length;r<o;r++)n.push(arguments[r]);return new vs(function(r){function o(e){var n=oe(t.next).call(t,e);if(n===re)return r.onError(n.e);s(n)}function i(e){var n=oe(t.next).call(t,e);if(n===re)return r.onError(n.e);s(n)}function s(t){if(t.done)return r.onNext(t.value),void r.onCompleted();var n=et.call(e,t.value),s=null,c=!1;In.isObservable(n)?u.add(n.subscribe(function(t){c=!0,s=t},i,function(){c&&o(s)})):i(new TypeError("type not supported"))}var u=new ze;return ne(t)&&(t=t.apply(e,n)),t&&ne(t.next)?(o(),u):(r.onNext(t),r.onCompleted())})};In.start=function(t,e,n){return li(t,e,n)()};var li=In.toAsync=function(t,e,n){return cn(n)||(n=gn),function(){var r=arguments,o=new gs;return n.schedule(null,function(){var n;try{n=t.apply(e,r)}catch(t){return void o.onError(t)}o.onNext(n),o.onCompleted()}),o.asObservable()}};In.fromCallback=function(t,e,n){return function(){void 0===e&&(e=this);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ct(t,e,n,o)}},In.fromNodeCallback=function(t,e,n){return function(){void 0===e&&(e=this);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return lt(t,e,n,o)}},pt.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},Jt.config.useNativeEvents=!1;var fi=function(t){function e(e,n,r){this._el=e,this._n=n,this._fn=r,t.call(this)}function n(t,e){return function(){var n=arguments[0];if(ne(e)&&(n=oe(e).apply(null,arguments))===re)return t.onError(n.e);t.onNext(n)}}return Ve(e,t),e.prototype.subscribeCore=function(t){return dt(this._el,this._n,n(t,this._fn))},e}(qn);In.fromEvent=function(t,e,n){return t.addListener?pi(function(n){t.addListener(e,n)},function(n){t.removeListener(e,n)},n):Jt.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new fi(t,e,n).publish().refCount():pi(function(n){t.on(e,n)},function(n){t.off(e,n)},n)};var hi=function(t){function e(e,n,r){this._add=e,this._del=n,this._fn=r,t.call(this)}function n(t,e){return function(){var n=arguments[0];if(ne(e)&&(n=oe(e).apply(null,arguments))===re)return t.onError(n.e);t.onNext(n)}}function r(t,e,n){this._del=t,this._fn=e,this._ret=n,this.isDisposed=!1}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=n(t,this._fn),o=this._add(e);return new r(this._del,e,o)},r.prototype.dispose=function(){this.isDisposed||(ne(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},e}(qn),pi=In.fromEventPattern=function(t,e,n){return new hi(t,e,n).publish().refCount()};In.startAsync=function(t){var e=oe(t)();return e===re?yr(e.e):Xn(e)};var di=function(t){function e(e,n){this.source=e,this.controller=new _s,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return Ve(e,t),e.prototype._subscribe=function(t){var e=this.source.publish(),n=e.subscribe(t),r=Ke,o=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe(function(t){t?r=e.connect():(r.dispose(),r=Ke)});return new nn([n,r,o])},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(In);Tn.pausable=function(t){return new di(this,t)};var vi=function(t){function e(e,n){this.source=e,this.controller=new _s,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return Ve(e,t),e.prototype._subscribe=function(t){function e(){for(;r.length>0;)t.onNext(r.shift())}var n,r=[];return vt(this.source,this.pauser.startWith(!this.paused).distinctUntilChanged(),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(o){n!==s&&o.shouldFire!==n?(n=o.shouldFire,o.shouldFire&&e()):(n=o.shouldFire,o.shouldFire?t.onNext(o.data):r.push(o.data))},function(n){e(),t.onError(n)},function(){e(),t.onCompleted()})},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(In);Tn.pausableBuffered=function(t){return new vi(this,t)};var mi=function(t){function e(e,n,r){t.call(this),this.subject=new yi(n,r),this.source=e.multicast(this.subject).refCount()}return Ve(e,t),e.prototype._subscribe=function(t){return this.source.subscribe(t)},e.prototype.request=function(t){return this.subject.request(null==t?-1:t)},e}(In),yi=function(t){function e(e,n){null==e&&(e=!0),t.call(this),this.subject=new _s,this.enableQueue=e,this.queue=e?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=n||vn}return Ve(e,t),Ue(e.prototype,An,{_subscribe:function(t){return this.subject.subscribe(t)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(En.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(En.createOnError(t)):(this.subject.onError(t),this.disposeCurrentRequest())},onNext:function(t){this.requestedCount<=0?this.enableQueue&&this.queue.push(En.createOnNext(t)):(0==this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(t))},_processRequest:function(t){if(this.enableQueue)for(;this.queue.length>0&&(t>0||"N"!==this.queue[0].kind);){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return t},request:function(t){this.disposeCurrentRequest();var e=this;return this.requestedDisposable=this.scheduler.schedule(t,function(t,n){var r=e._processRequest(n);if(!e.hasCompleted&&!e.hasFailed&&r>0)return e.requestedCount=r,Je(function(){e.requestedCount=0})}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),e}(In);Tn.controlled=function(t,e){return t&&cn(t)&&(e=t,t=!0),null==t&&(t=!0),new mi(this,t,e)};var bi=function(t){function e(e){t.call(this),this.source=e}function n(t,e){return e.source.request(1)}Ve(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new r(t,this,this.subscription)),new en(this.subscription,gn.schedule(this,n))};var r=function(t){function e(e,n,r){t.call(this),this.observer=e,this.observable=n,this.cancel=r,this.scheduleDisposable=null}function n(t,e){return e.observable.source.request(1)}return Ve(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.scheduleDisposable=gn.schedule(this,n)},e.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Dn);return e}(In);mi.prototype.stopAndWait=function(){return new bi(this)};var _i=function(t){function e(e,n){t.call(this),this.source=e,this.windowSize=n}function n(t,e){return e.source.request(e.windowSize)}Ve(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new r(t,this,this.subscription)),new en(this.subscription,gn.schedule(this,n))};var r=function(t){function e(e,n,r){this.observer=e,this.observable=n,this.cancel=r,this.received=0,this.scheduleDisposable=null,t.call(this)}function n(t,e){return e.observable.source.request(e.observable.windowSize)}return Ve(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.received=++this.received%this.observable.windowSize,0===this.received&&(this.scheduleDisposable=gn.schedule(this,n))},e.prototype.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Dn);return e}(In);mi.prototype.windowed=function(t){return new _i(this,t)},Tn.pipe=function(t){function e(){n.resume()}var n=this.pausableBuffered();return t.addListener("drain",e),n.subscribe(function(e){!t.write(e)&&n.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",e)}),n.resume(),t};var gi=function(t){function e(e,n,r){this.source=e,this._fn1=n,this._fn2=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=this.source.multicast(this._fn1());return new en(this._fn2(e).subscribe(t),e.connect())},e}(qn);Tn.multicast=function(t,e){return ne(t)?new gi(this,t,e):new Oi(this,t)},Tn.publish=function(t){return t&&ne(t)?this.multicast(function(){return new _s},t):this.multicast(new _s)},Tn.share=function(){return this.publish().refCount()},Tn.publishLast=function(t){return t&&ne(t)?this.multicast(function(){return new gs},t):this.multicast(new gs)},Tn.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new ws(e)},t):this.multicast(new ws(t))},Tn.shareValue=function(t){return this.publishValue(t).refCount()},Tn.replay=function(t,e,n,r){return t&&ne(t)?this.multicast(function(){return new Es(e,n,r)},t):this.multicast(new Es(e,n,r))},Tn.shareReplay=function(t,e,n){return this.replay(null,t,e,n).refCount()};var wi=function(t,e){this._s=t,this._o=e};wi.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var t=this._s.observers.indexOf(this._o);this._s.observers.splice(t,1),this._o=null}};var Ei=function(t){function e(e){this.source=e,this._count=0,this._connectableSubscription=null,t.call(this)}function n(t,e){this._p=t,this._s=e,this.isDisposed=!1}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=this.source.subscribe(t);return 1==++this._count&&(this._connectableSubscription=this.source.connect()),new n(this,e)},n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0==--this._p._count&&this._p._connectableSubscription.dispose())},e}(qn),Oi=Jt.ConnectableObservable=function(t){function e(e,n){this.source=e,this._connection=null,this._source=e.asObservable(),this._subject=n,t.call(this)}function n(t,e){this._p=t,this._s=e}return Ve(e,t),n.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},e.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return Ke;var t=this._source.subscribe(this._subject);this._connection=new n(this,t)}return this._connection},e.prototype._subscribe=function(t){return this._subject.subscribe(t)},e.prototype.refCount=function(){return new Ei(this)},e}(In);Tn.singleInstance=function(){function t(){return r||(r=!0,e=n.finally(function(){r=!1}).publish().refCount()),e}var e,n=this,r=!1;return new vs(function(e){return t().subscribe(e)})},Tn.join=function(t,e,n,r){var o=this;return new vs(function(i){var s=new ze,u=!1,c=!1,a=0,l=0,f=new Ri,h=new Ri,p=function(t){i.onError(t)};return s.add(o.subscribe(function(t){var n=a++,o=new Ye;f.set(n,t),s.add(o);var c=oe(e)(t);if(c===re)return i.onError(c.e);o.setDisposable(c.take(1).subscribe(Kt,p,function(){f.delete(n)&&0===f.size&&u&&i.onCompleted(),s.remove(o)})),h.forEach(function(e){var n=oe(r)(t,e);if(n===re)return i.onError(n.e);i.onNext(n)})},p,function(){u=!0,(c||0===f.size)&&i.onCompleted()})),s.add(t.subscribe(function(t){var e=l++,o=new Ye;h.set(e,t),s.add(o);var u=oe(n)(t);if(u===re)return i.onError(u.e);o.setDisposable(u.take(1).subscribe(Kt,p,function(){h.delete(e)&&0===h.size&&c&&i.onCompleted(),s.remove(o)})),f.forEach(function(e){var n=oe(r)(e,t);if(n===re)return i.onError(n.e);i.onNext(n)})},p,function(){c=!0,(u||0===h.size)&&i.onCompleted()})),s},o)},Tn.groupJoin=function(t,e,n,r){var o=this;return new vs(function(i){function s(t){}var u=new ze,c=new rn(u),a=new Ri,l=new Ri,f=0,h=0,s=function(t){return function(e){e.onError(t)}};return u.add(o.subscribe(function(t){var n=new _s,o=f++;a.set(o,n);var h=oe(r)(t,Be(n,c));if(h===re)return a.forEach(s(h.e)),i.onError(h.e);i.onNext(h),l.forEach(function(t){n.onNext(t)});var p=new Ye;u.add(p);var d=oe(e)(t);if(d===re)return a.forEach(s(d.e)),i.onError(d.e);p.setDisposable(d.take(1).subscribe(Kt,function(t){a.forEach(s(t)),i.onError(t)},function(){a.delete(o)&&n.onCompleted(),u.remove(p)}))},function(t){a.forEach(s(t)),i.onError(t)},function(){i.onCompleted()})),u.add(t.subscribe(function(t){var e=h++;l.set(e,t);var r=new Ye;u.add(r);var o=oe(n)(t);if(o===re)return a.forEach(s(o.e)),i.onError(o.e);r.setDisposable(o.take(1).subscribe(Kt,function(t){a.forEach(s(t)),i.onError(t)},function(){l.delete(e),u.remove(r)})),a.forEach(function(e){e.onNext(t)})},function(t){a.forEach(s(t)),i.onError(t)})),c},o)},Tn.buffer=function(){return this.window.apply(this,arguments).flatMap(H)},Tn.window=function(t,e){return 1===arguments.length&&"function"!=typeof arguments[0]?yt.call(this,t):"function"==typeof t?bt.call(this,t):mt.call(this,t,e)};var Ci=function(t){function e(e){this.source=e,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new xi(t))},e}(qn),xi=function(t){function e(e){this._o=e,this._p=null,this._hp=!1,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._hp?this._o.onNext([this._p,t]):this._hp=!0,this._p=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);Tn.pairwise=function(){return new Ci(this)},Tn.partition=function(t,e){var n=ge(t,e,3);return[this.filter(t,e),this.filter(function(t,e,r){return!n(t,e,r)})]};var Si=function(t){function e(t,e){this.c=t,this.s=e}return Ve(e,t),e.prototype[me]=function(){var t=this;return{next:function(){return t.c()?{done:!1,value:t.s}:{done:!0,value:void 0}}}},e}(Vn);Tn.letBind=Tn.let=function(t){return t(this)},In.if=function(t,e,n){return Yn(function(){return n||(n=nr()),ee(e)&&(e=Xn(e)),ee(n)&&(n=Xn(n)),"function"==typeof n.now&&(n=nr(n)),t()?e:n})},In.for=In.forIn=function(t,e,n){return Hn(t,e,n).concat()};var ki=In.while=In.whileDo=function(t,e){return ee(e)&&(e=Xn(e)),_t(t,e).concat()};Tn.doWhile=function(t){return kr([this,ki(t,this)])},In.case=function(t,e,n){return Yn(function(){ee(n)&&(n=Xn(n)),n||(n=nr()),cn(n)&&(n=nr(n));var r=e[t()];return ee(r)&&(r=Xn(r)),r||n})};var Ni=function(t){function e(e,n,r){this.source=e,this._fn=n,this._scheduler=r,t.call(this)}function n(t,e){var n,r=t[0],o=t[1];if(!(r.q.length>0))return void(r.isAcquired=!1);n=r.q.shift();var i=new Ye;r.d.add(i),i.setDisposable(n.subscribe(new Ai(r,o,i))),e([r,o])}return Ve(e,t),e.prototype._ensureActive=function(t){var e=!1;t.q.length>0&&(e=!t.isAcquired,t.isAcquired=!0),e&&t.m.setDisposable(this._scheduler.scheduleRecursive([t,this],n))},e.prototype.subscribeCore=function(t){var e=new tn,n=new ze(e),r={q:[],m:e,d:n,activeCount:0,isAcquired:!1,o:t};return r.q.push(this.source),r.activeCount++,this._ensureActive(r),n},e}(qn),Ai=function(t){function e(e,n,r){this._s=e,this._p=n,this._m1=r,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._s.o.onNext(t);var e=oe(this._p._fn)(t);if(e===re)return this._s.o.onError(e.e);this._s.q.push(e),this._s.activeCount++,this._p._ensureActive(this._s)},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.d.remove(this._m1),0===--this._s.activeCount&&this._s.o.onCompleted()},e}(Dn);Tn.expand=function(t,e){return cn(e)||(e=vn),new Ni(this,t,e)};var ji=function(t){function e(e,n){this._sources=e,this._cb=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){if(0===this._sources.length)return t.onCompleted(),Ke;for(var e=this._sources.length,n={finished:!1,hasResults:new Array(e),hasCompleted:new Array(e),results:new Array(e)},r=new ze,o=0,i=this._sources.length;o<i;o++){var s=this._sources[o];ee(s)&&(s=Xn(s)),r.add(s.subscribe(new Ti(t,n,o,this._cb,r)))}return r},e}(qn),Ti=function(t){function e(e,n,r,o,i){this._o=e,this._s=n,this._i=r,this._cb=o,this._subs=i,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=t)},e.prototype.error=function(t){this._s.finished=!0,this._o.onError(t),this._subs.dispose()},e.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var t=0;t<this._s.results.length;t++)if(!this._s.hasCompleted[t])return;this._s.finished=!0;var e=oe(this._cb).apply(null,this._s.results);if(e===re)return this._o.onError(e.e);this._o.onNext(e),this._o.onCompleted()}},e}(Dn);In.forkJoin=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ne(e[t-1])?e.pop():W;return Array.isArray(e[0])&&(e=e[0]),new ji(e,r)},Tn.forkJoin=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),In.forkJoin.apply(null,e)},Tn.manySelect=Tn.extend=function(t,e){cn(e)||(e=Jt.Scheduler.immediate);var n=this;return Yn(function(){var r;return n.map(function(t){var e=new Di(t);return r&&r.onNext(t),r=e,e}).tap(Kt,function(t){r&&r.onError(t)},function(){r&&r.onCompleted()}).observeOn(e).map(t)},n)};var Di=function(t){function e(e){t.call(this),this.head=e,this.tail=new gs}return Ve(e,t),Ue(e.prototype,An,{_subscribe:function(t){var e=new ze;return e.add(vn.schedule(this,function(n,r){t.onNext(r.head),e.add(r.tail.mergeAll().subscribe(t))})),e},onCompleted:function(){this.onNext(In.empty())},onError:function(t){this.onNext(In.throw(t))},onNext:function(t){this.tail.onNext(t),this.tail.onCompleted()}}),e}(In),Ri=$t.Map||function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.delete=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?s:this._values[e]},t.prototype.set=function(t,e){var n=this._keys.indexOf(t);return-1===n?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},t.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},t}();gt.prototype.and=function(t){return new gt(this.patterns.concat(t))},gt.prototype.thenDo=function(t){return new wt(this,t)},wt.prototype.activate=function(t,e,n){for(var r=[],o=Et(e),i=0,s=this.expression.patterns.length;i<s;i++)r.push(Ct(t,this.expression.patterns[i],o));var u=new xt(r,Ot(this,e),function(){for(var t=0,e=r.length;t<e;t++)r[t].removeActivePlan(u);n(u)});for(i=0,s=r.length;i<s;i++)r[i].addActivePlan(u);return u},xt.prototype.dequeue=function(){this.joinObservers.forEach(function(t){t.queue.shift()})},xt.prototype.match=function(){var t,e,n=!0;for(t=0,e=this.joinObserverArray.length;t<e;t++)if(0===this.joinObserverArray[t].queue.length){n=!1;break}if(n){var r=[],o=!1;for(t=0,e=this.joinObserverArray.length;t<e;t++)r.push(this.joinObserverArray[t].queue[0]),"C"===this.joinObserverArray[t].queue[0].kind&&(o=!0);if(o)this.onCompleted();else{this.dequeue();var i=[];for(t=0,e=r.length;t<r.length;t++)i.push(r[t].value);this.onNext.apply(this,i)}}};var Mi=function(t){function e(e,n){t.call(this),this.source=e,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new Ye,this.isDisposed=!1}Ve(e,t);var n=e.prototype;return n.next=function(t){if(!this.isDisposed){if("E"===t.kind)return this.onError(t.error);this.queue.push(t);for(var e=this.activePlans.slice(0),n=0,r=e.length;n<r;n++)e[n].match()}},n.error=Kt,n.completed=Kt,n.addActivePlan=function(t){this.activePlans.push(t)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(t){this.activePlans.splice(this.activePlans.indexOf(t),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){t.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},e}(Dn);Tn.and=function(t){return new gt([this,t])},Tn.thenDo=function(t){return new gt([this]).thenDo(t)},In.when=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return new vs(function(e){var n=[],r=new Ri,o=jn(function(t){e.onNext(t)},function(t){r.forEach(function(e){e.onError(t)}),e.onError(t)},function(t){e.onCompleted()});try{for(var i=0,s=t.length;i<s;i++)n.push(t[i].activate(r,o,function(t){var r=n.indexOf(t);n.splice(r,1),0===n.length&&e.onCompleted()}))}catch(t){return yr(t).subscribe(e)}var u=new ze;return r.forEach(function(t){t.subscribe(),u.add(t)}),u})};var Fi=function(t){function e(e,n){this._dt=e,this._s=n,t.call(this)}function n(t,e){e.onNext(0),e.onCompleted()}return Ve(e,t),e.prototype.subscribeCore=function(t){return this._s.scheduleFuture(t,this._dt,n)},e}(qn),Pi=In.interval=function(t,e){return Nt(t,t,cn(e)?e:gn)};In.timer=function(t,e,n){var r;return cn(n)||(n=gn),null!=e&&"number"==typeof e?r=e:cn(e)&&(n=e),(t instanceof Date||"number"==typeof t)&&r===s?St(t,n):t instanceof Date&&r!==s?kt(t,e,n):Nt(t,r,n)};Tn.delay=function(){var t=arguments[0];if("number"==typeof t||t instanceof Date){var e=t,n=arguments[1];return cn(n)||(n=gn),e instanceof Date?jt(this,e,n):At(this,e,n)}if(In.isObservable(t)||ne(t))return Tt(this,t,arguments[1]);throw new Error("Invalid arguments")};var Ii=function(t){function e(e,n,r){cn(r)||(r=gn),this.source=e,this._dt=n,this._s=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new tn;return new en(this.source.subscribe(new qi(t,this._dt,this._s,e)),e)},e}(qn),qi=function(t){function e(e,n,r,o){this._o=e,this._d=n,this._scheduler=r,this._c=o,this._v=null,this._hv=!1,this._id=0,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._hv=!0,this._v=t;var e=++this._id,n=new Ye;this._c.setDisposable(n),n.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(n,r){r._hv&&r._id===e&&r._o.onNext(t),r._hv=!1}))},e.prototype.error=function(t){this._c.dispose(),this._o.onError(t),this._hv=!1,this._id++},e.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},e}(Dn);Tn.debounce=function(){if(ne(arguments[0]))return Dt(this,arguments[0]);if("number"==typeof arguments[0])return new Ii(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},Tn.windowWithTime=Tn.windowTime=function(t,e,n){var r,o=this;return null==e&&(r=t),cn(n)||(n=gn),"number"==typeof e?r=e:cn(e)&&(r=t,n=e),new vs(function(e){function i(){var t=new Ye,o=!1,s=!1;f.setDisposable(t),a===c?(o=!0,s=!0):a<c?o=!0:s=!0;var p=o?a:c,d=p-h;h=p,o&&(a+=r),s&&(c+=r),t.setDisposable(n.scheduleFuture(null,d,function(){if(s){var t=new _s;l.push(t),e.onNext(Be(t,u))}o&&l.shift().onCompleted(),i()}))}var s,u,c=r,a=t,l=[],f=new tn,h=0;return s=new ze(f),u=new rn(s),l.push(new _s),e.onNext(Be(l[0],u)),i(),s.add(o.subscribe(function(t){for(var e=0,n=l.length;e<n;e++)l[e].onNext(t)},function(t){for(var n=0,r=l.length;n<r;n++)l[n].onError(t);e.onError(t)},function(){for(var t=0,n=l.length;t<n;t++)l[t].onCompleted();e.onCompleted()})),u},o)},Tn.windowWithTimeOrCount=Tn.windowTimeOrCount=function(t,e,n){var r=this;return cn(n)||(n=gn),new vs(function(o){function i(e){var r=new Ye;s.setDisposable(r),r.setDisposable(n.scheduleFuture(null,t,function(){if(e===l){a=0;var t=++l;f.onCompleted(),f=new _s,o.onNext(Be(f,c)),i(t)}}))}var s=new tn,u=new ze(s),c=new rn(u),a=0,l=0,f=new _s;return o.onNext(Be(f,c)),i(0),u.add(r.subscribe(function(t){var n=0,r=!1;f.onNext(t),++a===e&&(r=!0,a=0,n=++l,f.onCompleted(),f=new _s,o.onNext(Be(f,c))),r&&i(n)},function(t){f.onError(t),o.onError(t)},function(){f.onCompleted(),o.onCompleted()})),c},r)},Tn.bufferWithTime=Tn.bufferTime=function(t,e,n){return this.windowWithTime(t,e,n).flatMap(H)},Tn.bufferWithTimeOrCount=Tn.bufferTimeOrCount=function(t,e,n){return this.windowWithTimeOrCount(t,e,n).flatMap(H)};var Li=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Vi(t,this._s))},e}(qn),Vi=function(t){function e(e,n){this._o=e,this._s=n,this._l=n.now(),t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=this._s.now(),n=e-this._l;this._l=e,this._o.onNext({value:t,interval:n})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);Tn.timeInterval=function(t){return cn(t)||(t=gn),new Li(this,t)};var Ui=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Bi(t,this._s))},e}(qn),Bi=function(t){function e(e,n){this._o=e,this._s=n,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._o.onNext({value:t,timestamp:this._s.now()})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);Tn.timestamp=function(t){return cn(t)||(t=gn),new Ui(this,t)};var Wi=function(t){function e(e,n){this.source=e,this._sampler=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e={o:t,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new Ye};return e.sourceSubscription.setDisposable(this.source.subscribe(new zi(e))),new en(e.sourceSubscription,this._sampler.subscribe(new Gi(e)))},e}(qn),Gi=function(t){function e(e){this._s=e,t.call(this)}return Ve(e,t),e.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},e.prototype.next=function(){this._handleMessage()},e.prototype.error=function(t){this._s.onError(t)},e.prototype.completed=function(){this._handleMessage()},e}(Dn),zi=function(t){function e(e){this._s=e,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._s.hasValue=!0,this._s.value=t},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},e}(Dn);Tn.sample=function(t,e){return cn(e)||(e=gn),"number"==typeof t?new Wi(this,Pi(t,e)):new Wi(this,t)};var Hi=Jt.TimeoutError=function(t){this.message=t||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};Hi.prototype=Object.create(Error.prototype),Tn.timeout=function(){var t=arguments[0];if(t instanceof Date||"number"==typeof t)return Mt(this,t,arguments[1],arguments[2]);if(In.isObservable(t)||ne(t))return Rt(this,t,arguments[1],arguments[2]);throw new Error("Invalid arguments")};var $i=function(t){function e(e,n,r,o,i,s){this._state=e,this._cndFn=n,this._itrFn=r,this._resFn=o,this._timeFn=i,this._s=s,t.call(this)}function n(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=oe(t.self._itrFn)(t.newState),t.newState===re)return t.o.onError(t.newState.e);if(t.hasResult=oe(t.self._cndFn)(t.newState),t.hasResult===re)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=oe(t.self._resFn)(t.newState),t.result===re)return t.o.onError(t.result.e);var n=oe(t.self._timeFn)(t.newState);if(n===re)return t.o.onError(n.e);e(t,n)}else t.o.onCompleted()}return Ve(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,new Date(this._s.now()),n)},e}(qn);In.generateWithAbsoluteTime=function(t,e,n,r,o,i){return cn(i)||(i=gn),new $i(t,e,n,r,o,i)};var Ji=function(t){function e(e,n,r,o,i,s){this._state=e,this._cndFn=n,this._itrFn=r,this._resFn=o,this._timeFn=i,this._s=s,t.call(this)}function n(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=oe(t.self._itrFn)(t.newState),t.newState===re)return t.o.onError(t.newState.e);if(t.hasResult=oe(t.self._cndFn)(t.newState),t.hasResult===re)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=oe(t.self._resFn)(t.newState),t.result===re)return t.o.onError(t.result.e);var n=oe(t.self._timeFn)(t.newState);if(n===re)return t.o.onError(n.e);e(t,n)}else t.o.onCompleted()}return Ve(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,0,n)},e}(qn);In.generateWithRelativeTime=function(t,e,n,r,o,i){return cn(i)||(i=gn),new Ji(t,e,n,r,o,i)};var Ki=function(t){function e(e,n,r){this.source=e,this._dt=n,this._s=r,t.call(this)}function n(t,e){var n=e[0],r=e[1];e[2].setDisposable(n.subscribe(r))}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new tn;return e.setDisposable(this._s.scheduleFuture([this.source,t,e],this._dt,n)),e},e}(qn);Tn.delaySubscription=function(t,e){return cn(e)||(e=gn),new Ki(this,t,e)};var Xi=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Qi(t,this))},e}(qn),Qi=function(t){function e(e,n){this._o=e,this._s=n._s,this._d=n._d,this._q=[],t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0&&t-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value);this._o.onCompleted()},e}(Dn);Tn.skipLastWithTime=function(t,e){return cn(e)||(e=gn),new Xi(this,t,e)};var Zi=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Yi(t,this._d,this._s))},e}(qn),Yi=function(t){function e(e,n,r){this._o=e,this._d=n,this._s=r,this._q=[],t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0;){var e=this._q.shift();t-e.interval<=this._d&&this._o.onNext(e.value)}this._o.onCompleted()},e}(Dn);Tn.takeLastWithTime=function(t,e){return cn(e)||(e=gn),new Zi(this,t,e)},Tn.takeLastBufferWithTime=function(t,e){var n=this;return cn(e)||(e=gn),new vs(function(r){var o=[];return n.subscribe(function(n){var r=e.now();for(o.push({interval:r,value:n});o.length>0&&r-o[0].interval>=t;)o.shift()},function(t){r.onError(t)},function(){for(var n=e.now(),i=[];o.length>0;){var s=o.shift();n-s.interval<=t&&i.push(s.value)}r.onNext(i),r.onCompleted()})},n)};var ts=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,t.call(this)}function n(t,e){e.onCompleted()}return Ve(e,t),e.prototype.subscribeCore=function(t){return new en(this._s.scheduleFuture(t,this._d,n),this.source.subscribe(t))},e}(qn);Tn.takeWithTime=function(t,e){return cn(e)||(e=gn),new ts(this,t,e)};var es=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,this._open=!1,t.call(this)}function n(t,e){e._open=!0}return Ve(e,t),e.prototype.subscribeCore=function(t){return new en(this._s.scheduleFuture(this,this._d,n),this.source.subscribe(new ns(t,this)))},e}(qn),ns=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);Tn.skipWithTime=function(t,e){return cn(e)||(e=gn),new es(this,t,e)};var rs=function(t){function e(e,n,r){this.source=e,this._st=n,this._s=r,t.call(this)}function n(t,e){e._open=!0}return Ve(e,t),e.prototype.subscribeCore=function(t){return this._open=!1,new en(this._s.scheduleFuture(this,this._st,n),this.source.subscribe(new os(t,this)))},e}(qn),os=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Ve(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);Tn.skipUntilWithTime=function(t,e){return cn(e)||(e=gn),new rs(this,t,e)},Tn.takeUntilWithTime=function(t,e){cn(e)||(e=gn);var n=this;return new vs(function(r){return new en(e.scheduleFuture(r,t,function(t,e){e.onCompleted()}),n.subscribe(r))},n)},Tn.throttle=function(t,e){cn(e)||(e=gn);var n=+t||0;if(n<=0)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new vs(function(t){var o=0;return r.subscribe(function(r){var i=e.now();(0===o||i-o>=n)&&(o=i,t.onNext(r))},function(e){t.onError(e)},function(){t.onCompleted()})},r)};var is=function(t){function e(e,n){this._o=e,this._xform=n,t.call(this)}return Ve(e,t),e.prototype.next=function(t){var e=oe(this._xform["@@transducer/step"]).call(this._xform,this._o,t);e===re&&this._o.onError(e.e)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},e}(Dn);Tn.transduce=function(t){var e=this;return new vs(function(n){var r=t(Ft(n));return e.subscribe(new is(n,r))},e)};var ss=function(t){function e(e){this.source=e,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){var e=new Ye,n=new ze,r={hasCurrent:!1,isStopped:!1,o:t,g:n};return n.add(e),e.setDisposable(this.source.subscribe(new us(r))),n},e}(qn),us=function(t){function e(e){this._s=e,t.call(this)}function n(e,n){this._s=e,this._i=n,t.call(this)}return Ve(e,t),e.prototype.next=function(t){if(!this._s.hasCurrent){this._s.hasCurrent=!0,ee(t)&&(t=Xn(t));var e=new Ye;this._s.g.add(e),e.setDisposable(t.subscribe(new n(this._s,e)))}},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.isStopped=!0,!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()},Ve(n,t),n.prototype.next=function(t){this._s.o.onNext(t)},n.prototype.error=function(t){this._s.o.onError(t)},n.prototype.completed=function(){this._s.g.remove(this._i),this._s.hasCurrent=!1,this._s.isStopped&&1===this._s.g.length&&this._s.o.onCompleted()},e}(Dn);Tn.switchFirst=function(){return new ss(this)},Tn.flatMapFirst=Tn.exhaustMap=function(t,e,n){return new Ln(this,t,e,n).switchFirst()},Tn.flatMapWithMaxConcurrent=Tn.flatMapMaxConcurrent=function(t,e,n,r){return new Ln(this,e,n,r).merge(t)};var cs=Jt.VirtualTimeScheduler=function(t){function e(e,n){this.clock=e,this.comparer=n,this.isEnabled=!1,this.queue=new We(1024),t.call(this)}Ve(e,t);var n=e.prototype;return n.now=function(){return this.toAbsoluteTime(this.clock)},n.schedule=function(t,e){return this.scheduleAbsolute(t,this.clock,e)},n.scheduleFuture=function(t,e,n){var r=e instanceof Date?this.toRelativeTime(e-this.now()):this.toRelativeTime(e);return this.scheduleRelative(t,r,n)},n.add=ve,n.toAbsoluteTime=ve,n.toRelativeTime=ve,n.schedulePeriodic=function(t,e,n){return new fn(this,t,e,n).start()},n.scheduleRelative=function(t,e,n){var r=this.add(this.clock,e);return this.scheduleAbsolute(t,r,n)},n.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var t=this.getNext();null!==t?(this.comparer(t.dueTime,this.clock)>0&&(this.clock=t.dueTime),t.invoke()):this.isEnabled=!1}while(this.isEnabled)}},n.stop=function(){this.isEnabled=!1},n.advanceTo=function(t){var e=this.comparer(this.clock,t);if(this.comparer(this.clock,t)>0)throw new he;if(0!==e&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,t)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=t}},n.advanceBy=function(t){var e=this.add(this.clock,t),n=this.comparer(this.clock,e);if(n>0)throw new he;0!==n&&this.advanceTo(e)},n.sleep=function(t){var e=this.add(this.clock,t);if(this.comparer(this.clock,e)>=0)throw new he;this.clock=e},n.getNext=function(){for(;this.queue.length>0;){var t=this.queue.peek();if(!t.isCancelled())return t;this.queue.dequeue()}return null},n.scheduleAbsolute=function(t,e,n){function r(t,e){return o.queue.remove(i),n(t,e)}var o=this,i=new on(this,t,r,e,this.comparer);return this.queue.enqueue(i),i.disposable},e}(sn);Jt.HistoricalScheduler=function(t){function e(e,n){var r=null==e?0:e,o=n||Yt;t.call(this,r,o)}Ve(e,t);var n=e.prototype;return n.add=function(t,e){return t+e},n.toAbsoluteTime=function(t){return new Date(t).getTime()},n.toRelativeTime=function(t){return t},e}(Jt.VirtualTimeScheduler),Pt.prototype.equals=function(t){return t===this||null!=t&&("N"===t.kind&&this.predicate(t.value))},It.prototype.equals=function(t){return t===this||null!=t&&("E"===t.kind&&this.predicate(t.error))};var as=Jt.ReactiveTest={created:100,subscribed:200,disposed:1e3,onNext:function(t,e){return"function"==typeof e?new ls(t,new Pt(e)):new ls(t,En.createOnNext(e))},onError:function(t,e){return"function"==typeof e?new ls(t,new It(e)):new ls(t,En.createOnError(e))},onCompleted:function(t){return new ls(t,En.createOnCompleted())},subscribe:function(t,e){return new fs(t,e)}},ls=Jt.Recorded=function(t,e,n){this.time=t,this.value=e,this.comparer=n||Zt};ls.prototype.equals=function(t){return this.time===t.time&&this.comparer(this.value,t.value)},ls.prototype.toString=function(){return this.value.toString()+"@"+this.time};var fs=Jt.Subscription=function(t,e){this.subscribe=t,this.unsubscribe=e||Number.MAX_VALUE};fs.prototype.equals=function(t){return this.subscribe===t.subscribe&&this.unsubscribe===t.unsubscribe},fs.prototype.toString=function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"},(Jt.MockDisposable=function(t){this.scheduler=t,this.disposes=[],this.disposes.push(this.scheduler.clock)}).prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var hs=function(t){function e(e){t.call(this),this.scheduler=e,this.messages=[]}Ve(e,t);var n=e.prototype;return n.onNext=function(t){this.messages.push(new ls(this.scheduler.clock,En.createOnNext(t)))},n.onError=function(t){this.messages.push(new ls(this.scheduler.clock,En.createOnError(t)))},n.onCompleted=function(){this.messages.push(new ls(this.scheduler.clock,En.createOnCompleted()))},e}(An);qt.prototype.then=function(t,e){var n=this;this.subscriptions.push(new fs(this.scheduler.clock));var r,o=this.subscriptions.length-1,i=Jt.Observer.create(function(e){var u=t(e);if(u&&"function"==typeof u.then)r=u;else{var c=n.scheduler.clock;r=new qt(n.scheduler,[Jt.ReactiveTest.onNext(c,s),Jt.ReactiveTest.onCompleted(c)])}var a=n.observers.indexOf(i);n.observers.splice(a,1),n.subscriptions[o]=new fs(n.subscriptions[o].subscribe,n.scheduler.clock)},function(t){e(t);var r=n.observers.indexOf(i);n.observers.splice(r,1),n.subscriptions[o]=new fs(n.subscriptions[o].subscribe,n.scheduler.clock)});return this.observers.push(i),r||new qt(this.scheduler,this.messages)};var ps=function(t){function e(e,n){t.call(this);var r,o,i=this;this.scheduler=e,this.messages=n,this.subscriptions=[],this.observers=[];for(var s=0,u=this.messages.length;s<u;s++)r=this.messages[s],o=r.value,function(t){e.scheduleAbsolute(null,r.time,function(){for(var e=i.observers.slice(0),n=0,r=e.length;n<r;n++)t.accept(e[n]);return Ke})}(o)}return Ve(e,t),e.prototype._subscribe=function(t){var e=this;this.observers.push(t),this.subscriptions.push(new fs(this.scheduler.clock));var n=this.subscriptions.length-1;return Je(function(){var r=e.observers.indexOf(t);e.observers.splice(r,1),e.subscriptions[n]=new fs(e.subscriptions[n].subscribe,e.scheduler.clock)})},e}(In),ds=function(t){function e(e,n){t.call(this),this.scheduler=e,this.messages=n,this.subscriptions=[]}return Ve(e,t),e.prototype._subscribe=function(t){var e,n,r=this;this.subscriptions.push(new fs(this.scheduler.clock));for(var o=this.subscriptions.length-1,i=new ze,s=0,u=this.messages.length;s<u;s++)e=this.messages[s],n=e.value,function(n){i.add(r.scheduler.scheduleRelative(null,e.time,function(){return n.accept(t),Ke}))}(n);return Je(function(){r.subscriptions[o]=new fs(r.subscriptions[o].subscribe,r.scheduler.clock),i.dispose()})},e}(In);Jt.TestScheduler=function(t){function e(t,e){return t>e?1:t<e?-1:0}function n(){t.call(this,0,e)}return Ve(n,t),n.prototype.scheduleAbsolute=function(e,n,r){return n<=this.clock&&(n=this.clock+1),t.prototype.scheduleAbsolute.call(this,e,n,r)},n.prototype.add=function(t,e){return t+e},n.prototype.toAbsoluteTime=function(t){return new Date(t).getTime()},n.prototype.toRelativeTime=function(t){return t},n.prototype.startScheduler=function(t,e){e||(e={}),null==e.created&&(e.created=as.created),null==e.subscribed&&(e.subscribed=as.subscribed),null==e.disposed&&(e.disposed=as.disposed);var n,r,o=this.createObserver();return this.scheduleAbsolute(null,e.created,function(){return n=t(),Ke}),this.scheduleAbsolute(null,e.subscribed,function(){return r=n.subscribe(o),Ke}),this.scheduleAbsolute(null,e.disposed,function(){return r.dispose(),Ke}),this.start(),o},n.prototype.createHotObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return new ps(this,t)},n.prototype.createColdObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return new ds(this,t)},n.prototype.createResolvedPromise=function(t,e){return new qt(this,[Jt.ReactiveTest.onNext(t,e),Jt.ReactiveTest.onCompleted(t)])},n.prototype.createRejectedPromise=function(t,e){return new qt(this,[Jt.ReactiveTest.onError(t,e)])},n.prototype.createObserver=function(){return new hs(this)},n}(cs);var vs=Jt.AnonymousObservable=function(t){function e(t){return t&&ne(t.dispose)?t:ne(t)?Je(t):Ke}function n(t,n){var r=n[0],o=n[1],i=oe(o.__subscribe).call(o,r);i!==re||r.fail(re.e)||l(re.e),r.setDisposable(e(i))}function r(e,n){this.source=n,this.__subscribe=e,t.call(this)}return Ve(r,t),r.prototype._subscribe=function(t){var e=new ms(t),r=[e,this];return vn.scheduleRequired()?vn.schedule(r,n):n(null,r),e},r}(In),ms=function(t){function e(e){t.call(this),this.observer=e,this.m=new Ye}Ve(e,t);var n=e.prototype;return n.next=function(t){var e=oe(this.observer.onNext).call(this.observer,t);e===re&&(this.dispose(),l(e.e))},n.error=function(t){var e=oe(this.observer.onError).call(this.observer,t);this.dispose(),e===re&&l(e.e)},n.completed=function(){var t=oe(this.observer.onCompleted).call(this.observer);this.dispose(),t===re&&l(t.e)},n.setDisposable=function(t){this.m.setDisposable(t)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(Dn),ys=function(t){function e(e,n){this._m=e,this._u=n,t.call(this)}return Ve(e,t),e.prototype.subscribeCore=function(t){return new en(this._m.getDisposable(),this._u.subscribe(t))},e}(qn),bs=function(t){function e(e,n,r){t.call(this),this.key=e,this.underlyingObservable=r?new ys(r,n):n}return Ve(e,t),e.prototype._subscribe=function(t){return this.underlyingObservable.subscribe(t)},e}(In),_s=Jt.Subject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return Ve(e,t),Ue(e.prototype,An.prototype,{_subscribe:function(t){return Qe(this),this.isStopped?this.hasError?(t.onError(this.error),Ke):(t.onCompleted(),Ke):(this.observers.push(t),new wi(this,t))},hasObservers:function(){return Qe(this),this.observers.length>0},onCompleted:function(){if(Qe(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=c(this.observers),n=e.length;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Qe(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,n=c(this.observers),r=n.length;e<r;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Qe(this),!this.isStopped)for(var e=0,n=c(this.observers),r=n.length;e<r;e++)n[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),e.create=function(t,e){return new Os(t,e)},e}(In),gs=Jt.AsyncSubject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return Ve(e,t),Ue(e.prototype,An.prototype,{_subscribe:function(t){return Qe(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),Ke):(this.observers.push(t),new wi(this,t))},hasObservers:function(){return Qe(this),this.observers.length>0},onCompleted:function(){var t,e;if(Qe(this),!this.isStopped){this.isStopped=!0;var n=c(this.observers),e=n.length;if(this.hasValue)for(t=0;t<e;t++){var r=n[t];r.onNext(this.value),r.onCompleted()}else for(t=0;t<e;t++)n[t].onCompleted();this.observers.length=0}},onError:function(t){if(Qe(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=c(this.observers),r=n.length;e<r;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){Qe(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),e}(In),ws=Jt.BehaviorSubject=function(t){function e(e){t.call(this),this.value=e,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return Ve(e,t),Ue(e.prototype,An.prototype,{_subscribe:function(t){return Qe(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),Ke):(this.observers.push(t),t.onNext(this.value),new wi(this,t))},getValue:function(){return Qe(this),this.hasError&&l(this.error),this.value},hasObservers:function(){return Qe(this),this.observers.length>0},onCompleted:function(){if(Qe(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=c(this.observers),n=e.length;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Qe(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=c(this.observers),r=n.length;e<r;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Qe(this),!this.isStopped){this.value=t;for(var e=0,n=c(this.observers),r=n.length;e<r;e++)n[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),e}(In),Es=Jt.ReplaySubject=function(t){function e(t,e){return Je(function(){e.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(e),1)})}function n(e,n,o){this.bufferSize=null==e?r:e,this.windowSize=null==n?r:n,this.scheduler=o||vn,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this)}var r=Math.pow(2,53)-1;return Ve(n,t),Ue(n.prototype,An.prototype,{_subscribe:function(t){Qe(this);var n=new Fn(this.scheduler,t),r=e(this,n);this._trim(this.scheduler.now()),this.observers.push(n);for(var o=0,i=this.q.length;o<i;o++)n.onNext(this.q[o].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),r},hasObservers:function(){return Qe(this),this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(Qe(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var n=0,r=c(this.observers),o=r.length;n<o;n++){var i=r[n];i.onNext(t),i.ensureActive()}}},onError:function(t){if(Qe(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var n=0,r=c(this.observers),o=r.length;n<o;n++){var i=r[n];i.onError(t),i.ensureActive()}this.observers.length=0}},onCompleted:function(){if(Qe(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,n=c(this.observers),r=n.length;e<r;e++){var o=n[e];o.onCompleted(),o.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),n}(In),Os=Jt.AnonymousSubject=function(t){function e(e,n){this.observer=e,this.observable=n,t.call(this)}return Ve(e,t),Ue(e.prototype,An.prototype,{_subscribe:function(t){return this.observable.subscribe(t)},onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),e}(In);Jt.Pauser=function(t){function e(){t.call(this)}return Ve(e,t),e.prototype.pause=function(){this.onNext(!1)},e.prototype.resume=function(){this.onNext(!0)},e}(_s),$t.Rx=Jt,(i=function(){return Jt}.call(e,n,e,t))!==s&&(t.exports=i);var Cs=v()}).call(this)}).call(e,n(5)(t),n(6),n(9))},function(t,e,n){"use strict";function r(t,e,n){var r=(0,f.map)(l.emitNullIfEmpty,e),o=(0,f.flatten)([t,r]),s=(0,l.removeNullsFromArray)(o);if(0===s.length)throw"m > computeDOMSinkDefault: internal error!";return m.combineLatest(s).map(i(t))}function o(t,e,n){var r=(0,f.concat)([t],e);return m.merge((0,l.removeNullsFromArray)(r))}function i(t){return function(e){var n=(0,l.removeEmptyVNodes)((0,l.removeNullsFromArray)(e));if((0,l.assertContract)((0,l.isArrayOf)(l.isVNode),[n],"DOM sources must stream VNode objects! Got "+n),t){var r=(0,f.clone)(n.shift()),o=n;return r.children=(0,f.clone)(r.children)||[],o&&(r.text&&(r.children.splice(0,0,{children:[],data:{},elm:void 0,key:void 0,sel:void 0,text:r.text}),r.text=void 0),Array.prototype.push.apply(r.children,o)),r}switch(n.length){case 0:return null;default:return(0,h.div)(n)}}}function s(t,e,n,r){return function(o,i){var s=r[i]||_[i]||_._default;return(0,l.assertContract)(l.isMergeSinkFn,[s],"m : mergeSinkFn for sink "+i+" must be a function : check parameter or default merge function!"),o[i]=s(t?t[i]:null,(0,l.projectSinksOn)(i,e),n),o}}function u(t,e,n,r){return(0,f.reduce)(s(t,e,n,{}),{},r)}function c(t,e,n){return y(function(t,r){var o=t.name||r;console.group("computing children sinks for "+o);var i=t(e,n);return console.groupEnd(),i},t)}function a(t,e,n){console.groupCollapsed("m factory > Entry"),console.log("componentDef, _settings, children",t,e,n),(0,l.assertContract)(v.hasMsignature,[t,e,n],"m > assertContract : error checking signature (componentDef, settings, children) = \n   "+(0,l.format)({componentDef:t,_settings:e,_children:n})+"!");var r=t.makeLocalSources,o=t.makeLocalSettings,i=t.mergeSinks,u=t.computeSinks,a=t.checkPostConditions,h=t.checkPreConditions,p=void 0,d=void 0;return(0,f.isNil)(n[1])?(p=(0,f.always)(null),d=n):(0,l.isArray)(n[1])?(p=(0,f.defaultTo)((0,f.always)(null),n[0]),d=n[1]):(p=(0,f.always)(null),d=n),e=e||{},r=(0,f.defaultTo)((0,f.always)(null),r),o=(0,f.defaultTo)((0,f.always)({}),o),i=(0,f.defaultTo)({},i),a=(0,f.defaultTo)((0,f.always)(!0),a),h=(0,f.defaultTo)((0,f.always)(!0),h),console.groupEnd(),function(t,n){var v=n&&n.trace||e&&e.trace;console.groupCollapsed(v+" component > Entry"),console.debug("sources, innerSettings",t,n),n=n||{};var m=b(n,e),y=b(o(m),m);console.debug("inner and outer settings merge",m),console.debug(v+" component : final settings",y);var _=(0,f.merge)(t,r(t,y));(0,l.assertSourcesContracts)([_,y],h);var g=void 0;if(u)console.groupCollapsed(v+" component > computeSinks"),g=u(p,d,_,y),console.log(v+" : m > computeSinks returns : ",g),(0,l.assertContract)(l.isOptSinks,[g],v+" : m > computeSinks : must return sinks!, returned "+(0,l.format)(g)),console.groupEnd();else{console.groupCollapsed(v+" component > makeOwnSinks"),console.debug("called with extendedSources : "+(0,f.keys)(_)),console.debug("called with localSettings",y);var w=p(_,y);console.debug(v+" component > makeOwnSinks returns : ",w),console.groupEnd(),console.group(v+" component > computing children sinks"),console.debug("called with extendedSources : "+(0,f.keys)(_)),console.debug("called with localSettings",y);var E=c(d,_,y);if(console.debug(v+" component > computing children sinks returns : ",E),console.groupEnd(),(0,l.assertContract)(l.isOptSinks,[w],"ownSinks must be a hash of observable sink"),(0,l.assertContract)(l.isArrayOptSinks,[E],"childrenSinks must be an array of sinks"),(0,l.isFunction)(i))console.groupCollapsed(v+" component > (fn) mergeSinks"),console.debug("called with ownSinks : "+(0,l.format)((0,f.keys)(w))+", \n                       childrenSinks: "+(0,l.format)(E.map(f.keys))),console.debug("called with localSettings",y),g=i(w,E,y),console.debug(v+" component > (fn) mergeSinks returns :",g),(0,l.assertContract)(l.isOptSinks,[g],v+" : m > mergeSinks (fn) : must return sinks!, returned "+(0,l.format)(g)),console.groupEnd();else{var O=(0,f.flatten)((0,l.removeNullsFromArray)([w,E])),C=(0,l.getSinkNamesFromSinksArray)(O);console.groupCollapsed(v+" component > (obj) mergeSinks"),console.log("mergeSinks fn defined for sinks "+(0,f.keys)(i)),console.debug("called with ownSinks : "+(0,l.format)((0,f.keys)(w))+", \n                       childrenSinks: "+(0,l.format)(E.map(f.keys))),console.debug("called with localSettings",y),g=(0,f.reduce)(s(w,E,y,i),{},C),console.debug(v+" component > (obj) mergeSinks returns :",g),(0,l.assertContract)(l.isOptSinks,[g],v+" : m > mergeSinks (obj) : must return sinks!, returned "+(0,l.format)(g)),console.groupEnd()}}(0,l.assertSinksContracts)(g,a);var x=(0,l.traceSinks)(v,g);return console.groupEnd(),x}}Object.defineProperty(e,"__esModule",{value:!0}),e.computeReducedSink=e.mergeChildrenIntoParentDOM=e.computeDOMSinkDefault=e.defaultMergeSinkFn=e.m=void 0;var l=n(1),f=n(0),h=n(12),p=n(2),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(p),v=n(83);d.config.longStackSupport=!0;var m=d.Observable,y=(0,f.addIndex)(f.map),b=function t(e,n){return(0,f.is)(Object,e)&&(0,f.is)(Object,n)?(0,f.mergeWith)(t,e,n):n},_={DOM:r,_default:o};e.m=a,e.defaultMergeSinkFn=u,e.computeDOMSinkDefault=r,e.mergeChildrenIntoParentDOM=i,e.computeReducedSink=s},function(t,e,n){"use strict";function r(t){return"object"===("undefined"==typeof HTMLElement?"undefined":u(HTMLElement))?t instanceof HTMLElement||t instanceof DocumentFragment:t&&"object"===(void 0===t?"undefined":u(t))&&null!==t&&(1===t.nodeType||11===t.nodeType)&&"string"==typeof t.nodeName}function o(t){var e="string"==typeof t?document.querySelector(t):t;if("string"==typeof t&&null===e)throw new Error("Cannot render into unknown element '"+t+"'");if(!r(e))throw new Error("Given container is not a DOM element neither a selector string.");return e}function i(t){return t.filter(function(t){return t.indexOf(a)>-1}).slice(-1).join("")}function s(t){return t.filter(function(t){return-1===t.indexOf(a)}).join(" ")}Object.defineProperty(e,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.getElement=o,e.getScope=i,e.getSelectors=s;var c=void 0;try{e.matchesSelector=c=n(67)}catch(t){e.matchesSelector=c=Function.prototype}e.matchesSelector=c;var a=e.SCOPE_PREFIX="$$CYCLEDOM$$-";e.eventTypesThatDontBubble=["load","unload","focus","blur","mouseenter","mouseleave","submit","change","reset","timeupdate","playing","waiting","seeking","seeked","ended","loadedmetadata","loadeddata","canplay","canplaythrough","durationchange","play","pause","ratechange","volumechange","suspend","emptied","stalled","scroll"]},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){function r(t,e){return o(t,e,s)}var o=n(32),i=n(33),s=n(34),u=function(t){return function(e,n,r){return"function"==typeof n&&void 0===r||(n=i(n,r,3)),t(e,n)}}(r);t.exports=u},function(t,e,n){"use strict";function r(t){return"function"==typeof t.subscribe}function o(t){return i(t.data,t.children),t}function i(t,e){if(t.ns="http://www.w3.org/2000/svg",void 0!==e&&c.default.array(e))for(var n=0;n<e.length;++n)r(e[n])?e[n]=e[n].map(o):i(e[n].data,e[n].children)}function s(t,e,n){var r={},o=void 0,s=void 0,u=void 0;if(3===arguments.length?(r=e,c.default.array(n)?o=n:c.default.primitive(n)&&(s=n)):2===arguments.length&&(c.default.array(e)?o=e:c.default.primitive(e)?s=e:r=e),c.default.array(o))for(o=o.filter(function(t){return t}),u=0;u<o.length;++u)c.default.primitive(o[u])&&(o[u]=a(void 0,void 0,void 0,o[u]));return"s"===t[0]&&"v"===t[1]&&"g"===t[2]&&i(r,o),a(t,r,o,s,void 0)}Object.defineProperty(e,"__esModule",{value:!0}),e.h=s;var u=n(19),c=function(t){return t&&t.__esModule?t:{default:t}}(u),a=n(20)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){v&&p&&(v=!1,p.length?d=p.concat(d):m=-1,d.length&&u())}function u(){if(!v){var t=o(s);v=!0;for(var e=d.length;e;){for(p=d,d=[];++m<e;)p&&p[m].run();m=-1,e=d.length}p=null,v=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function a(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,d=[],v=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new c(t,e)),1!==d.length||v||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=a,h.addListener=a,h.once=a,h.off=a,h.removeListener=a,h.removeAllListeners=a,h.emit=a,h.prependListener=a,h.prependOnceListener=a,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){function r(t){return p[t]}function o(t){return!!t&&"object"==typeof t}function i(t){return"symbol"==typeof t||o(t)&&v.call(t)==l}function s(t){if("string"==typeof t)return t;if(null==t)return"";if(i(t))return m?b.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}function u(t){return t=s(t),t&&h.test(t)?t.replace(f,r):t}var c=n(11),a=1/0,l="[object Symbol]",f=/[&<>"'`]/g,h=RegExp(f.source),p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},d=Object.prototype,v=d.toString,m=c.Symbol,y=m?m.prototype:void 0,b=m?y.toString:void 0;t.exports=u},function(t,e,n){(function(t,n){function r(t){return t&&t.Object===Object?t:null}var o={function:!0,object:!0},i=o[typeof e]&&e&&!e.nodeType?e:void 0,s=o[typeof t]&&t&&!t.nodeType?t:void 0,u=r(i&&s&&"object"==typeof n&&n),c=r(o[typeof self]&&self),a=r(o[typeof window]&&window),l=r(o[typeof this]&&this),f=u||a!==(l&&l.window)&&a||c||l||Function("return this")();t.exports=f}).call(e,n(5)(t),n(6))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeHTMLDriver=e.mockDOMSource=e.makeDOMDriver=e.modules=e.progress=e.video=e.ul=e.u=e.tr=e.title=e.thead=e.th=e.tfoot=e.textarea=e.td=e.tbody=e.table=e.sup=e.sub=e.style=e.strong=e.span=e.source=e.small=e.select=e.section=e.script=e.samp=e.s=e.ruby=e.rt=e.rp=e.q=e.pre=e.param=e.p=e.option=e.optgroup=e.ol=e.object=e.noscript=e.nav=e.meta=e.menu=e.mark=e.map=e.main=e.link=e.li=e.legend=e.label=e.keygen=e.kbd=e.ins=e.input=e.img=e.iframe=e.i=e.html=e.hr=e.hgroup=e.header=e.head=e.h6=e.h5=e.h4=e.h3=e.h2=e.h1=e.form=e.footer=e.figure=e.figcaption=e.fieldset=e.embed=e.em=e.dt=e.dl=e.div=e.dir=e.dfn=e.del=e.dd=e.colgroup=e.col=e.code=e.cite=e.caption=e.canvas=e.button=e.br=e.body=e.blockquote=e.bdo=e.bdi=e.base=e.b=e.audio=e.aside=e.article=e.area=e.address=e.abbr=e.a=e.svg=e.thunk=e.h=void 0;var r=n(8);Object.defineProperty(e,"h",{enumerable:!0,get:function(){return r.h}});var o=n(60);Object.defineProperty(e,"thunk",{enumerable:!0,get:function(){return o.thunk}});var i=n(61);Object.defineProperty(e,"makeDOMDriver",{enumerable:!0,get:function(){return i.makeDOMDriver}});var s=n(80);Object.defineProperty(e,"mockDOMSource",{enumerable:!0,get:function(){return s.mockDOMSource}});var u=n(81);Object.defineProperty(e,"makeHTMLDriver",{enumerable:!0,get:function(){return u.makeHTMLDriver}});var c=n(82),a=function(t){return t&&t.__esModule?t:{default:t}}(c),l=n(23),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),h=a.default.svg,p=a.default.a,d=a.default.abbr,v=a.default.address,m=a.default.area,y=a.default.article,b=a.default.aside,_=a.default.audio,g=a.default.b,w=a.default.base,E=a.default.bdi,O=a.default.bdo,C=a.default.blockquote,x=a.default.body,S=a.default.br,k=a.default.button,N=a.default.canvas,A=a.default.caption,j=a.default.cite,T=a.default.code,D=a.default.col,R=a.default.colgroup,M=a.default.dd,F=a.default.del,P=a.default.dfn,I=a.default.dir,q=a.default.div,L=a.default.dl,V=a.default.dt,U=a.default.em,B=a.default.embed,W=a.default.fieldset,G=a.default.figcaption,z=a.default.figure,H=a.default.footer,$=a.default.form,J=a.default.h1,K=a.default.h2,X=a.default.h3,Q=a.default.h4,Z=a.default.h5,Y=a.default.h6,tt=a.default.head,et=a.default.header,nt=a.default.hgroup,rt=a.default.hr,ot=a.default.html,it=a.default.i,st=a.default.iframe,ut=a.default.img,ct=a.default.input,at=a.default.ins,lt=a.default.kbd,ft=a.default.keygen,ht=a.default.label,pt=a.default.legend,dt=a.default.li,vt=a.default.link,mt=a.default.main,yt=a.default.map,bt=a.default.mark,_t=a.default.menu,gt=a.default.meta,wt=a.default.nav,Et=a.default.noscript,Ot=a.default.object,Ct=a.default.ol,xt=a.default.optgroup,St=a.default.option,kt=a.default.p,Nt=a.default.param,At=a.default.pre,jt=a.default.q,Tt=a.default.rp,Dt=a.default.rt,Rt=a.default.ruby,Mt=a.default.s,Ft=a.default.samp,Pt=a.default.script,It=a.default.section,qt=a.default.select,Lt=a.default.small,Vt=a.default.source,Ut=a.default.span,Bt=a.default.strong,Wt=a.default.style,Gt=a.default.sub,zt=a.default.sup,Ht=a.default.table,$t=a.default.tbody,Jt=a.default.td,Kt=a.default.textarea,Xt=a.default.tfoot,Qt=a.default.th,Zt=a.default.thead,Yt=a.default.title,te=a.default.tr,ee=a.default.u,ne=a.default.ul,re=a.default.video,oe=a.default.progress;e.svg=h,e.a=p,e.abbr=d,e.address=v,e.area=m,e.article=y,e.aside=b,e.audio=_,e.b=g,e.base=w,e.bdi=E,e.bdo=O,e.blockquote=C,e.body=x,e.br=S,e.button=k,e.canvas=N,e.caption=A,e.cite=j,e.code=T,e.col=D,e.colgroup=R,e.dd=M,e.del=F,e.dfn=P,e.dir=I,e.div=q,e.dl=L,e.dt=V,e.em=U,e.embed=B,e.fieldset=W,e.figcaption=G,e.figure=z,e.footer=H,e.form=$,e.h1=J,e.h2=K,e.h3=X,e.h4=Q,e.h5=Z,e.h6=Y,e.head=tt,e.header=et,e.hgroup=nt,e.hr=rt,e.html=ot,e.i=it,e.iframe=st,e.img=ut,e.input=ct,e.ins=at,e.kbd=lt,e.keygen=ft,e.label=ht,e.legend=pt,e.li=dt,e.link=vt,e.main=mt,e.map=yt,e.mark=bt,e.menu=_t,e.meta=gt,e.nav=wt,e.noscript=Et,e.object=Ot,e.ol=Ct,e.optgroup=xt,e.option=St,e.p=kt,e.param=Nt,e.pre=At,e.q=jt,e.rp=Tt,e.rt=Dt,e.ruby=Rt,e.s=Mt,e.samp=Ft,e.script=Pt,e.section=It,e.select=qt,e.small=Lt,e.source=Vt,e.span=Ut,e.strong=Bt,e.style=Wt,e.sub=Gt,e.sup=zt,e.table=Ht,e.tbody=$t,e.td=Jt,e.textarea=Kt,e.tfoot=Xt,e.th=Qt,e.thead=Zt,e.title=Yt,e.tr=te,e.u=ee,e.ul=ne,e.video=re,e.progress=oe,e.modules=f},function(t,e,n){"use strict";function r(t){return(0,o.both)(i.isString,s)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isSources=e.isSettings=e.isComponent=e.isNotEmpty=void 0,e.isEventName=r;var o=n(0),i=n(1),s=e.isNotEmpty=(0,o.complement)(o.isEmpty);e.isComponent=i.isFunction,e.isSettings=o.T,e.isSources=o.T},function(t,e,n){var r=n(28),o=n(30),i=r([o.attributes,o.props,o.class,o.style]);t.exports=i},function(t,e){/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */
t.exports=function(t){var e=String.prototype.split,n=/()??/.exec("")[1]===t;return function(r,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return e.call(r,o,i);var s,u,c,a,l=[],f=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),h=0,o=new RegExp(o.source,f+"g");for(r+="",n||(s=new RegExp("^"+o.source+"$(?!\\s)",f)),i=i===t?-1>>>0:i>>>0;(u=o.exec(r))&&!((c=u.index+u[0].length)>h&&(l.push(r.slice(h,u.index)),!n&&u.length>1&&u[0].replace(s,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===t&&(u[e]=t)}),u.length>1&&u.index<r.length&&Array.prototype.push.apply(l,u.slice(1)),a=u[0].length,h=c,l.length>=i));)o.lastIndex===u.index&&o.lastIndex++;return h===r.length?!a&&o.test("")||l.push(""):l.push(r.slice(h)),l.length>i?l.slice(0,i):l}}()},function(t,e){e.CONTAINER={a:!0,defs:!0,glyph:!0,g:!0,marker:!0,mask:!0,"missing-glyph":!0,pattern:!0,svg:!0,switch:!0,symbol:!0,text:!0,desc:!0,metadata:!0,title:!0},e.VOID={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(t,e,n){"use strict";/*!
 * longest <https://github.com/jonschlinkert/longest>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
t.exports=function(t){if(!t)return null;var e=t.length;if(!e)return null;for(var n,r,o,i=0,s=0;s<e;s++)n=t[s].toString(),(r=n.length)>i&&(o=n,i=r);return o}},function(t,e,n){"use strict";t.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g}},function(t,e){t.exports={array:Array.isArray,primitive:function(t){return"string"==typeof t||"number"==typeof t}}},function(t,e){t.exports=function(t,e,n,r,o){return{sel:t,data:e,children:n,text:r,elm:o,key:void 0===e?void 0:e.key}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.ScopeChecker=function(){function t(e,n){r(this,t),this.scope=e,this.isolateModule=n}return o(t,[{key:"isStrictlyInRootScope",value:function(t){for(var e=t;e;e=e.parentElement){var n=this.isolateModule.isIsolatedElement(e);if(n&&n!==this.scope)return!1;if(n)return!0}return!0}}]),t}()},function(t,e,n){"use strict";function r(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=void 0,n="",r=[],o=(0,i.default)(t,s);(u.test(o[1])||""===t)&&(e="div");var c=void 0,a=void 0,l=void 0;for(l=0;l<o.length;l++)(c=o[l])&&(a=c.charAt(0),e?"."===a?r.push(c.substring(1,c.length)):"#"===a&&(n=c.substring(1,c.length)):e=c);return{tagName:e,id:n,className:r.join(" ")}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(15),i=function(t){return t&&t.__esModule?t:{default:t}}(o),s=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,u=/^\.|#/},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.DatasetModule=e.EventsModule=e.HeroModule=e.AttrsModule=e.PropsModule=e.ClassModule=e.StyleModule=void 0;var o=n(73),i=r(o),s=n(74),u=r(s),c=n(75),a=r(c),l=n(76),f=r(l),h=n(77),p=r(h),d=n(78),v=r(d),m=n(79),y=r(m);e.default=[p.default,i.default,u.default,a.default],e.StyleModule=p.default,e.ClassModule=i.default,e.PropsModule=u.default,e.AttrsModule=a.default,e.HeroModule=v.default,e.EventsModule=f.default,e.DatasetModule=y.default},function(t,e,n){"use strict";function r(t,e){return{sel:t.sel,data:t.data,text:t.text,elm:t.elm,key:t.key,children:e}}function o(t){if(t&&t.data&&t.data.static)return s.Observable.just(t);if("function"==typeof t.subscribe)return t.map(o).switch();if(null!==t&&"object"===(void 0===t?"undefined":i(t)))return t.children&&0!==t.children.length?s.Observable.combineLatest(t.children.map(o),function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return r(t,n)}):s.Observable.just(t);throw new TypeError("transposition: Unhandled vNode type")}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.transposeVNode=o;var s=n(2)},function(t,e,n){"use strict";function r(t,e,n,r){return(0,u.pipe)(u.values,(0,u.map)((0,u.prop)("target_states")),u.flatten,(0,u.map)((0,u.prop)("transition_evaluation")),u.flatten,(0,u.map)((0,u.prop)("target_state")),(0,u.map)((0,u.flip)(u.prop)(n)),(0,u.all)(u.identity))(e)}function o(t,e,n,r){return(0,u.pipe)(u.values,(0,u.map)((0,u.prop)("origin_state")),(0,u.filter)((0,u.complement)((0,u.equals)(a.INIT_STATE))),(0,u.map)((0,u.flip)(u.prop)(n)),(0,u.all)(u.identity))(e)}function i(t,e,n,r){return(0,u.pipe)(u.values,(0,u.map)((0,u.prop)("event")),(0,u.filter)((0,u.complement)((0,u.equals)(a.INIT_EVENT_NAME))),(0,u.map)((0,u.flip)(u.prop)(t)),(0,u.all)(u.identity))(e)}function s(t){return!!t.subscribe}Object.defineProperty(e,"__esModule",{value:!0}),e.isActionRequestCodomain=e.isActionRequestDomain=e.isRequest=e.isCommand=e.isEventGuardDomain=e.isEventGuardCodomain=e.isModelUpdateCodomain=e.isModelUpdateDomain=e.isActionGuardCodomain=e.isActionGuardDomain=e.isActionResponse=e.isEventFactoryCodomain=e.isEventFactoryDomain=e.isDefaultActionResponseHandlerConfig=e.isEntryComponent=e.isEntryComponentFactory=e.checkStateEntryComponentFnMustReturnComponent=e.isArrayUpdateOperations=e.isUpdateOperation=e.isOpTest=e.isOpCopy=e.isOpMove=e.isOpReplace=e.isOpRemove=e.isOpAdd=e.isOpNone=e.isJsonPointer=e.isFsmTransitions=e.isFsmEvents=e.isFsmSettings=e.isFsmEntryComponents=e.isEventGuard=e.isFsmModel=e.isEventData=e.isEvent=e.isState=e.isSinkName=e.isTransitionName=e.isEventName=void 0,e.checkTargetStatesDefinedInTransitionsMustBeMappedToComponent=r,e.checkOriginStatesDefinedInTransitionsMustBeMappedToComponent=o,e.checkEventDefinedInTransitionsMustBeMappedToEventFactory=i,e.checkIsObservable=s;var u=n(0),c=n(1),a=n(26),l=n(13),f=e.isEventName=(0,u.both)(c.isString,l.isNotEmpty),h=e.isTransitionName=(0,u.both)(c.isString,l.isNotEmpty),p=e.isSinkName=(0,u.both)(c.isString,l.isNotEmpty),d=e.isState=(0,u.both)(c.isString,l.isNotEmpty),v=e.isEvent=c.isFunction,m=e.isEventData=u.T,y=e.isFsmModel=c.isObject,b=e.isEventGuard=(0,u.either)(u.isNil,c.isFunction),_=(0,c.isStrictRecord)({driver:(0,u.either)(u.isNil,p),request:(0,u.either)(u.isNil,c.isFunction)}),g=c.isFunction,w=c.isFunction,E=(0,c.isStrictRecord)({action_guard:g,target_state:d,model_update:c.isFunction}),O=(0,c.isStrictRecord)({event_guard:b,re_entry:(0,u.either)(u.isNil,c.isBoolean),action_request:(0,u.either)(u.isNil,_),transition_evaluation:(0,c.isArrayOf)(E)}),C=(0,c.isStrictRecord)({origin_state:d,event:f,target_states:(0,u.both)((0,c.isArrayOf)(O),l.isNotEmpty)}),x=c.isFunction,S=(e.isFsmEntryComponents=(0,u.both)((0,c.isHashMap)(d,x),l.isNotEmpty),e.isFsmSettings=(0,c.isStrictRecord)({initial_model:y,init_event_data:m,sinkNames:(0,u.either)(c.isEmptyArray,(0,c.isArrayOf)(p)),debug:(0,u.either)(u.isNil,c.isBoolean)}),e.isFsmEvents=(0,c.isHashMap)(f,v),e.isFsmTransitions=(0,u.allPass)([(0,c.isHashMap)(h,C),(0,u.complement)(u.isEmpty),(0,u.pipe)(u.values,(0,u.any)((0,u.propEq)("event",a.INIT_EVENT_NAME)))]),e.isJsonPointer=c.isString),k=e.isOpNone=(0,u.both)(c.isObject,u.isEmpty),N=e.isOpAdd=(0,c.isStrictRecord)({op:(0,u.both)(c.isString,(0,u.equals)("add")),path:S,value:u.T}),A=e.isOpRemove=(0,c.isStrictRecord)({op:(0,u.both)(c.isString,(0,u.equals)("remove")),path:S}),j=e.isOpReplace=(0,c.isStrictRecord)({op:(0,u.both)(c.isString,(0,u.equals)("replace")),path:S,value:u.T}),T=e.isOpMove=(0,c.isStrictRecord)({op:(0,u.both)(c.isString,(0,u.equals)("move")),path:S}),D=e.isOpCopy=(0,c.isStrictRecord)({op:(0,u.both)(c.isString,(0,u.equals)("copy")),path:S}),R=e.isOpTest=(0,c.isStrictRecord)({op:(0,u.both)(c.isString,(0,u.equals)("test")),path:S,value:u.T}),M=e.isUpdateOperation=(0,u.cond)([[k,u.T],[N,u.T],[A,u.T],[j,u.T],[T,u.T],[D,u.T],[R,u.T]]),F=e.isArrayUpdateOperations=(0,u.either)(c.isEmptyArray,(0,c.isArrayOf)(M)),P=(e.checkStateEntryComponentFnMustReturnComponent=c.isComponent,e.isEntryComponentFactory=(0,u.either)(u.isNil,c.isFunction),e.isEntryComponent=(0,u.either)(u.isNil,c.isFunction),e.isDefaultActionResponseHandlerConfig=(0,c.isStrictRecord)({success:(0,c.isStrictRecord)({target_state:d,model_update:w}),error:(0,c.isStrictRecord)({target_state:d,model_update:w})}),e.isEventFactoryDomain=(0,u.both)(l.isSources,(0,u.flip)(l.isSettings)),e.isEventFactoryCodomain=c.isObservable,e.isActionResponse=u.T),I=(e.isActionGuardDomain=(0,u.both)(y,(0,u.flip)(P)),e.isActionGuardCodomain=c.isBoolean,e.isModelUpdateDomain=function(t,e,n,r){return y(t)&&m(e)&&P(n)&&(0,l.isSettings)(r)},e.isModelUpdateCodomain=F,e.isEventGuardCodomain=c.isBoolean,e.isEventGuardDomain=(0,u.both)(y,(0,u.flip)(m)),e.isCommand=c.isString),q=e.isRequest=(0,c.isStrictRecord)({command:I,context:(0,u.either)(u.isNil,u.T),payload:(0,u.either)(u.isNil,u.T)});e.isActionRequestDomain=(0,u.both)(y,(0,u.flip)(m)),e.isActionRequestCodomain=q},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTRACT_MODEL_UPDATE_FN_CANNOT_FAIL=e.CONTRACT_ACTION_GUARD_CANNOT_FAIL=e.CONTRACT_EVENT_GUARD_CANNOT_FAIL=e.CONTRACT_ACTION_GUARD_FN_RETURN_VALUE=e.CONTRACT_EVENT_GUARD_FN_RETURN_VALUE=e.CONTRACT_MODEL_UPDATE_FN_RETURN_VALUE=e.CONTRACT_SATISFIED_GUARD_PER_ACTION_RESPONSE=e.INIT_STATE=e.AWAITING_RESPONSE=e.AWAITING_EVENTS=e.INIT_EVENT_NAME=e.INIT_PREFIX=e.DRIVER_PREFIX=e.EVENT_PREFIX=e.ZERO_DRIVER=e.ACTION_GUARD_NONE=e.ACTION_REQUEST_NONE=e.AR_GUARD_NONE=e.EV_GUARD_NONE=void 0;var r=n(0);e.EV_GUARD_NONE=null,e.AR_GUARD_NONE=null,e.ACTION_REQUEST_NONE=null,e.ACTION_GUARD_NONE=(0,r.always)(!0),e.ZERO_DRIVER=null;e.EVENT_PREFIX="events",e.DRIVER_PREFIX="drivers",e.INIT_PREFIX="init";e.INIT_EVENT_NAME="init_event",e.AWAITING_EVENTS="AWAITING_EVENTS",e.AWAITING_RESPONSE="AWAITING_RESPONSE",e.INIT_STATE="INIT",e.CONTRACT_SATISFIED_GUARD_PER_ACTION_RESPONSE="For each action response, there MUST be a configured guard which is satisfied!",e.CONTRACT_MODEL_UPDATE_FN_RETURN_VALUE="Model update function must return valid update operations!",e.CONTRACT_EVENT_GUARD_FN_RETURN_VALUE="Event guards functions must return a boolean!",e.CONTRACT_ACTION_GUARD_FN_RETURN_VALUE="Action guards functions must return a boolean!",e.CONTRACT_EVENT_GUARD_CANNOT_FAIL="Event guards functions cannot throw exceptions!",e.CONTRACT_ACTION_GUARD_CANNOT_FAIL="Action guards functions cannot throw exceptions!",e.CONTRACT_MODEL_UPDATE_FN_CANNOT_FAIL="Model update functions cannot throw exceptions!"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(84);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(87);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(88);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var u=n(89);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var c=n(91);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var a=n(94);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var l=n(95);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(96);Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})});var h=n(97);Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})});var p=n(98);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})});var d=n(99);Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})});var v=n(100);Object.keys(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})});var m=n(1);Object.keys(m).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}})});var y=n(104);Object.keys(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})}),function(){for(var t=void 0,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],r=n.length,o=window.console=window.console||{};r--;)t=n[r],o[t]||(o[t]=e)}()},function(t,e,n){var r=n(29),o=n(16).VOID,i=n(16).CONTAINER;t.exports=function(t){function e(e,n){var r=[],o=new Map([["id",n.id],["class",n.className]]);return t.forEach(function(t,n){t(e,o)}),o.forEach(function(t,e){t&&""!==t&&r.push(e+'="'+t+'"')}),r.join(" ")}return function t(n){if(!n.sel&&n.text)return n.text;n.data=n.data||{},n.data.hook&&"function"==typeof n.data.hook.init&&"function"==typeof n.data.fn&&n.data.hook.init(n);var s=r(n.sel),u=s.tagName,c=e(n,s),a="http://www.w3.org/2000/svg"===n.data.ns,l=[];return"!"===u?"\x3c!--"+n.text+"--\x3e":(l.push("<"+u),c.length&&l.push(" "+c),a&&!0!==i[u]&&l.push(" /"),l.push(">"),(!0!==o[u]&&!a||a&&!0===i[u])&&(n.data.props&&n.data.props.innerHTML?l.push(n.data.props.innerHTML):n.text?l.push(n.text):n.children&&n.children.forEach(function(e){l.push(t(e))}),l.push("</"+u+">")),l.join(""))}}},function(t,e,n){var r=n(15),o=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,i=/^\.|#/;t.exports=function(t,e){t=t||"";var n,s="",u=[],c=r(t,o);(i.test(c[1])||""===t)&&(n="div");var a,l,f;for(f=0;f<c.length;f++)(a=c[f])&&(l=a.charAt(0),n?"."===l?u.push(a.substring(1,a.length)):"#"===l&&(s=a.substring(1,a.length)):n=a);return{tagName:!0===e?n.toUpperCase():n,id:s,className:u.join(" ")}}},function(t,e,n){t.exports={class:n(31),props:n(40),attributes:n(41),style:n(42)}},function(t,e,n){var r=n(7),o=n(38),i=n(39);t.exports=function(t,e){var n,s=[],u=[],c=t.data.class||{},a=e.get("class");a=a.length>0?a.split(" "):[],r(c,function(t,e){!0===t?s.push(e):u.push(e)}),n=o(i(a.concat(s)),function(t){return u.indexOf(t)<0}),n.length&&e.set("class",n.join(" "))}},function(t,e){var n=function(t){return function(e,n,r){for(var o=-1,i=Object(e),s=r(e),u=s.length;u--;){var c=s[t?u:++o];if(!1===n(i[c],c,i))break}return e}}();t.exports=n},function(t,e){function n(t,e,n){if("function"!=typeof t)return r;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,s){return t.call(e,n,r,o,i,s)}}return function(){return t.apply(e,arguments)}}function r(t){return t}t.exports=n},function(t,e,n){function r(t){return null!=t&&i(y(t))}function o(t,e){return t="number"==typeof t||h.test(t)?+t:-1,e=null==e?m:e,t>-1&&t%1==0&&t<e}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=m}function s(t){for(var e=c(t),n=e.length,r=n&&t.length,s=!!r&&i(r)&&(f(t)||l(t)),u=-1,a=[];++u<n;){var h=e[u];(s&&o(h,r)||d.call(t,h))&&a.push(h)}return a}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&i(e)&&(f(t)||l(t))&&e||0;for(var n=t.constructor,r=-1,s="function"==typeof n&&n.prototype===t,c=Array(e),a=e>0;++r<e;)c[r]=r+"";for(var h in t)a&&o(h,e)||"constructor"==h&&(s||!d.call(t,h))||c.push(h);return c}var a=n(35),l=n(36),f=n(37),h=/^\d+$/,p=Object.prototype,d=p.hasOwnProperty,v=a(Object,"keys"),m=9007199254740991,y=function(t){return function(e){return null==e?void 0:e[t]}}("length"),b=v?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&r(t)?s(t):u(t)?v(t):[]}:s;t.exports=b},function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}function o(t){return i(t)&&h.call(t)==u}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null!=t&&(o(t)?p.test(l.call(t)):n(t)&&c.test(t))}var u="[object Function]",c=/^\[object .+?Constructor\]$/,a=Object.prototype,l=Function.prototype.toString,f=a.hasOwnProperty,h=a.toString,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e){function n(t){return o(t)&&d.call(t,"callee")&&(!m.call(t,"callee")||v.call(t)==l)}function r(t){return null!=t&&s(t.length)&&!i(t)}function o(t){return c(t)&&r(t)}function i(t){var e=u(t)?v.call(t):"";return e==f||e==h}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){return!!t&&"object"==typeof t}var a=9007199254740991,l="[object Arguments]",f="[object Function]",h="[object GeneratorFunction]",p=Object.prototype,d=p.hasOwnProperty,v=p.toString,m=p.propertyIsEnumerable;t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function o(t){return i(t)&&h.call(t)==u}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null!=t&&(o(t)?p.test(l.call(t)):n(t)&&c.test(t))}var u="[object Function]",c=/^\[object .+?Constructor\]$/,a=Object.prototype,l=Function.prototype.toString,f=a.hasOwnProperty,h=a.toString,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),d=function(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}(Array,"isArray"),v=9007199254740991,m=d||function(t){return n(t)&&r(t.length)&&"[object Array]"==h.call(t)};t.exports=m},function(t,e,n){(function(t,n){function r(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function o(t){return function(e){return null==e?void 0:e[t]}}function i(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function s(t,e){return null==t?void 0:t[e]}function u(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function c(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function a(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function l(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function f(){this.__data__=We?We(null):{}}function h(t){return this.has(t)&&delete this.__data__[t]}function p(t){var e=this.__data__;if(We){var n=e[t];return n===Lt?void 0:n}return je.call(e,t)?e[t]:void 0}function d(t){var e=this.__data__;return We?void 0!==e[t]:je.call(e,t)}function v(t,e){return this.__data__[t]=We&&void 0===e?Lt:e,this}function m(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function y(){this.__data__=[]}function b(t){var e=this.__data__,n=q(e,t);return!(n<0)&&(n==e.length-1?e.pop():Pe.call(e,n,1),!0)}function _(t){var e=this.__data__,n=q(e,t);return n<0?void 0:e[n][1]}function g(t){return q(this.__data__,t)>-1}function w(t,e){var n=this.__data__,r=q(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function E(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function O(){this.__data__={hash:new l,map:new(Le||m),string:new l}}function C(t){return it(this,t).delete(t)}function x(t){return it(this,t).get(t)}function S(t){return it(this,t).has(t)}function k(t,e){return it(this,t).set(t,e),this}function N(t){var e=-1,n=t?t.length:0;for(this.__data__=new E;++e<n;)this.add(t[e])}function A(t){return this.__data__.set(t,Lt),this}function j(t){return this.__data__.has(t)}function T(t){this.__data__=new m(t)}function D(){this.__data__=new m}function R(t){return this.__data__.delete(t)}function M(t){return this.__data__.get(t)}function F(t){return this.__data__.has(t)}function P(t,e){var n=this.__data__;if(n instanceof m){var r=n.__data__;if(!Le||r.length<It-1)return r.push([t,e]),this;n=this.__data__=new E(r)}return n.set(t,e),this}function I(t,e){var n=tn(t)||Ot(t)?i(t.length,String):[],r=n.length,o=!!r;for(var s in t)!e&&!je.call(t,s)||o&&("length"==s||at(s,r))||n.push(s);return n}function q(t,e){for(var n=t.length;n--;)if(Et(t[n][0],e))return n;return-1}function L(t,e){e=lt(e,t)?[e]:et(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[yt(e[n++])];return n&&n==r?t:void 0}function V(t){return Te.call(t)}function U(t,e){return null!=t&&e in Object(t)}function B(t,e,n,r,o){return t===e||(null==t||null==e||!Nt(t)&&!At(e)?t!==t&&e!==e:W(t,e,B,n,r,o))}function W(t,e,n,r,o,i){var s=tn(t),c=tn(e),a=zt,l=zt;s||(a=Ze(t),a=a==Gt?Yt:a),c||(l=Ze(e),l=l==Gt?Yt:l);var f=a==Yt&&!u(t),h=l==Yt&&!u(e),p=a==l;if(p&&!f)return i||(i=new T),s||en(t)?nt(t,e,n,r,o,i):rt(t,e,a,n,r,o,i);if(!(o&Ut)){var d=f&&je.call(t,"__wrapped__"),v=h&&je.call(e,"__wrapped__");if(d||v){var m=d?t.value():t,y=v?e.value():e;return i||(i=new T),n(m,y,r,o,i)}}return!!p&&(i||(i=new T),ot(t,e,n,r,o,i))}function G(t,e,n,r){var o=n.length,i=o,s=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=n[o];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){u=n[o];var c=u[0],a=t[c],l=u[1];if(s&&u[2]){if(void 0===a&&!(c in t))return!1}else{var f=new T;if(r)var h=r(a,l,c,t,e,f);if(!(void 0===h?B(l,a,r,Vt|Ut,f):h))return!1}}return!0}function z(t){return!(!Nt(t)||ht(t))&&(St(t)||u(t)?De:he).test(bt(t))}function H(t){return At(t)&&kt(t.length)&&!!de[Te.call(t)]}function $(t){return"function"==typeof t?t:null==t?Ft:"object"==typeof t?tn(t)?X(t[0],t[1]):K(t):Pt(t)}function J(t){if(!pt(t))return Ie(t);var e=[];for(var n in Object(t))je.call(t,n)&&"constructor"!=n&&e.push(n);return e}function K(t){var e=st(t);return 1==e.length&&e[0][2]?vt(e[0][0],e[0][1]):function(n){return n===t||G(n,t,e)}}function X(t,e){return lt(t)&&dt(e)?vt(yt(t),e):function(n){var r=Dt(n,t);return void 0===r&&r===e?Rt(n,t):B(e,r,void 0,Vt|Ut)}}function Q(t){return function(e){return L(e,t)}}function Z(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;if(at(o))Pe.call(t,o,1);else if(lt(o,t))delete t[yt(o)];else{var s=et(o),u=mt(t,s);null!=u&&delete u[yt(_t(s))]}}}return t}function Y(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function tt(t){if("string"==typeof t)return t;if(jt(t))return Qe?Qe.call(t):"";var e=t+"";return"0"==e&&1/t==-Bt?"-0":e}function et(t){return tn(t)?t:Ye(t)}function nt(t,e,n,o,i,s){var u=i&Ut,c=t.length,a=e.length;if(c!=a&&!(u&&a>c))return!1;var l=s.get(t);if(l&&s.get(e))return l==e;var f=-1,h=!0,p=i&Vt?new N:void 0;for(s.set(t,e),s.set(e,t);++f<c;){var d=t[f],v=e[f];if(o)var m=u?o(v,d,f,e,t,s):o(d,v,f,t,e,s);if(void 0!==m){if(m)continue;h=!1;break}if(p){if(!r(e,function(t,e){if(!p.has(e)&&(d===t||n(d,t,o,i,s)))return p.add(e)})){h=!1;break}}else if(d!==v&&!n(d,v,o,i,s)){h=!1;break}}return s.delete(t),s.delete(e),h}function rt(t,e,n,r,o,i,s){switch(n){case ie:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!r(new Me(t),new Me(e)));case Ht:case $t:case Zt:return Et(+t,+e);case Jt:return t.name==e.name&&t.message==e.message;case te:case ne:return t==e+"";case Qt:var u=c;case ee:var l=i&Ut;if(u||(u=a),t.size!=e.size&&!l)return!1;var f=s.get(t);if(f)return f==e;i|=Vt,s.set(t,e);var h=nt(u(t),u(e),r,o,i,s);return s.delete(t),h;case re:if(Xe)return Xe.call(t)==Xe.call(e)}return!1}function ot(t,e,n,r,o,i){var s=o&Ut,u=Mt(t),c=u.length;if(c!=Mt(e).length&&!s)return!1;for(var a=c;a--;){var l=u[a];if(!(s?l in e:je.call(e,l)))return!1}var f=i.get(t);if(f&&i.get(e))return f==e;var h=!0;i.set(t,e),i.set(e,t);for(var p=s;++a<c;){l=u[a];var d=t[l],v=e[l];if(r)var m=s?r(v,d,l,e,t,i):r(d,v,l,t,e,i);if(!(void 0===m?d===v||n(d,v,r,o,i):m)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(h=!1)}return i.delete(t),i.delete(e),h}function it(t,e){var n=t.__data__;return ft(e)?n["string"==typeof e?"string":"hash"]:n.map}function st(t){for(var e=Mt(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,dt(o)]}return e}function ut(t,e){var n=s(t,e);return z(n)?n:void 0}function ct(t,e,n){e=lt(e,t)?[e]:et(e);for(var r,o=-1,i=e.length;++o<i;){var s=yt(e[o]);if(!(r=null!=t&&n(t,s)))break;t=t[s]}if(r)return r;var i=t?t.length:0;return!!i&&kt(i)&&at(s,i)&&(tn(t)||Ot(t))}function at(t,e){return!!(e=null==e?Wt:e)&&("number"==typeof t||pe.test(t))&&t>-1&&t%1==0&&t<e}function lt(t,e){if(tn(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!jt(t))||(ue.test(t)||!se.test(t)||null!=e&&t in Object(e))}function ft(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ht(t){return!!Ne&&Ne in t}function pt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Se)}function dt(t){return t===t&&!Nt(t)}function vt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function mt(t,e){return 1==e.length?t:L(t,Y(e,0,-1))}function yt(t){if("string"==typeof t||jt(t))return t;var e=t+"";return"0"==e&&1/t==-Bt?"-0":e}function bt(t){if(null!=t){try{return Ae.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function _t(t){var e=t?t.length:0;return e?t[e-1]:void 0}function gt(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=$(e,3);++r<i;){var s=t[r];e(s,r,t)&&(n.push(s),o.push(r))}return Z(t,o),n}function wt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(qt);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s),s};return n.cache=new(wt.Cache||E),n}function Et(t,e){return t===e||t!==t&&e!==e}function Ot(t){return xt(t)&&je.call(t,"callee")&&(!Fe.call(t,"callee")||Te.call(t)==Gt)}function Ct(t){return null!=t&&kt(t.length)&&!St(t)}function xt(t){return At(t)&&Ct(t)}function St(t){var e=Nt(t)?Te.call(t):"";return e==Kt||e==Xt}function kt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Wt}function Nt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function At(t){return!!t&&"object"==typeof t}function jt(t){return"symbol"==typeof t||At(t)&&Te.call(t)==re}function Tt(t){return null==t?"":tt(t)}function Dt(t,e,n){var r=null==t?void 0:L(t,e);return void 0===r?n:r}function Rt(t,e){return null!=t&&ct(t,e,U)}function Mt(t){return Ct(t)?I(t):J(t)}function Ft(t){return t}function Pt(t){return lt(t)?o(yt(t)):Q(t)}var It=200,qt="Expected a function",Lt="__lodash_hash_undefined__",Vt=1,Ut=2,Bt=1/0,Wt=9007199254740991,Gt="[object Arguments]",zt="[object Array]",Ht="[object Boolean]",$t="[object Date]",Jt="[object Error]",Kt="[object Function]",Xt="[object GeneratorFunction]",Qt="[object Map]",Zt="[object Number]",Yt="[object Object]",te="[object RegExp]",ee="[object Set]",ne="[object String]",re="[object Symbol]",oe="[object ArrayBuffer]",ie="[object DataView]",se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ue=/^\w*$/,ce=/^\./,ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,le=/[\\^$.*+?()[\]{}|]/g,fe=/\\(\\)?/g,he=/^\[object .+?Constructor\]$/,pe=/^(?:0|[1-9]\d*)$/,de={};de["[object Float32Array]"]=de["[object Float64Array]"]=de["[object Int8Array]"]=de["[object Int16Array]"]=de["[object Int32Array]"]=de["[object Uint8Array]"]=de["[object Uint8ClampedArray]"]=de["[object Uint16Array]"]=de["[object Uint32Array]"]=!0,de[Gt]=de[zt]=de[oe]=de[Ht]=de[ie]=de[$t]=de[Jt]=de[Kt]=de[Qt]=de[Zt]=de[Yt]=de[te]=de[ee]=de[ne]=de["[object WeakMap]"]=!1;var ve="object"==typeof t&&t&&t.Object===Object&&t,me="object"==typeof self&&self&&self.Object===Object&&self,ye=ve||me||Function("return this")(),be="object"==typeof e&&e&&!e.nodeType&&e,_e=be&&"object"==typeof n&&n&&!n.nodeType&&n,ge=_e&&_e.exports===be,we=ge&&ve.process,Ee=function(){try{return we&&we.binding("util")}catch(t){}}(),Oe=Ee&&Ee.isTypedArray,Ce=Array.prototype,xe=Function.prototype,Se=Object.prototype,ke=ye["__core-js_shared__"],Ne=function(){var t=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ae=xe.toString,je=Se.hasOwnProperty,Te=Se.toString,De=RegExp("^"+Ae.call(je).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=ye.Symbol,Me=ye.Uint8Array,Fe=Se.propertyIsEnumerable,Pe=Ce.splice,Ie=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),qe=ut(ye,"DataView"),Le=ut(ye,"Map"),Ve=ut(ye,"Promise"),Ue=ut(ye,"Set"),Be=ut(ye,"WeakMap"),We=ut(Object,"create"),Ge=bt(qe),ze=bt(Le),He=bt(Ve),$e=bt(Ue),Je=bt(Be),Ke=Re?Re.prototype:void 0,Xe=Ke?Ke.valueOf:void 0,Qe=Ke?Ke.toString:void 0;l.prototype.clear=f,l.prototype.delete=h,l.prototype.get=p,l.prototype.has=d,l.prototype.set=v,m.prototype.clear=y,m.prototype.delete=b,m.prototype.get=_,m.prototype.has=g,m.prototype.set=w,E.prototype.clear=O,E.prototype.delete=C,E.prototype.get=x,E.prototype.has=S,E.prototype.set=k,N.prototype.add=N.prototype.push=A,N.prototype.has=j,T.prototype.clear=D,T.prototype.delete=R,T.prototype.get=M,T.prototype.has=F,T.prototype.set=P;var Ze=V;(qe&&Ze(new qe(new ArrayBuffer(1)))!=ie||Le&&Ze(new Le)!=Qt||Ve&&"[object Promise]"!=Ze(Ve.resolve())||Ue&&Ze(new Ue)!=ee||Be&&"[object WeakMap]"!=Ze(new Be))&&(Ze=function(t){var e=Te.call(t),n=e==Yt?t.constructor:void 0,r=n?bt(n):void 0;if(r)switch(r){case Ge:return ie;case ze:return Qt;case He:return"[object Promise]";case $e:return ee;case Je:return"[object WeakMap]"}return e});var Ye=wt(function(t){t=Tt(t);var e=[];return ce.test(t)&&e.push(""),t.replace(ae,function(t,n,r,o){e.push(r?o.replace(fe,"$1"):n||t)}),e});wt.Cache=E;var tn=Array.isArray,en=Oe?function(t){return function(e){return t(e)}}(Oe):H;n.exports=gt}).call(e,n(6),n(5)(t))},function(t,e,n){(function(e){function n(t,e){return!!(t?t.length:0)&&i(t,e,0)>-1}function r(t,e,n){for(var r=-1,o=t?t.length:0;++r<o;)if(n(e,t[r]))return!0;return!1}function o(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function i(t,e,n){if(e!==e)return o(t,s,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function s(t){return t!==t}function u(t,e){return t.has(e)}function c(t,e){return null==t?void 0:t[e]}function a(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function l(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function f(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function h(){this.__data__=ht?ht(null):{}}function p(t){return this.has(t)&&delete this.__data__[t]}function d(t){var e=this.__data__;if(ht){var n=e[t];return n===H?void 0:n}return st.call(e,t)?e[t]:void 0}function v(t){var e=this.__data__;return ht?void 0!==e[t]:st.call(e,t)}function m(t,e){return this.__data__[t]=ht&&void 0===e?H:e,this}function y(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function b(){this.__data__=[]}function _(t){var e=this.__data__,n=D(e,t);return!(n<0)&&(n==e.length-1?e.pop():at.call(e,n,1),!0)}function g(t){var e=this.__data__,n=D(e,t);return n<0?void 0:e[n][1]}function w(t){return D(this.__data__,t)>-1}function E(t,e){var n=this.__data__,r=D(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function O(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function C(){this.__data__={hash:new f,map:new(lt||y),string:new f}}function x(t){return F(this,t).delete(t)}function S(t){return F(this,t).get(t)}function k(t){return F(this,t).has(t)}function N(t,e){return F(this,t).set(t,e),this}function A(t){var e=-1,n=t?t.length:0;for(this.__data__=new O;++e<n;)this.add(t[e])}function j(t){return this.__data__.set(t,H),this}function T(t){return this.__data__.has(t)}function D(t,e){for(var n=t.length;n--;)if(U(t[n][0],e))return n;return-1}function R(t){return!(!W(t)||q(t))&&(B(t)||a(t)?ct:X).test(L(t))}function M(t,e,o){var i=-1,s=n,c=t.length,a=!0,f=[],h=f;if(o)a=!1,s=r;else if(c>=z){var p=e?null:pt(t);if(p)return l(p);a=!1,s=u,h=new A}else h=e?[]:f;t:for(;++i<c;){var d=t[i],v=e?e(d):d;if(d=o||0!==d?d:0,a&&v===v){for(var m=h.length;m--;)if(h[m]===v)continue t;e&&h.push(v),f.push(d)}else s(h,v,o)||(h!==f&&h.push(v),f.push(d))}return f}function F(t,e){var n=t.__data__;return I(e)?n["string"==typeof e?"string":"hash"]:n.map}function P(t,e){var n=c(t,e);return R(n)?n:void 0}function I(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function q(t){return!!ot&&ot in t}function L(t){if(null!=t){try{return it.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function V(t){return t&&t.length?M(t):[]}function U(t,e){return t===e||t!==t&&e!==e}function B(t){var e=W(t)?ut.call(t):"";return e==$||e==J}function W(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function G(){}var z=200,H="__lodash_hash_undefined__",$="[object Function]",J="[object GeneratorFunction]",K=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,Q="object"==typeof e&&e&&e.Object===Object&&e,Z="object"==typeof self&&self&&self.Object===Object&&self,Y=Q||Z||Function("return this")(),tt=Array.prototype,et=Function.prototype,nt=Object.prototype,rt=Y["__core-js_shared__"],ot=function(){var t=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),it=et.toString,st=nt.hasOwnProperty,ut=nt.toString,ct=RegExp("^"+it.call(st).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),at=tt.splice,lt=P(Y,"Map"),ft=P(Y,"Set"),ht=P(Object,"create");f.prototype.clear=h,f.prototype.delete=p,f.prototype.get=d,f.prototype.has=v,f.prototype.set=m,y.prototype.clear=b,y.prototype.delete=_,y.prototype.get=g,y.prototype.has=w,y.prototype.set=E,O.prototype.clear=C,O.prototype.delete=x,O.prototype.get=S,O.prototype.has=k,O.prototype.set=N,A.prototype.add=A.prototype.push=j,A.prototype.has=T;var pt=ft&&1/l(new ft([,-0]))[1]==1/0?function(t){return new ft(t)}:G;t.exports=V}).call(e,n(6))},function(t,e,n){var r=n(7),o=n(10),i=["attributes","childElementCount","children","classList","clientHeight","clientLeft","clientTop","clientWidth","currentStyle","firstElementChild","innerHTML","lastElementChild","nextElementSibling","ongotpointercapture","onlostpointercapture","onwheel","outerHTML","previousElementSibling","runtimeStyle","scrollHeight","scrollLeft","scrollLeftMax","scrollTop","scrollTopMax","scrollWidth","tabStop","tagName"];t.exports=function(t,e){var n=t.data.props||{};r(n,function(t,n){i.indexOf(n)>-1||("htmlFor"===n&&(n="for"),"className"===n&&(n="class"),e.set(n.toLowerCase(),o(t)))})}},function(t,e,n){var r=n(7),o=n(10);t.exports=function(t,e){var n=t.data.attrs||{};r(n,function(t,n){e.set(n,o(t))})}},function(t,e,n){var r=n(43),o=n(7),i=n(10),s=n(44);t.exports=function(t,e){var n=[],u=t.data.style||{};u.delayed&&r(u,u.delayed),o(u,function(t,e){if("string"==typeof t||"number"==typeof t){var r=s(e);n.push((e.match(/^--.*/)?"--"+r:r)+": "+i(t))}}),n.length&&e.set("style",n.join("; "))}},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,u,c=r(t),a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var l in n)i.call(n,l)&&(c[l]=n[l]);if(o){u=o(n);for(var f=0;f<u.length;f++)s.call(n,u[f])&&(c[u[f]]=n[u[f]])}}return c}},function(t,e,n){function r(t,e,n,r){var o=-1,i=t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}var o=n(45),i=n(46),s=function(t){return function(e){return r(i(o(e)),t,"")}}(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});t.exports=s},function(t,e,n){function r(t){return p[t]}function o(t){return!!t&&"object"==typeof t}function i(t){return"symbol"==typeof t||o(t)&&v.call(t)==l}function s(t){if("string"==typeof t)return t;if(null==t)return"";if(i(t))return m?b.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}function u(t){return(t=s(t))&&t.replace(f,r).replace(h,"")}var c=n(11),a=1/0,l="[object Symbol]",f=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,h=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),p={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},d=Object.prototype,v=d.toString,m=c.Symbol,y=m?m.prototype:void 0,b=m?y.toString:void 0;t.exports=u},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function o(t){return"symbol"==typeof t||r(t)&&S.call(t)==a}function i(t){if("string"==typeof t)return t;if(null==t)return"";if(o(t))return k?A.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}function s(t,e,n){return t=i(t),e=n?void 0:e,void 0===e&&(e=C.test(t)?O:E),t.match(e)||[]}var u=n(11),c=1/0,a="[object Symbol]",l="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",f="["+l+"]",h="[a-z\\xdf-\\xf6\\xf8-\\xff]",p="[^\\ud800-\\udfff"+l+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",m="[A-Z\\xc0-\\xd6\\xd8-\\xde]",y="(?:"+h+"|"+p+")",b="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",_="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",d,v].join("|")+")[\\ufe0e\\ufe0f]?"+b+")*",g="[\\ufe0e\\ufe0f]?"+b+_,w="(?:"+["[\\u2700-\\u27bf]",d,v].join("|")+")"+g,E=/[a-zA-Z0-9]+/g,O=RegExp([m+"?"+h+"+(?="+[f,m,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?="+[f,m+y,"$"].join("|")+")",m+"?"+y+"+",m+"+","\\d+",w].join("|"),"g"),C=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,x=Object.prototype,S=x.toString,k=u.Symbol,N=k?k.prototype:void 0,A=k?N.toString:void 0;t.exports=s},function(t,e,n){var r=n(48),o=n(17),i=n(53),s=n(59),u=function(t){return null!==t&&"object"==typeof t&&t.constructor===Object},c=function(t){return"boolean"==typeof t||null===t||void 0===t},a=function(t,e,n){return s(["\n  ","\n  ","\n  ","\n"],t.annotation("["+e+" "),t.string(n),t.annotation("]"))},l=function(t,e,n){return a(t,e,n.displayName||n.name||"anonymous")},f=function(t,e){return a(t,"References","~"+e.join("."))},h=function(t){return s(["\n  ","\n  ","\n  ","\n"],t.punctuation("("),t.string("collapsed"),t.punctuation(")"))},p=function(t,e){if("number"==typeof e)return t.number(e);if(c(e))return t.literal(String(e));var n=Object.prototype.toString.call(e);return"[object Function]"===n?l(t,"Function",e):"[object GeneratorFunction]"===n?l(t,"GeneratorFunction",e):s(["\n    ","\n    ","\n    ","\n  "],t.punctuation('"'),t.string(e),t.punctuation('"'))},d=function(t){return u(t)||Array.isArray(t)},v=function(){var t=new Map;return function(e,n,r){if(!n||"object"!=typeof n)return null;var o=t.get(n);return o?r(o):(t.set(n,e),null)}},m=function(t,e,n){var i=n.lookupRef,u=n.path,c=n.depth,a=n.offset,l=Object.keys(t),v=l.map(function(t){return e.property(t)});return"\n"+l.map(function(n,y){var b=u.concat([n]),_=t[n],g=i(b,_,function(t){return f(e,t)}),w=s(["\n      ","\n      ","\n    "],r(v[y],v,a),e.punctuation(": "));return c.curr>c.max?w+h(e):g?w+g:d(_)?w+m(_,e,{offset:a+o(l).length+": ".length,depth:{curr:c.curr+1,max:c.max},path:b,lookupRef:i}):w+p(e,_)}).join("\n")},y=["punctuation","annotation","property","literal","number","string"].reduce(function(t,e){return Object.assign({},t,(n={},n[e]=function(t){return t},n));var n},{}),b=function(t){void 0===t&&(t={});var e=t.offset||2,n=Object.assign({},y,t.formatter);return function(t,r){return void 0===r&&(r=1/0),m(t,n,{depth:{curr:0,max:r},lookupRef:v(),path:[],offset:e})}},_=b({formatter:{punctuation:i.yellow,annotation:i.gray,property:i.green,literal:i.magenta,number:i.cyan,string:i.bold}});t.exports=_,t.exports.createFormatter=b},function(t,e,n){"use strict";var r=n(49),o=n(17);t.exports=function(t,e,n){var i="number"==typeof n?n:0;if("string"!=typeof t)throw new TypeError("Expected a `string`, got `"+typeof t+"`");if(!Array.isArray(e))throw new TypeError("Expected an `Array`, got `"+typeof e+"`");return r(t," ",i+o(e).length-t.length)}},function(t,e,n){"use strict";var r=n(50);t.exports=function(t,e,n){if("string"!=typeof t||"string"!=typeof e)throw new TypeError("`string` and `indent` should be strings");if(null!=n&&"number"!=typeof n)throw new TypeError("`count` should be a number");return 0===n?t:(e=n>1?r(e,n):e,t.replace(/^(?!\s*$)/gm,e))}},function(t,e,n){"use strict";var r=n(51);t.exports=function(t,e){if("string"!=typeof t)throw new TypeError("Expected `input` to be a string");if(e<0||!r(e))throw new TypeError("Expected `count` to be a positive finite number");var n="";do{1&e&&(n+=t),t+=t}while(e>>=1);return n}},function(t,e,n){"use strict";var r=n(52);t.exports=Number.isFinite||function(t){return!("number"!=typeof t||r(t)||t===1/0||t===-1/0)}},function(t,e,n){"use strict";t.exports=Number.isNaN||function(t){return t!==t}},function(t,e,n){"use strict";(function(e){function r(t){this.enabled=t&&void 0!==t.enabled?t.enabled:l}function o(t){var e=function(){return i.apply(e,arguments)};return e._styles=t,e.enabled=this.enabled,e.__proto__=d,e}function i(){var t=arguments,e=t.length,n=0!==e&&String(arguments[0]);if(e>1)for(var r=1;r<e;r++)n+=" "+t[r];if(!this.enabled||!n)return n;var o=this._styles,i=o.length,s=u.dim.open;for(!h||-1===o.indexOf("gray")&&-1===o.indexOf("grey")||(u.dim.open="");i--;){var c=u[o[i]];n=c.open+n.replace(c.closeRe,c.open)+c.close}return u.dim.open=s,n}var s=n(54),u=n(55),c=n(56),a=n(57),l=n(58),f=Object.defineProperties,h="win32"===e.platform&&!/^xterm/i.test(e.env.TERM);h&&(u.blue.open="[94m");var p=function(){var t={};return Object.keys(u).forEach(function(e){u[e].closeRe=new RegExp(s(u[e].close),"g"),t[e]={get:function(){return o.call(this,this._styles.concat(e))}}}),t}(),d=f(function(){},p);f(r.prototype,function(){var t={};return Object.keys(p).forEach(function(e){t[e]={get:function(){return o.call(this,[e])}}}),t}()),t.exports=new r,t.exports.styles=u,t.exports.hasColor=a,t.exports.stripColor=c,t.exports.supportsColor=l}).call(e,n(9))},function(t,e,n){"use strict";var r=/[|\\{}()[\]^$+*?.]/g;t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(r,"\\$&")}},function(t,e,n){"use strict";(function(t){function e(){var t={modifiers:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},colors:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39]},bgColors:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49]}};return t.colors.grey=t.colors.gray,Object.keys(t).forEach(function(e){var n=t[e];Object.keys(n).forEach(function(e){var r=n[e];t[e]=n[e]={open:"["+r[0]+"m",close:"["+r[1]+"m"}}),Object.defineProperty(t,e,{value:n,enumerable:!1})}),t}Object.defineProperty(t,"exports",{enumerable:!0,get:e})}).call(e,n(5)(t))},function(t,e,n){"use strict";var r=n(18)();t.exports=function(t){return"string"==typeof t?t.replace(r,""):t}},function(t,e,n){"use strict";var r=n(18),o=new RegExp(r().source);t.exports=o.test.bind(o)},function(t,e,n){"use strict";(function(e){var n=e.argv,r=n.indexOf("--"),o=function(t){t="--"+t;var e=n.indexOf(t);return-1!==e&&(-1===r||e<r)};t.exports=function(){return"FORCE_COLOR"in e.env||!(o("no-color")||o("no-colors")||o("color=false"))&&(!!(o("color")||o("colors")||o("color=true")||o("color=always"))||!(e.stdout&&!e.stdout.isTTY)&&("win32"===e.platform||("COLORTERM"in e.env||"dumb"!==e.env.TERM&&!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(e.env.TERM))))}()}).call(e,n(9))},function(t,e){function n(t){return t.replace(/\n\r?\s*/g,"")}t.exports=function(t){for(var e="",r=0;r<arguments.length;r++)e+=n(t[r])+(arguments[r+1]||"");return e}},function(t,e,n){"use strict";function r(t,e){e.elm=t.elm,t.data.fn=e.data.fn,t.data.args=e.data.args,e.data=t.data,e.children=t.children,e.text=t.text,e.elm=t.elm}function o(t){var e=t.data;r(e.fn.apply(void 0,e.args),t)}function i(t,e){var n=t.data,o=e.data,i=n.args,s=o.args;n.fn===o.fn&&i.length===s.length||r(o.fn.apply(void 0,s),e);for(var u=0;u<s.length;++u)if(i[u]!==s[u])return void r(o.fn.apply(void 0,s),e);r(t,e)}function s(t,e,n,r){return void 0===r&&(r=n,n=e,e=void 0),(0,u.h)(t,{key:e,hook:{init:o,prepatch:i},fn:n,args:r})}Object.defineProperty(e,"__esModule",{value:!0}),e.thunk=s;var u=n(8)},function(t,e,n){"use strict";function r(t){if(!Array.isArray(t))throw new Error("Optional modules option must be an array for snabbdom modules")}function o(t){if(!t||"function"!=typeof t.subscribe)throw new Error("The DOM driver function expects as input an Observable of virtual DOM elements")}function i(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.transposition||!1,i=e.modules||f.default,l=new a.IsolateModule(new Map([])),d=(0,s.init)([l.createModule()].concat(i)),v=(0,p.getElement)(t),m=new c.VNodeWrapper(v),y=new Map([]);return r(i),function(t){o(t);var e=n?t.map(h.transposeVNode).switch():t,r=e.map(function(t){return m.call(t)}).scan(d,v).startWith(v).map(function(t){return t.elm||t}).replay(null,1);return r.connect(),new u.DOMSource(r,[],l,y)}}Object.defineProperty(e,"__esModule",{value:!0}),e.makeDOMDriver=i;var s=n(62),u=n(64),c=n(70),a=n(72),l=n(23),f=function(t){return t&&t.__esModule?t:{default:t}}(l),h=n(24),p=n(4)},function(t,e,n){"use strict";function r(t){return void 0===t}function o(t){return void 0!==t}function i(t,e){return t.key===e.key&&t.sel===e.sel}function s(t,e,n){var r,i,s={};for(r=e;r<=n;++r)i=t[r].key,o(i)&&(s[i]=r);return s}function u(t,e){function n(t){var n=t.id?"#"+t.id:"",r=t.className?"."+t.className.split(" ").join("."):"";return c(e.tagName(t).toLowerCase()+n+r,{},[],void 0,t)}function u(t,n){return function(){if(0==--n){var r=e.parentNode(t);e.removeChild(r,t)}}}function p(t,n){var r,i=t.data;o(i)&&o(r=i.hook)&&o(r=r.init)&&(r(t),i=t.data);var s,u=t.children,c=t.sel;if(o(c)){var l=c.indexOf("#"),h=c.indexOf(".",l),d=l>0?l:c.length,v=h>0?h:c.length,m=-1!==l||-1!==h?c.slice(0,Math.min(d,v)):c;if(s=t.elm=o(i)&&o(r=i.ns)?e.createElementNS(r,m):e.createElement(m),d<v&&(s.id=c.slice(d+1,v)),h>0&&(s.className=c.slice(v+1).replace(/\./g," ")),a.array(u))for(r=0;r<u.length;++r)e.appendChild(s,p(u[r],n));else a.primitive(t.text)&&e.appendChild(s,e.createTextNode(t.text));for(r=0;r<w.create.length;++r)w.create[r](f,t);r=t.data.hook,o(r)&&(r.create&&r.create(f,t),r.insert&&n.push(t))}else s=t.elm=e.createTextNode(t.text);return t.elm}function d(t,n,r,o,i,s){for(;o<=i;++o)e.insertBefore(t,p(r[o],s),n)}function v(t){var e,n,r=t.data;if(o(r)){for(o(e=r.hook)&&o(e=e.destroy)&&e(t),e=0;e<w.destroy.length;++e)w.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)v(t.children[n])}}function m(t,n,r,i){for(;r<=i;++r){var s,c,a,l=n[r];if(o(l))if(o(l.sel)){for(v(l),c=w.remove.length+1,a=u(l.elm,c),s=0;s<w.remove.length;++s)w.remove[s](l,a);o(s=l.data)&&o(s=s.hook)&&o(s=s.remove)?s(l,a):a()}else e.removeChild(t,l.elm)}}function y(t,n,o,u){for(var c,a,l,f,h=0,v=0,y=n.length-1,_=n[0],g=n[y],w=o.length-1,E=o[0],O=o[w];h<=y&&v<=w;)r(_)?_=n[++h]:r(g)?g=n[--y]:i(_,E)?(b(_,E,u),_=n[++h],E=o[++v]):i(g,O)?(b(g,O,u),g=n[--y],O=o[--w]):i(_,O)?(b(_,O,u),e.insertBefore(t,_.elm,e.nextSibling(g.elm)),_=n[++h],O=o[--w]):i(g,E)?(b(g,E,u),e.insertBefore(t,g.elm,_.elm),g=n[--y],E=o[++v]):(r(c)&&(c=s(n,h,y)),a=c[E.key],r(a)?(e.insertBefore(t,p(E,u),_.elm),E=o[++v]):(l=n[a],b(l,E,u),n[a]=void 0,e.insertBefore(t,l.elm,_.elm),E=o[++v]));h>y?(f=r(o[w+1])?null:o[w+1].elm,d(t,f,o,v,w,u)):v>w&&m(t,n,h,y)}function b(t,n,s){var u,c;o(u=n.data)&&o(c=u.hook)&&o(u=c.prepatch)&&u(t,n);var a=n.elm=t.elm,l=t.children,f=n.children;if(t!==n){if(!i(t,n)){var h=e.parentNode(t.elm);return a=p(n,s),e.insertBefore(h,a,t.elm),void m(h,[t],0,0)}if(o(n.data)){for(u=0;u<w.update.length;++u)w.update[u](t,n);u=n.data.hook,o(u)&&o(u=u.update)&&u(t,n)}r(n.text)?o(l)&&o(f)?l!==f&&y(a,l,f,s):o(f)?(o(t.text)&&e.setTextContent(a,""),d(a,null,f,0,f.length-1,s)):o(l)?m(a,l,0,l.length-1):o(t.text)&&e.setTextContent(a,""):t.text!==n.text&&e.setTextContent(a,n.text),o(c)&&o(u=c.postpatch)&&u(t,n)}}var _,g,w={};for(r(e)&&(e=l),_=0;_<h.length;++_)for(w[h[_]]=[],g=0;g<t.length;++g)void 0!==t[g][h[_]]&&w[h[_]].push(t[g][h[_]]);return function(t,o){var s,u,c,a=[];for(s=0;s<w.pre.length;++s)w.pre[s]();for(r(t.sel)&&(t=n(t)),i(t,o)?b(t,o,a):(u=t.elm,c=e.parentNode(u),p(o,a),null!==c&&(e.insertBefore(c,o.elm,e.nextSibling(u)),m(c,[t],0,0))),s=0;s<a.length;++s)a[s].data.hook.insert(a[s]);for(s=0;s<w.post.length;++s)w.post[s]();return o}}var c=n(20),a=n(19),l=n(63),f=c("",{},[],void 0,void 0),h=["create","update","remove","destroy","pre","post"];t.exports={init:u}},function(t,e){function n(t){return document.createElement(t)}function r(t,e){return document.createElementNS(t,e)}function o(t){return document.createTextNode(t)}function i(t,e,n){t.insertBefore(e,n)}function s(t,e){t.removeChild(e)}function u(t,e){t.appendChild(e)}function c(t){return t.parentElement}function a(t){return t.nextSibling}function l(t){return t.tagName}function f(t,e){t.textContent=e}t.exports={createElement:n,createElementNS:r,createTextNode:o,appendChild:u,removeChild:s,insertBefore:i,parentNode:c,nextSibling:a,tagName:l,setTextContent:f}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var n=!1;return"boolean"==typeof e.useCapture&&(n=e.useCapture),-1!==f.eventTypesThatDontBubble.indexOf(t)&&(n=!0),n}Object.defineProperty(e,"__esModule",{value:!0}),e.DOMSource=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(2),u=n(65),c=n(66),a=n(68),l=n(69),f=n(4);e.DOMSource=function(){function t(e,n,o,i){r(this,t),this._rootElement$=e,this._namespace=n,this._isolateModule=o,this._delegators=i}return i(t,[{key:"select",value:function(e){if("string"!=typeof e)throw new Error("DOM driver's select() expects the argument to be a string as a CSS selector");var n=e.trim(),r=":root"===n?this._namespace:this._namespace.concat(n);return new t(this._rootElement$,r,this._isolateModule,this._delegators)}},{key:"events",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("string"!=typeof t)throw new Error("DOM driver's events() expects argument to be a string representing the event type to listen for.");var r=o(t,n),i=this._namespace,c=(0,f.getScope)(i),l=c?t+"~"+r+"~"+c:t+"~"+r,h=this,p=void 0;return c?function(){var t=!1;p=e._rootElement$.filter(function(e){var n=!!h._isolateModule.getIsolatedElement(c),r=n&&!t;return t=n,r})}():p=this._rootElement$.take(2),p.flatMapLatest(function(e){if(!i||0===i.length)return(0,u.fromEvent)(t,e,r);var n=h._delegators,o=c?h._isolateModule.getIsolatedElement(c):e,f=void 0;n.has(l)?(f=n.get(l),f.updateTopElement(o)):(f=new a.EventDelegator(o,t,r,h._isolateModule),n.set(l,f));var p=new s.Subject;return c&&h._isolateModule.addEventDelegator(c,f),f.addDestination(p,i),p}).share()}},{key:"dispose",value:function(){this._isolateModule.reset()}},{key:"isolateSource",value:function(t,e){return(0,c.isolateSource)(t,e)}},{key:"isolateSink",value:function(t,e){return(0,c.isolateSink)(t,e)}},{key:"elements",get:function(){if(0===this._namespace.length)return this._rootElement$;var t=new l.ElementFinder(this._namespace,this._isolateModule);return this._rootElement$.map(function(e){return t.call(e)})}},{key:"namespace",get:function(){return this._namespace}}]),t}()},function(t,e,n){"use strict";function r(t,e,n){return o.Observable.create(function(r){var o=function(t){return r.next(t)};return e.addEventListener(t,o,n),function(){return e.removeEventListener(t,o,n)}})}Object.defineProperty(e,"__esModule",{value:!0}),e.fromEvent=r;var o=n(2)},function(t,e,n){"use strict";function r(t,e){return t.select(i.SCOPE_PREFIX+e)}function o(t,e){return t.do(function(t){if(t.data.isolate){var n=parseInt(t.data.isolate.split(i.SCOPE_PREFIX+"cycle")[1]),r=parseInt(e.split("cycle")[1]);if(Number.isNaN(n)||Number.isNaN(r)||n>r)return t}t.data.isolate=i.SCOPE_PREFIX+e})}Object.defineProperty(e,"__esModule",{value:!0}),e.isolateSource=r,e.isolateSink=o;var i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!t||1!==t.nodeType)return!1;if(i)return i.call(t,e);for(var n=t.parentNode.querySelectorAll(e),r=0;r<n.length;r++)if(n[r]==t)return!0;return!1}var o="undefined"!=typeof Element?Element.prototype:{},i=o.matches||o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector;t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=t;e.propagationHasBeenStopped=!1;var n=e.stopPropagation;return e.stopPropagation=function(){n.call(this),this.propagationHasBeenStopped=!0},e}function i(t,e){try{Object.defineProperty(t,"currentTarget",{value:e,configurable:!0})}catch(t){console.log("please use event.ownerTarget")}t.ownerTarget=e}Object.defineProperty(e,"__esModule",{value:!0}),e.EventDelegator=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(21),c=n(4);e.EventDelegator=function(){function t(e,n,o,i){var s=this;r(this,t),this.topElement=e,this.eventType=n,this.useCapture=o,this.isolateModule=i,this.roof=e.parentElement,this.destinations=[],this.domListener=o?function(t){return s.capture(t)}:function(t){return s.bubble(t)},e.addEventListener(n,this.domListener,o)}return s(t,[{key:"bubble",value:function(t){if(document.body.contains(t.currentTarget))for(var e=o(t),n=e.target;n&&n!==this.roof;n=n.parentElement){if(e.propagationHasBeenStopped)return;this.matchEventAgainstDestinations(n,e)}}},{key:"matchEventAgainstDestinations",value:function(t,e){for(var n=0,r=this.destinations.length;n<r;++n){var o=this.destinations[n];o.scopeChecker.isStrictlyInRootScope(t)&&((0,c.matchesSelector)(t,o.selector)&&(i(e,t),o.subject.onNext(e)))}}},{key:"capture",value:function(t){for(var e=0,n=this.destinations.length;e<n;e++){var r=this.destinations[e];(0,c.matchesSelector)(t.target,r.selector)&&r.subject.onNext(t)}}},{key:"addDestination",value:function(t,e){var n=(0,c.getScope)(e),r=(0,c.getSelectors)(e),o=new u.ScopeChecker(n,this.isolateModule);this.destinations.push({subject:t,scopeChecker:o,selector:r})}},{key:"updateTopElement",value:function(t){var e=this.eventType,n=this.domListener,r=this.useCapture;this.topElement.removeEventListener(e,n,r),t.addEventListener(e,n,r),this.topElement=t}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){for(var e=t.length,n=Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.ElementFinder=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(21),u=n(4);e.ElementFinder=function(){function t(e,n){r(this,t),this.namespace=e,this.isolateModule=n}return i(t,[{key:"call",value:function(t){var e=this.namespace;if(""===e.join(""))return t;var n=(0,u.getScope)(e),r=(0,u.getSelectors)(e),i=new s.ScopeChecker(n,this.isolateModule),c=t,a=[];return n.length>0&&(c=this.isolateModule.getIsolatedElement(n)||t,r&&(0,u.matchesSelector)(c,r)&&(a[0]=c)),o(c.querySelectorAll(r)).filter(i.isStrictlyInRootScope,i).concat(a)}}]),t}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.VNodeWrapper=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(8),u=n(71),c=r(u),a=n(22),l=r(a);e.VNodeWrapper=function(){function t(e){o(this,t),this.rootElement=e}return i(t,[{key:"call",value:function(t){var e=(0,l.default)(t.sel),n=e.tagName,r=e.id,o=(0,c.default)(t),i=t.data||{},u=i.props||{},a=u.id;if((void 0===a?r:a).toLowerCase()===this.rootElement.id.toLowerCase()&&n.toLowerCase()===this.rootElement.tagName.toLowerCase()&&o.toLowerCase()===this.rootElement.className.toLowerCase())return t;var f=this.rootElement,h=f.tagName,p=f.id,d=f.className,v=p?"#"+p:"",m=d?"."+d.split(" ").join("."):"";return(0,s.h)(""+h+v+m,{},[t])}}]),t}()},function(t,e,n){"use strict";function r(t){var e=(0,i.default)(t.sel),n=e.className;if(!t.data)return n;var r=t.data,o=r.class,s=r.props;if(o){n+=" "+Object.keys(t.data.class).filter(function(e){return t.data.class[e]}).join(" ")}return s&&s.className&&(n+=" "+s.className),n.trim()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(22),i=function(t){return t&&t.__esModule?t:{default:t}}(o)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.IsolateModule=function(){function t(e){r(this,t),this.isolatedElements=e,this.eventDelegators=new Map([])}return o(t,[{key:"setScope",value:function(t,e){this.isolatedElements.set(e,t)}},{key:"removeScope",value:function(t){this.isolatedElements.delete(t)}},{key:"getIsolatedElement",value:function(t){return this.isolatedElements.get(t)}},{key:"isIsolatedElement",value:function(t){for(var e=Array.from(this.isolatedElements.entries()),n=0;n<e.length;++n)if(t===e[n][1])return e[n][0];return!1}},{key:"addEventDelegator",value:function(t,e){var n=this.eventDelegators.get(t);n||(n=[],this.eventDelegators.set(t,n)),n[n.length]=e}},{key:"reset",value:function(){this.isolatedElements.clear()}},{key:"createModule",value:function(){var t=this;return{create:function(e,n){var r=e.data,o=void 0===r?{}:r,i=n.elm,s=n.data,u=void 0===s?{}:s,c=o.isolate||"",a=u.isolate||"";if(a){c&&t.removeScope(c),t.setScope(i,a);var l=t.eventDelegators.get(a);if(l)for(var f=0,h=l.length;f<h;++f)l[f].updateTopElement(i);else void 0===l&&t.eventDelegators.set(a,[])}c&&!a&&t.removeScope(a)},update:function(e,n){var r=e.data,o=void 0===r?{}:r,i=n.elm,s=n.data,u=void 0===s?{}:s,c=o.isolate||"",a=u.isolate||"";a&&(c&&t.removeScope(c),t.setScope(i,a)),c&&!a&&t.removeScope(a)},remove:function(e,n){var r=e.data,o=void 0===r?{}:r,i=o.isolate;i&&(t.removeScope(i),t.eventDelegators.get(i)&&t.eventDelegators.set(i,[])),n()},destroy:function(e){var n=e.data,r=void 0===n?{}:n,o=r.isolate;o&&(t.removeScope(o),t.eventDelegators.get(o)&&t.eventDelegators.set(o,[]))}}}}]),t}()},function(t,e){function n(t,e){var n,r,o=e.elm,i=t.data.class,s=e.data.class;if(i||s){i=i||{},s=s||{};for(r in i)s[r]||o.classList.remove(r);for(r in s)(n=s[r])!==i[r]&&o.classList[n?"add":"remove"](r)}}t.exports={create:n,update:n}},function(t,e){function n(t,e){var n,r,o=e.elm,i=t.data.props,s=e.data.props;if(i||s){i=i||{},s=s||{};for(n in i)s[n]||delete o[n];for(n in s)r=s[n],i[n]===r||"value"===n&&o[n]===r||(o[n]=r)}}t.exports={create:n,update:n}},function(t,e){function n(t,e){var n,o,s,u=e.elm,c=t.data.attrs,a=e.data.attrs;if(c||a){c=c||{},a=a||{};for(n in a)o=a[n],c[n]!==o&&(!o&&i[n]?u.removeAttribute(n):(s=n.split(":"),s.length>1&&r.hasOwnProperty(s[0])?u.setAttributeNS(r[s[0]],n,o):u.setAttribute(n,o)));for(n in c)n in a||u.removeAttribute(n)}}for(var r={xlink:"http://www.w3.org/1999/xlink"},o=["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","draggable","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","spellcheck","translate","truespeed","typemustmatch","visible"],i=Object.create(null),s=0,u=o.length;s<u;s++)i[o[s]]=!0;t.exports={create:n,update:n}},function(t,e){function n(t,e,r){if("function"==typeof t)t.call(e,r,e);else if("object"==typeof t)if("function"==typeof t[0])if(2===t.length)t[0].call(e,t[1],r,e);else{var o=t.slice(1);o.push(r),o.push(e),t[0].apply(e,o)}else for(var i=0;i<t.length;i++)n(t[i])}function r(t,e){var r=t.type,o=e.data.on;o&&o[r]&&n(o[r],e,t)}function o(){return function t(e){r(e,t.vnode)}}function i(t,e){var n,r=t.data.on,i=t.listener,s=t.elm,u=e&&e.data.on,c=e&&e.elm;if(r!==u){if(r&&i)if(u)for(n in r)u[n]||s.removeEventListener(n,i,!1);else for(n in r)s.removeEventListener(n,i,!1);if(u){var a=e.listener=t.listener||o();if(a.vnode=e,r)for(n in u)r[n]||c.addEventListener(n,a,!1);else for(n in u)c.addEventListener(n,a,!1)}}}t.exports={create:i,update:i,destroy:i}},function(t,e){function n(t,e,n){u(function(){t[e]=n})}function r(t,e){var r,o,i=e.elm,s=t.data.style,u=e.data.style;if(s||u){s=s||{},u=u||{};var c="delayed"in s;for(o in s)u[o]||(i.style[o]="");for(o in u)if(r=u[o],"delayed"===o)for(o in u.delayed)r=u.delayed[o],c&&r===s.delayed[o]||n(i.style,o,r);else"remove"!==o&&r!==s[o]&&(i.style[o]=r)}}function o(t){var e,n,r=t.elm,o=t.data.style;if(o&&(e=o.destroy))for(n in e)r.style[n]=e[n]}function i(t,e){var n=t.data.style;if(!n||!n.remove)return void e();var r,o,i=t.elm,s=0,u=n.remove,c=0,a=[];for(r in u)a.push(r),i.style[r]=u[r];o=getComputedStyle(i);for(var l=o["transition-property"].split(", ");s<l.length;++s)-1!==a.indexOf(l[s])&&c++;i.addEventListener("transitionend",function(t){t.target===i&&--c,0===c&&e()})}var s="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,u=function(t){s(function(){s(t)})};t.exports={create:r,update:r,destroy:o,remove:i}},function(t,e){function n(t,e,n){v(function(){t[e]=n})}function r(t){var e;if(document.createRange){var n=document.createRange();n.selectNodeContents(t),n.getBoundingClientRect&&(e=n.getBoundingClientRect())}return e}function o(t,e,n){if(t&&e){return e.left+e.width/2-n.left+"px "+(e.top+e.height/2-n.top)+"px"}return"0 0"}function i(t,e){return t&&e?t.left+t.width/2-(e.left+e.width/2):0}function s(t,e){return t&&e?t.top+t.height/2-(e.top+e.height/2):0}function u(t){return 1===t.childNodes.length&&3===t.childNodes[0].nodeType}function c(t,e){h={},p=[]}function a(t,e){var n=e.data.hero;n&&n.id&&(p.push(n.id),p.push(e))}function l(t){var e=t.data.hero;if(e&&e.id){var n=t.elm;t.isTextNode=u(n),t.boundingRect=n.getBoundingClientRect(),t.textRect=t.isTextNode?r(n.childNodes[0]):null;var o=window.getComputedStyle(n,null);t.savedStyle=JSON.parse(JSON.stringify(o)),h[e.id]=t}}function f(){var t,e,c,a,l,f,d,v,m,y,b,_,g,w,E,O,C,x,S;for(t=0;t<p.length;t+=2)if(e=p[t],c=p[t+1].elm,a=h[e]){C=a.isTextNode&&u(c),w=c.style,O=window.getComputedStyle(c,null),l=a.elm,E=l.style,m=c.getBoundingClientRect(),v=a.boundingRect,C?(x=r(c.childNodes[0]),S=a.textRect,y=i(S,x),b=s(S,x)):(y=v.left-m.left,b=v.top-m.top),f=m.height/Math.max(v.height,1),d=C?f:m.width/Math.max(v.width,1),_=w.transform,g=w.transition,"inline"===O.display&&(w.display="inline-block"),w.transition=g+"transform 0s",w.transformOrigin=o(C,x,m),w.opacity="0",w.transform=_+"translate("+y+"px, "+b+"px) scale("+1/d+", "+1/f+")",n(w,"transition",g),n(w,"transform",_),n(w,"opacity","1");for(var k in a.savedStyle)if(parseInt(k)!=k){var N="ms"===k.substring(0,2),A="moz"===k.substring(0,3),j="webkit"===k.substring(0,6);N||A||j||(E[k]=a.savedStyle[k])}E.position="absolute",E.top=v.top+"px",E.left=v.left+"px",E.width=v.width+"px",E.height=v.height+"px",E.margin=0,E.transformOrigin=o(C,S,v),E.transform="",E.opacity="1",document.body.appendChild(l),n(E,"transform","translate("+-y+"px, "+-b+"px) scale("+d+", "+f+")"),n(E,"opacity","0"),l.addEventListener("transitionend",function(t){"transform"===t.propertyName&&document.body.removeChild(t.target)})}h=p=void 0}var h,p,d="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,v=function(t){d(function(){d(t)})};t.exports={pre:c,create:a,destroy:l,post:f}},function(t,e){function n(t,e){var n,r=e.elm,o=t.data.dataset,i=e.data.dataset;if(o||i){o=o||{},i=i||{};for(n in o)i[n]||delete r.dataset[n];for(n in i)o[n]!==i[n]&&(r.dataset[n]=i[n])}}t.exports={create:n,update:n}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return new u(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.MockedDOMSource=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.mockDOMSource=o;var s=n(2),u=e.MockedDOMSource=function(){function t(e){r(this,t),this._mockConfig=e,e.elements?this.elements=e.elements:this.elements=s.Observable.empty()}return i(t,[{key:"events",value:function(t){for(var e=this._mockConfig,n=Object.keys(e),r=n.length,o=0;o<r;o++){var i=n[o];if(i===t)return e[i]}return s.Observable.empty()}},{key:"select",value:function(e){for(var n=this._mockConfig,r=Object.keys(n),o=r.length,i=0;i<o;i++){var s=r[i];if(s===e)return new t(n[s])}return new t({})}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.transposition||!1;return function(t){var n=e?t.map(a.transposeVNode).switch():t;return new l(n)}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.makeHTMLDriver=o;var s=n(2),u=n(14),c=function(t){return t&&t.__esModule?t:{default:t}}(u),a=n(24),l=function(){function t(e){r(this,t),this._html$=e.last().map(c.default)}return i(t,[{key:"select",value:function(){return new t(s.Observable.empty())}},{key:"events",value:function(){return s.Observable.empty()}},{key:"elements",get:function(){return this._html$}}]),t}()},function(t,e,n){"use strict";function r(t){return"string"==typeof t&&t.length>0}function o(t){return r(t)&&("."===t[0]||"#"===t[0])}function i(t){return function(e,n,r){return o(e)?n&&r?(0,s.h)(t+e,n,r):n?(0,s.h)(t+e,n):(0,s.h)(t+e,{}):n?(0,s.h)(t,e,n):e?(0,s.h)(t,e):(0,s.h)(t,{})}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),u=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","animateTransform","circle","clipPath","colorProfile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotlight","feTile","feTurbulence","filter","font","fontFace","fontFaceFormat","fontFaceName","fontFaceSrc","fontFaceUri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missingGlyph","mpath","path","pattern","polygon","polyling","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],c=i("svg");u.forEach(function(t){c[t]=i(t)});for(var a=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","meta","nav","noscript","object","ol","optgroup","option","p","param","pre","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","u","ul","video","progress"],l={SVG_TAG_NAMES:u,TAG_NAMES:a,svg:c,isSelector:o,createTagFunction:i},f=0;f<a.length;++f)l[a[f]]=i(a[f]);e.default=l},function(t,e,n){"use strict";function r(t,e,n){return(0,u.eitherE)([c.isNil,"m > hasMsignature > hasValidComponentDefProperty : there is no component definition"],[h,"m > hasMsignature > hasValidComponentDefProperty : there is a component definition but it is not valid!"],"")(t)}function o(t,e,n){return(0,c.either)(c.isNil,u.isObject)(e)}function i(t){if((0,c.isNil)(t)||!(0,u.isArray)(t))return!1;var e=t[0],n=t[1];return(0,c.isNil)(e)&&(0,u.isEmptyArray)(n)?"m > hasMsignature > hasValidChildrenProperty > isParentAndComponentArray : 'm' component requires sinks to merge. That means both parent and children cannot be null at the same time!":(0,c.either)(c.isNil,u.isComponent)(e)&&(0,u.isArray)(n)&&(0===n.length||(0,u.isArrayOf)(u.isComponent)(n))}function s(t,e,n){return(0,u.isEmptyArray)(n)?"m > hasMsignature > hasValidChildrenProperty : 'children' parameter cannot be empty array, there has to be a component emitting sinks":(0,u.eitherE)([(0,u.isArrayOf)(u.isComponent),"m > hasMsignature > hasValidChildrenProperty : 'children' parameter is not an array of components"],[i,"m > hasMsignature > hasValidChildrenProperty : 'children' parameter does not have the shape [Parent, [Child]]"],"")(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.hasMsignature=void 0;var u=n(1),c=n(0),a=u.isString,l=(0,u.checkAndGatherErrors)([[(0,c.pipe)((0,c.prop)("computeSinks"),(0,c.either)(c.isNil,(0,c.both)(u.isFunction,(0,c.complement)((0,c.prop)("mergeSinks"))))),"m > hasMsignature > hasValidComponentDefProperty > isNonNilComponentDef > isCombineGenericSpecs : 'computeSinks' if not null must be  a function and in that case 'mergeSinks cannot be defined' !"],[(0,c.pipe)((0,c.prop)("makeOwnSinks"),(0,c.either)(c.isNil,u.isFunction)),"m > hasMsignature > hasValidComponentDefProperty > isNonNilComponentDef > isCombineGenericSpecs : makeOwnSinks must be either null or a function!"]],"m > hasMsignature > hasValidComponentDefProperty > isNonNilComponentDef > isCombineGenericSpecs : invalid combine generic definition!"),f=(0,u.eitherE)([(0,c.pipe)((0,c.prop)("mergeSinks"),(0,c.either)(c.isNil,u.isFunction)),""],[(0,c.pipe)((0,c.prop)("mergeSinks"),(0,c.either)(c.isNil,(0,u.isHashMap)(a,u.isFunction))),""],"m > hasMsignature > hasValidComponentDefProperty > isNonNilComponentDef > isCombineGenericSpecs : invalid combine sinks definition! : must be a hash of functions, or a function"),h=(0,u.checkAndGatherErrors)([[(0,c.pipe)((0,c.prop)("makeLocalSources"),(0,c.either)(c.isNil,u.isFunction)),"m > hasMsignature > hasValidComponentDefProperty > isNonNilComponentDef : invalid 'makeLocalSources', should be null or a function!"],[(0,c.pipe)((0,c.prop)("makeLocalSettings"),(0,c.either)(c.isNil,u.isFunction)),"m > hasMsignature > hasValidComponentDefProperty > isNonNilComponentDef : invalid 'makeLocalSettings', should be null or a function!"],[(0,c.pipe)((0,c.prop)("checkPreConditions"),(0,c.either)(c.isNil,u.isFunction)),"m > hasMsignature > hasValidComponentDefProperty > isNonNilComponentDef : invalid 'checkPreConditions', should be null or a function!"],[(0,c.pipe)((0,c.prop)("checkPostConditions"),(0,c.either)(c.isNil,u.isFunction)),"m > hasMsignature > hasValidComponentDefProperty > isNonNilComponentDef : invalid 'checkPostConditions', should be null or a function!"],[(0,u.eitherE)([l,"m > hasMsignature > hasValidComponentDefProperty > isNonNilComponentDef : invalid generic merge!"],[f,"m > hasMsignature > hasValidComponentDefProperty > isNonNilComponentDef : invalid per sink merge!"],"m > hasMsignature > hasValidComponentDefProperty > isNonNilComponentDef : invalid component definition - must have either generic merge, or per sinks merge!")]],"m > hasMsignature > hasValidComponentDefProperty > isNonNilComponentDef : invalid component definition!");e.hasMsignature=(0,u.checkAndGatherErrors)([[r,"m > hasMsignature > hasValidComponentDefProperty : invalid component definition !"],[o,"m > hasMsignature > hasValidSettingsProperty : invalid settings parameter !"],[s,"m > hasMsignature > hasValidChildrenProperty : children components must be an array of components!"]],"hasMsignature : fails!")},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){return Boolean(e&&"sinkNames"in e)&&Boolean((0,l.isArrayOf)(l.isString)(e.sinkNames))}function i(t,e){return Boolean(e&&"route"in e)||Boolean((0,l.isString)(e.route)&&e.route.length>1)}function s(t,e){return Boolean(e&&"routeSource"in e&&(0,l.isString)(e.routeSource)&&e.routeSource.length>0&&(0,l.isObservable)(t[e.routeSource]))}function u(t){var e=(0,p.routeMatcher)(t),n=(0,p.routeMatcher)(t+"/*routeRemainder");return function(r){if(console.debug("Router > match > matching against route : "+(0,l.format)(t)),(0,h.isNil)(r))return{match:null};var o=e.parse(r),i=n.parse(r);return{match:o||i}}}function c(t,e,n,o){function i(t){return function(e){var n=void 0,r=void 0,o=void 0;return null!=e?null!=d[t]?(o=t===l.DOM_SINK?y.of(null):y.empty(),r=d[t].tap(console.log.bind(console,c+" > makeRoutedSinkFromCache > sink "+t+" :")).finally(function(e){console.log(c+" > makeRoutedSinkFromCache > sink "+t+" : terminating due to route change")}),n=y.concat(o,r)):(console.info(c+" > sink "+t+" : component has no such sink!"),console.debug(c+" > makeRoutedSinkFromCache > sink "+t+" : -> empty"),n=y.empty()):(console.log(c+" > sink "+t+" : no match for this component on this route!"),n=t===l.DOM_SINK?y.of(null):y.empty()),n}}function s(t){return r({},t,_.pluck("match").map(i(t)).switch())}var c="Router ("+(o.trace||"")+")";console.groupCollapsed(c+" > computeSinks"),console.debug("sources : "+(0,h.keys)(n)),console.debug("settings",o),console.debug("childrenComponents",e);var a=o.sinkNames,p=o.routeSource,d=null,v=n[p].tap(console.debug.bind(console,c+" : source "+p)),b=v.map(u(o[m.ROUTE_CONFIG])).tap(function(t){(0,h.isNil)(t.match)?console.debug(c+" > matchedRoute$ > current route does not match this component's route!"):console.debug(c+" > matchedRoute$ > current route matches!! :",t)}).shareReplay(1),_=b.distinctUntilChanged(function(t){var e=t.match;return e?(0,h.omit)(["routeRemainder"],e):null}).tap(console.debug.bind(console,c+" > changedRouteEvents$ > route change (ignoring duplicates) on section :")).do(function(i){var s=i.match;if(null!=s){var u;console.info(c+" > computing children components sinks with match",s);var a=(0,f.m)({makeLocalSources:function(t,e){return console.group(c+" > changedRouteEvents$ > children wrapper component > makeLocalSources"),console.debug("sources : "+(0,h.keys)(t)+", __settings :",e),console.groupEnd(),r({},p,b.map((0,h.path)(["match","routeRemainder"])).tap(console.debug.bind(console,c+" > changedRouteEvents$ > children wrapper component  > source "+p+" > routeRemainder (new route$ for children)")).share())}},(u={},r(u,m.ROUTE_PARAMS,(0,h.omit)(["routeRemainder"],s)),r(u,"trace",c+" > componentFromChildren"),u),[t,e]);d=a(n,o)}else d=null}).share();return console.groupEnd(),(0,h.mergeAll)((0,h.map)(s,a))}function a(t,e){return(0,l.assertContract)(l.hasAtLeastOneChildComponent,[e],"Router : router combinator must at least have one child component to route to!"),(0,f.m)(_,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.OnRoute=a;var l=n(1),f=n(3),h=n(0),p=n(85),d=n(2),v=function(t){return t&&t.__esModule?t:{default:t}}(d),m=n(86),y=v.default.Observable,b=(0,l.checkAndGatherErrors)([[i,"Settings parameter must have a 'route' property which is a non empty string!"],[o,"Settings parameter must have a 'sinkNames' property!"],[s,"If settings parameter have a 'routeSource' property, then it must be a string! Otherwise a default value applies. The 'sources' must have a source with that name!"]],"isRouteSettings : fails!"),_={computeSinks:c,checkPreConditions:b}},function(t,e,n){"use strict";var r,o,i;Object.defineProperty(e,"__esModule",{value:!0});var s=function(n,s){o=[],r=s,void 0!==(i="function"==typeof r?r.apply(e,o):r)&&(t.exports=i)}(0,function(){function t(t,n){var r=e.toString.call(t).charAt(8);return"R"===r?t.test(n):"F"===r?t(n):t==n}var e={},n=/[\-\[\]{}()+?.,\\\^$|#\s]/g,r=/([:*])(\w+)/g;return e.routeMatcher=function(e,o){var i={},s=[],u=e;return"string"==typeof e?(u=u.replace(n,"\\$&"),u=u.replace(r,function(t,e,n){return s.push(n),":"===e?"([^/]*)":"(.*)"}),u=new RegExp("^"+u+"$"),i.parse=function(e){var n,r,i=0,c={},a=e.match(u);if(!a)return null;for(;i<s.length;){if(n=s[i++],r=a[i],o&&n in o&&!t(o[n],r))return null;c[n]=r}return c},i.stringify=function(t){var n,o,i=e;for(n in t)o=new RegExp("[:*]"+n+"\\b"),i=i.replace(o,t[n]);return i.replace(r,"")}):(i.parse=function(t){var e=t.match(u);return e&&{captures:e.slice(1)}},i.stringify=function(){return""}),i},e});e.routeMatcher=s&&s.routeMatcher},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ROUTE_PARAMS="routeParams",e.ROUTE_CONFIG="route"},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return"list"in t&&"as"in t&&(0,f.isString)(t.list)&&(0,f.isString)(t.as)}function i(t,e){return(0,f.isArray)(e[e.list])}function s(t,e){return!("buildActionsFromChildrenSinks"in e)||(0,p.either)(p.isNil,(0,p.either)(f.isObject,f.isFunction))(e.buildActionsFromChildrenSinks)}function u(t,e){return!("actionsMap"in e)||(0,f.isObject)(e.actionsMap)}function c(t){return t&&(0,f.isArray)(t)&&2===t.length&&(0,d.isComponent)(t[0])&&(0,d.isComponent)(t[1])}function a(t,e,n,o){var i=o.list,s=o.buildActionsFromChildrenSinks,u=o.actionsMap,c=o[i],a=c.length?e[1]:e[0],l=c.length?c.map(function(t,e){return function(n,i){var s,u=(0,p.merge)(i,(s={},r(s,o.as,t),r(s,"listIndex",e),s));return a(n,u)}}):[a],f=(0,h.m)({mergeSinks:s||{}},{trace:"ListOf > computing indexed children"},l)(n,o),d=(0,p.keys)(f);return(0,p.reduce)(function(t,e){var n=(u||{})[e];return n?t[n]=f[e]:t[e]=f[e],t},{},d)}function l(t,e){return(0,f.assertContract)(c,[e],"ListOf : ListOf combinator must have exactly two children component to list from!"),(0,f.assertContract)(o,[t],"ListOf : ListOf combinator must have 'list' and 'as' property which are strings!"),(0,h.m)(m,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ListOf=l;var f=n(1),h=n(3),p=n(0),d=n(13),v=(0,f.checkAndGatherErrors)([[i,"'list' ListOf's setting must reference a setting property which is an array!"],[s,"buildActionsFromChildrenSinks parameter is optional. When present it must be a function or a hashmap mapping a sink to a merge function!"],[u,"hasValidActionsMap parameter is optional. When present it must be a hashmap mapping children sinks to action sinks!"]],"isValidListOfSettings : fails!"),m={computeSinks:a,checkPreConditions:v}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){return"from"in e&&"as"in e&&(0,c.isString)(e.from)&&(0,c.isString)(e.as)}function i(t,e){return t&&t[e.from]&&(0,c.isObservable)(t[e.from])&&"sinkNames"in e}function s(t,e,n,o){function i(t){return r({},t,v.map(function(e){return null!=h[t]?(console.log("ForEach > makeSwitchedSink > sink "+t+" : extracting..."),h[t].tap(console.warn.bind(console,"ForEach > makeSwitchedSink > sink "+t+" emits :")).finally(function(e){console.log("sink "+t+" terminating due to applicable case change")})):(console.log("ForEach > makeSwitchedSink > sink "+t+" : component does not have a sink with that name, sink set to empty"),p.empty())}).tap(function(){console.warn("ForEach > makeSwitchedSink > switching in "+t)}).switch())}var s=o.from,u=o.as,f=o.sinkNames,h=null,d=n[s],v=d.do(function(i){var l;console.info(o.trace+" > ForEach > New value from source "+s,(0,c.format)(i)),console.info(o.trace+" > ForEach > Computing the associated sinks");var f=(0,a.m)({},(l={},r(l,u,i),r(l,"trace","executing ForEach children"),l),[t,e]);h=f(n,o)}).shareReplay(1);return(0,l.mergeAll)((0,l.map)(i,f))}function u(t,e){return(0,c.assertContract)(c.hasAtLeastOneChildComponent,[e],"ForEach : ForEach combinator must at least have one child component to switch to!"),(0,c.assertContract)(o,[null,t],"ForEach : ForEach combinator must have 'from' and 'as' property which are strings!"),(0,a.m)(d,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ForEach=u;var c=n(1),a=n(3),l=n(0),f=n(2),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f),p=h.Observable,d={computeSinks:s,checkPreConditions:i}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){return Boolean(e&&"when"in e)}function i(t,e){return Boolean(!(e&&"eqFn"in e))||Boolean((0,m.isFunction)(e.eqFn))}function s(t,e){return Boolean(e||!e.sinkNames)&&Boolean((0,m.isArrayOf)(m.isString)(e.sinkNames))}function u(t,e){return Boolean((0,m.isString)(e.on)&&t[e.on])}function c(t,e){return Boolean(e&&e.on)}function a(t,e){return Boolean(e&&e.as&&(0,m.isString)(e.as))}function l(t,e,n,o){function i(t){return r({},t,_.map(function(e){var n=e.isMatching,r=(e.incoming,void 0);return n?null!=f[t]?(console.log("Switch > Case > computeSinks > makeSwitchedSink > Branch "+o.trace+" > sink "+t+" : extracting..."),r=f[t].tap(console.warn.bind(console,"Switch > Case > computeSinks > makeSwitchedSink > Branch "+o.trace+" > sink "+t+" emits :")).finally(function(e){console.log("sink "+t+" terminating due to applicable case change")})):(console.log("Switch > Case > computeSinks > makeSwitchedSink > Branch "+o.trace+" > sink "+t+" : component does not have a sink with that name, sink set to empty"),r=E.empty()):(console.log("Switch > Case > computeSinks > makeSwitchedSink > Branch "+o.trace+" > sink "+t+" : set to empty or null"),r=t===m.DOM_SINK?E.of(null):E.empty()),r}).tap(function(){console.warn("Switch > Case > computeSinks > makeSwitchedSink > Branch "+o.trace+" > switching in "+t)}).switch())}var s=o.eqFn,u=o.when,c=o.sinkNames,a=o.on,l=o.as,f=null,h=(0,m.unfoldObjOverload)(a,[{guard$:m.isFunction},{sourceName:m.isString}]),p=h.guard$,d=h.sourceName,b=(h._index,void 0);1===h._index&&(b=n[d]),0===h._index&&(b=p(n,o),(0,m.assertContract)(m.isSource,[b],"Case > computeSinks > The function used for conditional switching did not return an observable!")),s=(0,y.defaultTo)(C.defaultEqFn,s);var _=b.map(function(t){return{isMatching:s(t,u),incoming:t}}).do(function(i){var s=i.isMatching,c=i.incoming;if(s){var a;console.info("Found a match ("+u+") for Case branch "+o.trace),console.info("Computing the corresponding sinks");var h=(0,v.m)({},(a={},r(a,l,c),r(a,"trace","executing case children"),a),[t,e]);f=h(n,o)}else console.info("Did not find a match ("+u+") for Case branch "+o.trace)}).shareReplay(1);return(0,y.mergeAll)((0,y.map)(i,c))}function f(t){return function(e){var n=(0,m.removeEmptyVNodes)((0,m.removeNullsFromArray)(e));if((0,m.assertContract)((0,m.isArrayOf)(m.isVNode),[n],"DOM sources must stream VNode objects! Got "+n),t){var r=(0,y.clone)(n.shift()),o=n;return r.children=(0,y.clone)(r.children)||[],o&&(r.text&&(r.children.splice(0,0,{children:[],data:{},elm:void 0,key:void 0,sel:void 0,text:r.text}),r.text=void 0),Array.prototype.push.apply(r.children,o)),r}return(0,w.div)(n)}}function h(t,e,n){var r=(0,y.map)(m.emitNullIfEmpty,e),o=(0,y.flatten)([t,r]),i=(0,m.removeNullsFromArray)(o);if(0===i.length)throw"Switch > computeSwitchDOMSink: internal error!";return E.combineLatest(i).map(f(t))}function p(t,e){(0,m.assertContract)(m.hasAtLeastOneChildComponent,[e],"Switch : switch combinator must at least have one child component to switch to!"),(0,m.assertContract)(c,[null,t],"Switch : switch combinator must have a 'on' property !"),(0,m.assertContract)(a,[null,t],"Switch : switch combinator must have a 'as' property !");var n=k,o=t;return(0,m.isFunction)(t.on)&&(n=(0,y.assoc)("makeLocalSources",function(e,n){var o=t.on(e,n);return r({},g.SWITCH_SOURCE,o)},k),o=(0,y.assoc)("on",g.SWITCH_SOURCE,t)),(0,v.m)(n,o,e)}function d(t,e){return(0,v.m)(N,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.CaseSpec=e.SwitchSpec=void 0,e.Switch=p,e.Case=d;var v=n(3),m=n(1),y=n(0),b=n(2),_=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(b),g=n(90),w=n(12),E=_.Observable,O=((0,y.addIndex)(y.map),function(t,e){return(0,y.equals)(t,e)}),C={defaultEqFn:O},x=(0,m.checkAndGatherErrors)([[o,"Settings parameter must have a 'when' property!"],[i,"If settings parameter has a eqFn property, it must be a function!"]],"isCaseSettings : fails!"),S=(0,m.checkAndGatherErrors)([[s,"Settings parameter must have a 'sinkNames' property!"],[u,"Settings parameter must have a 'on' property, which is a string, and corresponds to a source in sources!"],[i,"If settings parameter has a eqFn property, it must be a function!"]],"Switch : Invalid switch component settings!"),k=e.SwitchSpec={mergeSinks:r({},m.DOM_SINK,function(t,e,n){return h(t,e,n).filter(Boolean).distinctUntilChanged()}),checkPreConditions:S},N=e.CaseSpec={computeSinks:l,checkPreConditions:x}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SWITCH_SOURCE="switchSource"},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return(0,A.filter)(function(t){return t!=P.ZERO_DRIVER},t)}function s(t){return function(e){return o({},t,e)}}function u(t){return(0,A.keys)(t)[0]}function c(t){return u(t)}function a(t,e){return e[t]}function l(t,e){return e[t]}function f(t){var e=c(t);return{fsmEventOrigin:e,fsmEventValue:a(e,t)}}function h(t){var e=u(t);return{eventOrDriverName:e,eventDataOrActionResponse:l(e,t)}}function p(t){return(0,A.reduce)(function(e,n){var r=t[n],o=r.origin_state,i=r.event;return e[o]=e[o]||[],e[o].push(i),e},{},(0,A.keys)(t))}function d(t){return(0,A.reduce)(function(e,n){var r=t[n],o=r.origin_state,i=r.event;return e[o]=e[o]||{},e[o][i]=n,e},{},(0,A.keys)(t))}function v(t,e,n,r){var o=t[e].target_states,i=(0,A.findIndex)(function(t){var e=t.event_guard;if(e==P.EV_GUARD_NONE)return!0;var o=(0,A.tryCatch)(e,(0,j.handleError)(P.CONTRACT_EVENT_GUARD_CANNOT_FAIL)),i=o(n,r);return(0,j.assertContract)(j.isBoolean,[i],"computeTransition: "+P.CONTRACT_EVENT_GUARD_FN_RETURN_VALUE),i},o);return-1!==i?{satisfiedGuardIndex:i,actionRequest:o[i].action_request,reEntry:o[i].re_entry,transitionEvaluation:o[i].transition_evaluation,noGuardSatisfied:!1}:{satisfiedGuardIndex:null,actionRequest:null,reEntry:null,transitionEvaluation:null,noGuardSatisfied:!0}}function m(t){return t==P.ACTION_REQUEST_NONE||y(t.driver)}function y(t){return t==P.ZERO_DRIVER}function b(t,e){return(0,j.assertContract)(T.isArrayUpdateOperations,[e],"applyUpdateOperations : "+P.CONTRACT_MODEL_UPDATE_FN_RETURN_VALUE),F.apply(t,e),t}function _(t,e,n,r,o){var i=n(t,e);return(0,j.assertContract)(T.checkIsObservable,[i],"event factory function for event "+r+" must return an observable!"),i.map(s(r))}function g(t,e){var n=t.target_states;return(0,A.map)(function(t){return(t.action_request||{}).driver},n)}function w(t){var e=t.internal_state,n=t.external_state,r=t.model,o=t.clonedModel,i=t.current_event_name,s=t.current_event_data,u=t.current_event_guard_index,c=t.current_action_request_driver,a=t.current_action_request;t.sinks;return{sinks:null,internal_state:e,external_state:n,model:r,clonedModel:o,current_event_name:i,current_event_data:s,current_event_guard_index:u,current_action_request_driver:c,current_action_request:a}}function E(t,e,n,r,o){var i=t[e].target_states[n],s=i.transition_evaluation,u=i.re_entry,c=(0,A.find)(function(t){var e=t.action_guard;t.target_state,t.model_update;if(e==P.AR_GUARD_NONE)return!0;var n=(0,A.tryCatch)(e,(0,j.handleError)(P.CONTRACT_ACTION_GUARD_CANNOT_FAIL)),i=n(r,o);return(0,j.assertContract)(j.isBoolean,[i],"computeTransition: "+P.CONTRACT_ACTION_GUARD_FN_RETURN_VALUE),i},s);return c?{target_state:c.target_state,model_update:c.model_update,re_entry:u}:{target_state:null,re_entry:null,model_update:null,noGuardSatisfied:!0}}function O(t,e,n,r,o,i,s,u,c){var a=s[0],l=a.target_state,f=a.model_update,h=(0,A.tryCatch)(f,(0,j.handleError)(P.CONTRACT_MODEL_UPDATE_FN_CANNOT_FAIL)),p=h(o,i,null,c),d=e[l],v=void 0,m=b(r,p),y=(0,A.clone)(m),_=d?d(y):(0,A.always)({});return(0,j.assertContract)((0,A.either)(A.isNil,T.checkStateEntryComponentFnMustReturnComponent),[_],"state entry component function "+d.name+" \n                    for state "+l+" MUST return a component or be null"),v=t&&l===n||l!==n?_(u,c):null,{external_state:l,model:m,clonedModel:y,sinks:v,internal_state:P.AWAITING_EVENTS,current_event_guard_index:null,current_event_name:null,current_event_data:null,current_action_request_driver:null,current_action_request:null}}function C(t,e,n,r,o,i){var s=e.target_state,u=e.re_entry,c=e.model_update,a=t.external_state,l=t.model,f=(t.clonedModel,t.current_event_data),h=n.entryComponents,p=void 0,d=(0,A.tryCatch)(c,(0,j.handleError)(P.CONTRACT_MODEL_UPDATE_FN_CANNOT_FAIL)),v=d(l,f,r,i),m=h[s];(0,j.assertContract)(T.isEntryComponentFactory,[m],"Error while trying to get entry component factory for state "+s+" : \n            component configured in fsm must be null or a function!");var y=b(l,v),_=(0,A.clone)(y),g=m?m(_):null;return(0,j.assertContract)(T.isEntryComponent,[g],"Error while trying to get entry component for state "+s+" : \n            configured factory must return null or a component function :: sources -> settings -> Sinks!"),p=u&&s===a||s!==a?g?g(o,i):{}:null,{internal_state:P.AWAITING_EVENTS,external_state:s,model:y,clonedModel:_,sinks:p,current_event_guard_index:null,current_event_name:null,current_event_data:null,current_action_request_driver:null,current_action_request:null}}function x(t,e,n,r,o){var i=t.transitions,s=t.entryComponents,u=t.stateEventsMap,c=t.stateEventToTransitionNameMap,a=r.external_state,l=r.model,p=r.clonedModel,d=void 0,y=f(o),b=y.fsmEventOrigin,_=y.fsmEventValue,g=h(_),E=g.eventOrDriverName,C=g.eventDataOrActionResponse;switch(b){case P.DRIVER_PREFIX:console.warn("Received event from driver while awaiting user events! Ignoring..."),d=w(r);break;case P.EVENT_PREFIX:var x=u[a],S=E,k=C;if(x&&(0,A.find)((0,A.equals)(S),x)){var j=c[a][S],T=v(i,j,p,k),D=T.actionRequest,R=T.reEntry,M=T.transitionEvaluation,F=T.satisfiedGuardIndex;if(T.noGuardSatisfied)console.warn("Received event for which there is a transition defined but none of the defined guards were satisfied! Ignoring..."),d=w(r);else if(m(D))d=O(R,s,a,l,p,k,M,e,n);else{var I=N(D,l,k),q=I.request,L=I.driver,V=I.sink;d={sinks:V,internal_state:P.AWAITING_RESPONSE,current_event_guard_index:F,current_event_name:S,current_event_data:k,current_action_request_driver:L,current_action_request:q,model:l,clonedModel:p,external_state:a}}}else console.warn("Received event for which there is no transition defined! Ignoring..."),d=w(r);break;default:throw"evaluateEvent > case AWAITING_EVENTS : unknown fsmEventOrigin!"}return d}function S(t,e,n,r,o){var i=(t.events,t.transitions),s=(t.entryComponents,t.stateEventsMap,t.stateEventToTransitionNameMap),u=(r.internal_state,r.external_state),c=r.model,a=(r.clonedModel,r.current_event_name),l=(r.current_event_data,r.current_event_guard_index),p=r.current_action_request_driver,d=r.current_action_request,v=(r.sinks,void 0),m=f(o),y=m.fsmEventOrigin,b=m.fsmEventValue,_=h(b),g=_.eventOrDriverName,O=_.eventDataOrActionResponse;switch(y){case P.EVENT_PREFIX:console.warn("Received event from user while awaiting driver's action response! Ignoring..."),v=w(r);break;case P.DRIVER_PREFIX:var x=g,S=O,k=S.request,N=s[u][a];if(x!==p)console.warn("\n              Received driver "+x+"'s event but not from the expected \n                 "+p+" driver!\n\n                 Ignoring..."),v=w(r);else if(k==d&&(0,A.equals)(k,d)){var j=E(i,N,l,c,S);if(j.noGuardSatisfied)throw console.error("While processing action response from driver "+x+",\n                 executed all configured guards and none were satisfied! \n                  ' Throwing..."),v=w(r),P.CONTRACT_SATISFIED_GUARD_PER_ACTION_RESPONSE;v=C(r,j,t,S,e,n)}else console.warn("\n              Received action response through driver "+x+" and ignored it as that\n                 response does not match the request sent..."),v=w(r);break;default:throw"Received unexpected/unknown "+y+" event. \n            Can only process driver responses and user events!"}return v}function k(t,e,n,r){function o(t,e,n,r,o,i,s){var u=void 0,c={events:t,transitions:e,entryComponents:n,stateEventsMap:w,stateEventToTransitionNameMap:E};switch(i.internal_state){case P.AWAITING_EVENTS:u=x(c,r,o,i,s);break;case P.AWAITING_RESPONSE:u=S(c,r,o,i,s);break;default:var a="Unexpected internal state reached by state machine !";throw console.error(a,(0,A.clone)(i)),a}return u}function u(t,e,n){return e[n]=t.map(function(t){return(0,A.defaultTo)(q.empty(),t.sinks[n])}).switch().tap(function(t){return console.warn("FSM's "+n+" -> ->",t)}),e}var c={events:T.isFsmEvents,transitions:T.isFsmTransitions,entryComponents:T.isFsmEntryComponents,fsmSettings:T.isFsmSettings},a={events:"",transitions:"Invalid value for transitions parameter : must be non-empty object and must have at least one transition defined which involves the INIT event!",entryComponents:"Invalid value for entryComponents parameter : must be non-empty object!",fsmSettings:"Invalid settings : some parameters are mandatory - check documentation!"};(0,j.assertContract)(j.checkSignature,[{events:t,transitions:e,entryComponents:n,fsmSettings:r},c,a],""),(0,j.assertContract)(T.checkTargetStatesDefinedInTransitionsMustBeMappedToComponent,arguments,"makeFSM : Any target state which is referred to in the transitions parameter must be associated to a component via the entryComponents parameter!"),(0,j.assertContract)(T.checkOriginStatesDefinedInTransitionsMustBeMappedToComponent,arguments,"makeFSM : Any origin state (except the initial state) which is referred to in the transitions parameter must be associated to a component via the entryComponents parameter!"),(0,j.assertContract)(T.checkEventDefinedInTransitionsMustBeMappedToEventFactory,arguments,"makeFSM : Any event (except the initial event) which is referred to in the transitions parameter must be associated to a event factory function via the events parameter!");var l=r.init_event_data,f=r.initial_model,h=r.sinkNames,v=r.debug,m=V({debug:v,events:t,transitions:e,entryComponents:n}),y=m.events,b=m.transitions,_=m.entryComponents,w=p(b),E=d(b),O=(0,A.curry)(o),C=(0,A.curry)(u);return function(t,e){var n=(0,A.values)((0,A.mapObjIndexed)(L(t,e),y)),o=(0,A.values)((0,A.mapObjIndexed)(g,b)),u=i((0,A.uniq)((0,A.flatten)(o))),c=(0,A.map)(function(e){var n=t[e].map(s(e));return v?n.tap(function(t){return console.warn("response event",t)}):n},u),a=(0,A.pipe)(s(P.INIT_EVENT_NAME),s(P.EVENT_PREFIX))(l),p=q.merge(q.merge(n).map(s(P.EVENT_PREFIX)),q.merge(c).map(s(P.DRIVER_PREFIX))).startWith(a),d=(0,A.clone)(f),m={internal_state:P.AWAITING_EVENTS,external_state:P.INIT_STATE,model:d,clonedModel:d,current_event_name:null,current_event_data:null,current_event_guard_index:null,current_action_request_driver:null,current_action_request:null,sinks:null},w=p.scan(O(y,b,_,t,e),m),E=w.filter(function(t){return t.sinks}).tap(function(t){return r.debug&&console.debug("new sinks to merge | ",t.sinks)}).shareReplay(1);return(0,A.reduce)(C(E),{},h)}}function N(t,e,n){var r=t.request(e,n),i=t.driver;return{request:r,driver:i,sink:o({},i,q.just(r))}}Object.defineProperty(e,"__esModule",{value:!0}),e.makeFSM=k;var A=n(0),j=n(1),T=n(25),D=n(2),R=r(D),M=n(92),F=r(M),P=n(26),I=n(93),q=R.Observable,L=(0,A.curry)(_),V=(0,A.cond)([[(0,A.prop)("debug"),(0,A.evolve)({events:I.decorateEventsWithLog,transitions:I.decorateTransitionsWithLog,entryComponents:I.decorateStateEntryWithLog})],[A.T,A.identity]])},function(t,e){/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * json-patch-duplex.js version: 1.2.2
 * (c) 2013 Joachim Wester
 * MIT license
 */
var n;if(function(t){function e(t,n){switch(typeof t){case"undefined":case"boolean":case"string":case"number":return t===n;case"object":if(null===t)return null===n;if(O(t)){if(!O(n)||t.length!==n.length)return!1;for(var r=0,o=t.length;r<o;r++)if(!e(t[r],n[r]))return!1;return!0}for(var i=C(t),s=C(n),u=0;u<i.length;u++){var c=i[u];if(!e(t[c],n[c]))return!1;var a=s.indexOf(c);a>=0&&s.splice(a,1)}for(var l=0;l<s.length;l++){var f=s[l];if(!e(t[f],n[f]))return!1}return!0;default:return!1}}function n(t){for(var e=0,n=k.length;e<n;e++)if(k[e].obj===t)return k[e]}function r(t,e){for(var n=0,r=t.observers.length;n<r;n++)if(t.observers[n].callback===e)return t.observers[n].observer}function o(t,e){for(var n=0,r=t.observers.length;n<r;n++)if(t.observers[n].observer===e)return void t.observers.splice(n,1)}function i(t,e){e.unobserve()}function s(t,e){var i,s=[],c=n(t);if(c?i=r(c,e):(c=new N(t),k.push(c)),i)return i;if(i={},c.value=l(t),e){i.callback=e,i.next=null;var a=function(){u(i)},f=function(){clearTimeout(i.next),i.next=setTimeout(a)};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mouseup",f),window.addEventListener("keyup",f),window.addEventListener("mousedown",f),window.addEventListener("keydown",f),window.addEventListener("change",f)):(document.documentElement.attachEvent("onmouseup",f),document.documentElement.attachEvent("onkeyup",f),document.documentElement.attachEvent("onmousedown",f),document.documentElement.attachEvent("onkeydown",f),document.documentElement.attachEvent("onchange",f)))}return i.patches=s,i.object=t,i.unobserve=function(){u(i),clearTimeout(i.next),o(c,i),"undefined"!=typeof window&&(window.removeEventListener?(window.removeEventListener("mouseup",f),window.removeEventListener("keyup",f),window.removeEventListener("mousedown",f),window.removeEventListener("keydown",f)):(document.documentElement.detachEvent("onmouseup",f),document.documentElement.detachEvent("onkeyup",f),document.documentElement.detachEvent("onmousedown",f),document.documentElement.detachEvent("onkeydown",f)))},c.observers.push(new A(e,i)),i}function u(t){for(var e,n=0,r=k.length;n<r;n++)if(k[n].obj===t.object){e=k[n];break}c(e.value,t.object,t.patches,""),t.patches.length&&v(e.value,t.patches);var o=t.patches;return o.length>0&&(t.patches=[],t.callback&&t.callback(o)),o}function c(t,e,n,r){if(e!==t){"function"==typeof e.toJSON&&(e=e.toJSON());for(var o=C(e),i=C(t),s=!1,u=i.length-1;u>=0;u--){var a=i[u],h=t[a];if(!e.hasOwnProperty(a)||void 0===e[a]&&void 0!==h&&!1===O(e))n.push({op:"remove",path:r+"/"+f(a)}),s=!0;else{var p=e[a];"object"==typeof h&&null!=h&&"object"==typeof p&&null!=p?c(h,p,n,r+"/"+f(a)):h!==p&&(!0,n.push({op:"replace",path:r+"/"+f(a),value:l(p)}))}}if(s||o.length!=i.length)for(var u=0;u<o.length;u++){var a=o[u];t.hasOwnProperty(a)||void 0===e[a]||n.push({op:"add",path:r+"/"+f(a),value:l(e[a])})}}}function a(t){for(var e,n=0,r=t.length;n<r;){e=t.charCodeAt(n);{if(!(e>=48&&e<=57))return!1;n++}}return!0}function l(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function f(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function h(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function p(t,e){if(""==e)return t;var n={op:"_get",path:e};return d(t,n),n.value}function d(t,n,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!0),r&&("function"==typeof r?r(n,0,t,n.path):g(n,0)),""===n.path){var i={newDocument:t};if("add"===n.op)return i.newDocument=n.value,i;if("replace"===n.op)return i.newDocument=n.value,i.removed=t,i;if("move"===n.op||"copy"===n.op)return i.newDocument=p(t,n.from),"move"===n.op&&(i.removed=t),i;if("test"===n.op){if(i.test=e(t,n.value),!1===i.test)throw new j("Test operation failed","TEST_OPERATION_FAILED",0,n,t);return i.newDocument=t,i}if("remove"===n.op)return i.removed=t,i.newDocument=null,i;if("_get"===n.op)return n.value=t,i;if(r)throw new j("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",0,n,t);return i}o||(t=l(t));var s=n.path||"",u=s.split("/"),c=t,f=1,d=u.length,v=void 0,m=void 0,y=void 0;for(y="function"==typeof r?r:g;;){if(m=u[f],r&&void 0===v&&(void 0===c[m]?v=u.slice(0,f).join("/"):f==d-1&&(v=n.path),void 0!==v&&y(n,0,t,v)),f++,O(c)){if("-"===m)m=c.length;else{if(r&&!a(m))throw new j("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",0,n.path,n);m=~~m}if(f>=d){if(r&&"add"===n.op&&m>c.length)throw new j("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",0,n.path,n);var i=S[n.op].call(n,c,m,t);if(!1===i.test)throw new j("Test operation failed","TEST_OPERATION_FAILED",0,n,t);return i}}else if(m&&-1!=m.indexOf("~")&&(m=h(m)),f>=d){var i=x[n.op].call(n,c,m,t);if(!1===i.test)throw new j("Test operation failed","TEST_OPERATION_FAILED",0,n,t);return i}c=c[m]}}function v(t,e,n){for(var r=new Array(e.length),o=0,i=e.length;o<i;o++)r[o]=d(t,e[o],n),t=r[o].newDocument;return r.newDocument=t,r}function m(t,e,n){console.warn("jsonpatch.apply is deprecated, please use `applyPatch` for applying patch sequences, or `applyOperation` to apply individual operations.");for(var r=new Array(e.length),o=0,i=e.length;o<i;o++)!function(o,i){if(""==e[o].path&&"remove"!=e[o].op&&"test"!=e[o].op){var s;if("_get"==e[o].op)return e[o].value=t,"continue";"replace"!=e[o].op&&"move"!=e[o].op||(r[o]=l(t)),"copy"!=e[o].op&&"move"!=e[o].op||(s=p(t,e[o].from)),"replace"!=e[o].op&&"add"!=e[o].op||(s=e[o].value),Object.keys(t).forEach(function(e){return delete t[e]}),Object.keys(s).forEach(function(e){return t[e]=s[e]})}else r[o]=d(t,e[o],n),r[o]=r[o].removed||r[o].test}(o);return r}function y(t,e){var n=d(t,e);if(!1===n.test)throw new j("Test operation failed","TEST_OPERATION_FAILED",0,e,t);return n.newDocument}function b(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function _(t){if(void 0===t)return!0;if(t)if(O(t)){for(var e=0,n=t.length;e<n;e++)if(_(t[e]))return!0}else if("object"==typeof t)for(var r=C(t),o=r.length,e=0;e<o;e++)if(_(t[r[e]]))return!0;return!1}function g(t,e,n,r){if("object"!=typeof t||null===t||O(t))throw new j("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(!x[t.op])throw new j("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n);if("string"!=typeof t.path)throw new j("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(0!==t.path.indexOf("/")&&t.path.length>0)throw new j('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if(("move"===t.op||"copy"===t.op)&&"string"!=typeof t.from)throw new j("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if(("add"===t.op||"replace"===t.op||"test"===t.op)&&void 0===t.value)throw new j("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if(("add"===t.op||"replace"===t.op||"test"===t.op)&&_(t.value))throw new j("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n)if("add"==t.op){var o=t.path.split("/").length,i=r.split("/").length;if(o!==i+1&&o!==i)throw new j("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if("replace"===t.op||"remove"===t.op||"_get"===t.op){if(t.path!==r)throw new j("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if("move"===t.op||"copy"===t.op){var s={op:"_get",path:t.from,value:void 0},u=w([s],n);if(u&&"OPERATION_PATH_UNRESOLVABLE"===u.name)throw new j("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}function w(t,e,n){try{if(!O(t))throw new j("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)v(l(e),l(t),n||!0);else{n=n||g;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(t){if(t instanceof j)return t;throw t}}function E(t,e){var n=[];return c(t,e,n,""),n}var O,C=function(t){if(O(t)){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=""+n;return e}if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e},x={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){var r=p(n,this.path);r&&(r=l(r));var o=d(n,{op:"remove",path:this.from}).removed;return d(n,{op:"add",path:this.path,value:o}),{newDocument:n,removed:r}},copy:function(t,e,n){var r=p(n,this.from);return d(n,{op:"add",path:this.path,value:l(r)}),{newDocument:n}},test:function(t,n,r){return{newDocument:r,test:e(t[n],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}},S={add:function(t,e,n){return t.splice(e,0,this.value),{newDocument:n,index:e}},remove:function(t,e,n){return{newDocument:n,removed:t.splice(e,1)[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:x.move,copy:x.copy,test:x.test,_get:x._get};O=Array.isArray?Array.isArray:function(t){return t.push&&"number"==typeof t.length};var k=[],N=function(){function t(t){this.observers=[],this.obj=t}return t}(),A=function(){function t(t,e){this.callback=t,this.observer=e}return t}();t.unobserve=i,t.observe=s,t.generate=u;var O;O=Array.isArray?Array.isArray:function(t){return t.push&&"number"==typeof t.length},t.deepClone=l,t.escapePathComponent=f,t.unescapePathComponent=h,t.getValueByPointer=p,t.applyOperation=d,t.applyPatch=v,t.apply=m,t.applyReducer=y;var j=function(t){function e(e,n,r,o,i){t.call(this,e),this.message=e,this.name=n,this.index=r,this.operation=o,this.tree=i}return b(e,t),e}(Error);t.JsonPatchError=j,t.validator=g,t.validate=w,t.compare=E}(n||(n={})),void 0!==e)e.apply=n.apply,e.applyPatch=n.applyPatch,e.applyOperation=n.applyOperation,e.applyReducer=n.applyReducer,e.getValueByPointer=n.getValueByPointer,e.deepClone=n.deepClone,e.escapePathComponent=n.escapePathComponent,e.unescapePathComponent=n.unescapePathComponent,e.observe=n.observe,e.unobserve=n.unobserve,e.generate=n.generate,e.compare=n.compare,e.validate=n.validate,e.validator=n.validator,e.JsonPatchError=n.JsonPatchError;else var e={},r=!0;Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,r&&(e=void 0)},function(t,e,n){"use strict";function r(){return[]}function o(t){return function(e,n,r,o){return(0,a.flatten)((0,a.map)(function(t){return t(e,n,r,o)},t))}}function i(t){(0,l.assertContract)(f.isDefaultActionResponseHandlerConfig,[t],"Configuration for action response handling must be of the shape :: {  success : {target_state : <state>, udpate_model : <model update fn>,  error : {target_state : <state>, udpate_model : <model update fn>}");var e=t.success,n=e.target_state,r=e.model_update,o=t.error,i=o.target_state,u=o.model_update;return[{action_guard:s,target_state:n,model_update:r},{action_guard:a.T,target_state:i,model_update:u}]}function s(t,e){return!e.err}function u(t,e){return[{op:"add",path:t,value:e}]}function c(t,e){return e[t]}Object.defineProperty(e,"__esModule",{value:!0}),e.toJsonPatch=e.decorateTransitionsWithLog=e.decorateActionRequest=e.decorateEventGuard=e.decorateEventsWithLog=e.isEntryComponentCodomain=e.isEntryComponentDomain=e.decorateStateEntryWithLog=e.tapEventStreamOutput=void 0,e.modelUpdateIdentity=r,e.chainModelUpdates=o,e.makeDefaultActionResponseProcessing=i,e.checkActionResponseIsSuccess=s,e.addOpToJsonPatch=u,e.getSelectedKey=c;var a=n(0),l=n(1),f=n(25),h=e.tapEventStreamOutput=function(t){return{after:function(e){return e.tap(console.warn.bind(console,"Incoming user event! "+t+": "))}}},p=(e.decorateStateEntryWithLog=(0,a.mapObjIndexed)(function(t,e){return t?(0,l.decorateWith)([(0,l.assertFunctionContractDecoratorSpecs)({checkDomain:p,checkCodomain:d}),(0,l.logFnTrace)(".STATE. "+e,["model"])],t):null}),e.isEntryComponentDomain=f.isFsmModel),d=e.isEntryComponentCodomain=l.isFunction,v=(e.decorateEventsWithLog=(0,a.mapObjIndexed)(function(t,e){return(0,l.decorateWith)([(0,l.assertFunctionContractDecoratorSpecs)({checkDomain:f.isEventFactoryDomain,checkCodomain:f.isEventFactoryCodomain}),(0,l.logFnTrace)("Event factory",["sources","settings"]),h(e)],t)}),e.decorateEventGuard=(0,l.decorateWith)([(0,l.assertFunctionContractDecoratorSpecs)({checkDomain:f.isEventGuardDomain,checkCodomain:f.isEventGuardCodomain}),(0,l.logFnTrace)("Event guard",["FSM_Model","EventData"])])),m=e.decorateActionRequest=(0,l.decorateWith)([(0,l.assertFunctionContractDecoratorSpecs)({checkDomain:f.isActionRequestDomain,checkCodomain:f.isActionRequestCodomain}),(0,l.logFnTrace)("action request",["FSM_Model","EventData"])]),y=(0,l.decorateWith)([(0,l.assertFunctionContractDecoratorSpecs)({checkDomain:f.isActionGuardDomain,checkCodomain:f.isActionGuardCodomain}),(0,l.logFnTrace)("action guard",["model","actionResponse"])]),b=(0,l.decorateWith)([(0,l.assertFunctionContractDecoratorSpecs)({checkDomain:f.isModelUpdateDomain,checkCodomain:f.isModelUpdateCodomain}),(0,l.logFnTrace)("model update",["FSM_Model","EventData","ActionResponse","Settings"])]),_=(0,a.evolve)({target_state:a.identity,action_guard:(0,a.cond)([[a.isNil,(0,a.always)(null)],[a.T,y]]),model_update:b}),g=(0,a.evolve)({re_entry:a.identity,transition_evaluation:(0,a.map)(_),event_guard:(0,a.cond)([[a.isNil,(0,a.always)(null)],[a.T,v]]),action_request:(0,a.cond)([[a.isNil,(0,a.always)(null)],[a.T,(0,a.evolve)({driver:a.identity,request:m})]])});e.decorateTransitionsWithLog=(0,a.mapObjIndexed)((0,a.evolve)({origin_state:a.identity,event:a.identity,target_states:(0,a.map)(g)})),e.toJsonPatch=function(t){return(0,a.pipe)((0,a.mapObjIndexed)(function(e,n){return{op:"add",path:[t,n].join("/"),value:e}}),a.values)}},function(t,e,n){"use strict";function r(t,e){var n=t.sourceFactory,r=t.settings;return(0,o.m)({makeLocalSources:n},r,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.InjectSourcesAndSettings=r;var o=n(3)},function(t,e,n){"use strict";function r(t,e){return(0,o.m)({makeLocalSources:function(e,n){return(0,i.mapObjIndexed)(function(t){return t(e,n)},t)}},{},e)}Object.defineProperty(e,"__esModule",{value:!0}),e.InjectSources=r;var o=n(3),i=n(0)},function(t,e,n){"use strict";function r(t){return t&&t.DOM}function o(t,e){return r(t)&&g(e)}function i(t,e){var n={},r=["ui","button"],o=e.classes,i=e.listenOn,s=e.emphasis,c=e.basic,l=e.animated,f=e.label,d=e.icon,v=e.visualState,m=e.social,y=e.size,b=e.shape,_=e.layout,g=e.listenTo;o&&Array.prototype.push.apply(r,o),n.tabindex="0",s&&r.push(s),c&&r.push("basic"),l&&((0,u.isString)(l)?r.push("animated",l):r.push("animated")),f&&((0,u.isString)(f.position)?r.push("labeled "+f.position):r.push("labeled")),d&&r.push("icon"),v&&r.push(v),m&&r.push(m),y&&r.push(y),_&&r.push(_),b&&r.push(b);var w=r?(0,a.reduce)(function(t,e){return t[e]=!0,t},{},r):null,E={};return g&&i&&(E=(0,a.reduce)(function(e,n){return e[n]=t.DOM.select(i).events(n),e},{},g)),E.DOM=p.of((0,h.div)({class:w,attrs:n})),E}function s(t,e){return(0,c.m)(w,t,[i,e])}Object.defineProperty(e,"__esModule",{value:!0}),e.mButton=s;var u=n(1),c=n(3),a=n(0),l=n(2),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),h=n(12),p=f.Observable,d=["mousedown","mouseup","mouseover","mousemove","mouseout","mouseenter","mouseleave","click","dblclick","contextmenu"],v=["keydown","keypress","keyup"],m=["drag","dragcenter","dragleave","drop","dragover","dragstart","dragend"],y=["ontouchcancel","ontouchend","ontouchmove","ontouchstart"],b=["blur","canplay","canplaythrough","change","durationchange","emptied","ended","focus","load","loadeddata","loadedmetadata","mouseenter","mouseleave","pause","play","playing","ratechange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeupdate","unload","volumechange","waiting"],_=(0,a.flatten)(d,v,m,y,b),g=(0,u.bothE)([(0,u.isRecordE)({classes:(0,u.isOptional)((0,u.isArrayOf)(u.isString)),emphasis:(0,u.isOptional)((0,u.isOneOf)(["primary","secondary","positive","negative"])),basic:(0,u.isOptional)(u.isBoolean),animated:(0,u.isOptional)((0,a.either)(u.isBoolean,(0,u.isOneOf)(["fade","vertical"]))),label:(0,u.isOptional)((0,u.isStrictRecord)({position:(0,u.isOneOf)(["left","right"])})),icon:(0,u.isOptional)(u.isBoolean),visualState:(0,u.isOptional)((0,u.isOneOf)(["active","disabled","loading"])),social:(0,u.isOptional)((0,u.isOneOf)(["facebook","twitter","google","vk","linkedin","instagram"," youtube"])),size:(0,u.isOptional)((0,u.isOneOf)(["mini","tiny","small","medium","large","big","huge","massive"])),shape:(0,u.isOptional)((0,u.isOneOf)(["circular"])),layout:(0,u.isOptional)((0,u.isOneOf)(["attached","top attached","bottom attached"," left attached","right attached","fluid","right floated","left floated"])),listenOn:(0,u.isOptional)(u.isString),listenTo:(0,u.isOptional)((0,u.isArrayOf)((0,u.isOneOf)(_)))}),"Button settings has incorrect format!"],[(0,a.either)((0,a.pipe)((0,a.both)((0,a.prop)("listenTo"),(0,a.pipe)((0,a.prop)("listenOn"),(0,a.tap)(function(t){return console.log("tap",t)}))),u.toBoolean),(0,a.complement)((0,a.prop)("listenTo"))),"If property listenTo is set (events to listen to), then property listenOn must also be set (selector to listen on)."]),w={makeLocalSources:null,makeLocalSettings:null,checkPreConditions:o,checkPostConditions:null,mergeSinks:null}},function(t,e,n){"use strict";function r(t,e){return(0,l.eitherE)([h.isNil,"isEventFactoryEventSettings > settings.events is not null"],[(0,l.isStrictRecordE)({custom:(0,l.eitherE)([h.isNil],[(0,l.isHashMapE)(p.isEventName,d)]),DOM:(0,l.eitherE)([h.isNil],[(0,l.isHashMapE)(v,b)])}),"isEventFactoryEventSettings > settings.events does not have the expected type"])(e.events)}function o(t,e){return Boolean(e&&e.events)}function i(t,e){return[t,e].join("_")}function s(t){return function(e){console.log(""+t,e)}}function u(t,e){var n=e.events,r=n.custom,o=n.DOM,u=(0,h.reduce)(function(n,o){return n[o]=r[o](t,e),n},{},(0,h.keys)(r)),c=(0,h.reduce)(function(e,n){var r=o[n];return(0,h.reduce)(function(e,o){var u=r[o],c=i(u,n);return(0,l.assertContract)(l.isNewKey,[e,c],"makeEventFactorySinks : DOM Event definition object leads to event name conflicts for name "+c+"!"),e[c]=t.DOM.select(u).events(n).tap(l.preventDefault).tap(s(c+":")),e},e,(0,h.keys)(r))},{},(0,h.keys)(o));return(0,l.assertContract)(l.hasNoDuplicateKeys,[u,c],"makeEventFactorySinks : Event definition object leads to at least one event name which is BOTH a custom event and a DOM event! (custom : "+(0,l.format)(u)+" ; DOM : "+(0,l.format)(c)+")"),(0,h.merge)(u,c)}function c(t,e,n){var r=(0,h.flatten)((0,l.removeNullsFromArray)([e])),o=(0,h.flatten)((0,l.removeNullsFromArray)([t,e])),i=(0,h.keys)(t),s=(0,l.getSinkNamesFromSinksArray)(r),u=(0,l.getSinkNamesFromSinksArray)(o);return(0,l.assertContract)(l.hasNoCommonValues,[i,s],"mEventFactory > mergeEventFactorySinksWithChildrenSinks : found children sinks with \n           at least one sink name conflicting with an event sink : \n           "+i+" vs. "+s),(0,f.defaultMergeSinkFn)(t,e,n,u)}function a(t,e){return(0,f.m)(g,t,[u,e])}Object.defineProperty(e,"__esModule",{value:!0}),e.makeEventNameFromSelectorAndEvent=i,e.mEventFactory=a;var l=n(1),f=n(3),h=n(0),p=n(13),d=l.isFunction,v=l.isString,m=l.isString,y=h.T,b=(0,l.isHashMapE)(y,m),_=(0,l.checkAndGatherErrors)([[o,"Settings parameter must have an events property!"],[r,"settings' events property has unexpected shape!"]],"checkEventFactoryPreConditions : fails!"),g={makeLocalSources:null,makeLocalSettings:null,checkPreConditions:_,checkPostConditions:null,mergeSinks:c}},function(t,e,n){"use strict";function r(t,e,n,r){return console.error("makeDomainActionDriver: an error occured",t),console.warn("extra info: repository, context, params",e,n,r),t}function o(t){return!!t.then}function i(t){return t instanceof Error}function s(t,e,n){return new l.Subject}function u(t,e){var n=(0,c.mapObjIndexed)(s,e);return function(s){s.map(function(s){console.info("DOMAIN ACTION | ",s);var u=s.context,a=s.command,l=s.payload,f=e[u][a],h=(0,c.tryCatch)(f,r),p=h(t,u,l);o(p)?p.then(function(t){return{request:s,err:null,response:t}}).catch(function(t){return{request:s,err:t,response:null}}).then(function(t){setTimeout(function(){n[u].onNext(t)},0)}):i(p)?setTimeout(function(){n[u].onError(p)},0):setTimeout(function(){n[u].onNext({request:s,err:null,response:p})},0)}).subscribe(function(t){console.log("makeDomainActionDriver",t)});var u=f.merge((0,c.values)(n));return u.getResponse=function(t){return console.warn("getResponse",t),n[t]},u}}Object.defineProperty(e,"__esModule",{value:!0}),e.makeDomainActionDriver=u;var c=n(0),a=n(2),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),f=l.Observable},function(t,e,n){"use strict";function r(t,e,n){return console.error("makeDomainQueryDriver: an error occured",t),console.warn("extra info: params",n),Promise.reject(t)}function o(t,e){return function(n){return{getCurrent:function(n,o){(0,u.assertContract)((0,s.complement)(s.isNil),[e[n]],"makeDomainQueryDriver > getCurrent : Context "+n+" not found in config object!"),(0,u.assertContract)(u.isFunction,[e[n].get],"makeDomainQueryDriver > getCurrent : Context "+n+" has a get property which is not a function!");var c=e[n].get,a=(0,s.tryCatch)(c,r);return i.Observable.fromPromise(a(t,n,o))}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.makeDomainQueryDriver=o;var i=n(2),s=n(0),u=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(101);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(102);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(103);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})})},function(t,e,n){"use strict";function r(t,e,n){var r=e.split("@"),s=i(r,2),u=s[0],c=s[1];if(!o(u,c))throw"Invalid spec for domain query source : "+e;return t=t||{},t.hashTable=t.hashTable||{},t.hashTable[c]=t.hashTable[c]||{},t.hashTable[c][u]=t.hashTable[c][u]||{},t.hashTable[c][u]=n,t.query=function(e,n){return t.hashTable[e][JSON.stringify(n)]},t}function o(t,e){return e&&(0,s.tryCatch)(JSON.parse,s.F)(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.makeDomainQuerySource=r;var s=n(0)},function(t,e,n){"use strict";function r(t,e,n){var r=e.split("@"),s=i(r,2),u=s[0],c=s[1];if(!o(u,c))throw"Invalid spec for document source : "+e;var a=t||{};return a.hashTable=a.hashTable||{},a.hashTable[c]=a.hashTable[c]||{},a.hashTable[c][u]=a.hashTable[c][u]||{},n.subscribe(function(t){a.hashTable[c][u]=t}),a.querySelector=function(t){return a.hashTable[t]},a}function o(t,e){return!!t&&!!e}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.makeMockDocumentSource=r},function(t,e,n){"use strict";function r(t,e){return!!t&&!!e}function o(t){return function(e){return{events:function(n){return t[e][n]}}}}function i(t,e,n){var i=e.split("@"),u=s(i,2),c=u[0],a=u[1];if(!r(c,a))throw"Invalid spec for DOM source : "+e;return t=t||{},t.hashTable=t.hashTable||{},t.hashTable[c]=t.hashTable[c]||{},t.hashTable[c][a]=t.hashTable[c][a]||{},t.hashTable[c][a]=n,t.select=o(t.hashTable),t}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.makeMockDOMSource=i},function(t,e,n){"use strict";function r(t){return t&&1===(0,g.keys)(t).length&&(0,w.isString)((0,g.values)(t)[0].diagram)}function o(t){return(!t.transform||(0,w.isFunction)(t.transform))&&t.outputs&&(0,w.isArray)(t.outputs)&&(!t.analyzeTestResults||(0,w.isFunction)(t.analyzeTestResults))&&(!t.successMessage||(0,w.isString)(t.successMessage))}function i(t){return(0,g.all)(o,(0,g.values)(t))}function s(t){return!u(t)}function u(t){return t.indexOf("!")>-1}function c(t){return"string"==typeof t&&!!t}function a(t,e){return(0,g.all)(function(e){return!!t[e]},e)}function l(){return new O.Subject}function f(t,e){return function(n,r){var o=t[r];if((0,g.isNil)(o))return null;var i=o.outputs,s=o.successMessage,u=e||o.analyzeTestResults;return n.tap((0,g.curry)(u)(g.__,i,s))}}function h(t,e,n){var r=n.waitForFinishDelay||50;return function(n,o){if((0,w.isUndefined)(n))return console.warn("getTestResults: received an undefined sink "+o),C.of([]);var i=t.isEmpty().flatMap(function(e){return e?C.just([]).delay(r):t.last().delay(r).map((0,g.always)([]))}).share(),s=n.catch(function(t){return console.error("error in sink "+o,t),C.just((0,w.makeErrorMessage)(t))}).scan(function(t,n){console.log("runTestScenario : "+o+" receives ",n);var r=e[o].transform||g.identity,i=(0,g.tryCatch)(r,function(t){console.error("runTestScenario > testAccumulatedResults$ > transformFn : ERROR!",t);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return console.warn("while executing tranform function with args",n),["ERROR while executing transform function when computing sink "+o,"Error message : "+t,"Function arguments : "+(0,w.format)(n),"If there is an error message in the arguments, then the error occured before transform, in the sink!","Consult log for more details!"].join("\n")})((0,g.clone)(n));return t.push(i),t},[]);return C.amb(s.sample(i),i).take(1)}}function p(t,e){return(0,g.map)(function(e){return(0,g.map)(function(e){return{diagram:e.diagram[t],values:e.values}},e)},e)}function d(t,e){return t[e]}function v(t,e){return t[e]}function m(t,e,n){function r(t,r){var o=(0,g.keys)(r)[0];if(s(o))return t.sources[o]=t.streams[o]=l(),t;if(!u(o))throw"unknown source format!";var i=o.split("!"),a=_(i,2),f=a[0],h=a[1];if(!c(f))throw"Invalid source name "+f+"!";if(!d(e,f))throw"mock is not defined in settings for source "+f;var p=v(e,f),m=n[o]&&n[o]()||l();return t.streams[o]=m,t.sources[f]=p(t.sources[f],h,m),t}return(0,g.reduce)(r,{sources:{},streams:{}},t)}function y(t){console.error("An error occurred while executing test!",t)}function b(t,e,n,o){(0,w.assertSignature)("runTestScenario",arguments,[{inputs:(0,w.isArrayOf)(r)},{testCase:i},{testFn:w.isFunction},{settings:w.isNullableObject}]);var s=(0,g.defaultTo)({},o),u=s.mocks,c=s.sourceFactory,l=s.errorHandler,d=s.tickDuration,v=s.analyzeTestResults,b=(s.waitForFinishDelay,(0,g.defaultTo)({},u)),_=(0,g.defaultTo)({},c),E=(0,g.defaultTo)(y,l),O=(0,g.defaultTo)(S,d),k=m(t,b,_),N=0!==t.length?Math.max.apply(null,(0,g.map)(function(t){return(0,g.values)(t)[0].diagram.length},t)):0,A=N?x(function(t,e){return e},new Array(N)):[],j=0===A.length?C.empty():(0,g.reduce)(function(e,n){return e.delay(O).concat(C.from(p(n,t)).tap(function(t){var e=(0,g.keys)(t)[0],n=t[e],r=n.diagram,o=n.values||{},i=k.streams[e],s=o&&o["#"]||"#";if(r)switch(r){case"-":break;case"#":i.onError({data:s});break;case"|":i.onCompleted();break;default:var u=o.hasOwnProperty(r)?o[r]:r;console.log("runTestScenario : emitting for source "+e+" "+u),i.onNext(u)}}))},C.empty(),A).share();console.groupCollapsed("runTestScenario: executing test function");var T=(0,g.tryCatch)(n,function(t,e){throw console.error("Tested function exited with an exception :",t),t})(k.sources);if((0,g.isEmpty)(T))throw"Tested component function did not return any sinks. There is no output to test if the component does not produce any sinks!";if(console.groupEnd(),!(0,w.isOptSinks)(T))throw"encountered a sink which is not an observable!";var D=(0,g.mapObjIndexed)(h(j,e,s),T);(0,w.assertContract)(a,[e,(0,g.keys)(D)],"runTestScenario : in test Case, could not find expected ouputs for all sinks ("+(0,g.keys)(D)+")!");var R=(0,g.mapObjIndexed)(f(e,v),D),M=(0,w.removeNullsFromArray)((0,g.values)(R));C.merge(M).subscribe(function(t){return console.warn("Test completed for sink:",t)},function(t){console.error("An error occurred while executing test!",t),E(t)},function(t){return console.warn("Tests completed!")}),j.subscribe(function(t){},function(t){console.error("An error occurred while emitting test inputs!",t),E(t)},function(t){return console.warn("test inputs emitted")})}Object.defineProperty(e,"__esModule",{value:!0}),e.runTestScenario=void 0;var _=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=n(0),w=n(1),E=n(2),O=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(E);O.config.longStackSupport=!0;var C=O.Observable,x=(0,g.addIndex)(g.map),S=5;e.runTestScenario=b}])});